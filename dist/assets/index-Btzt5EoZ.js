var ZC=Object.defineProperty;var S1=n=>{throw TypeError(n)};var ej=(n,e,t)=>e in n?ZC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ie=(n,e,t)=>ej(n,typeof e!="symbol"?e+"":e,t),Ug=(n,e,t)=>e.has(n)||S1("Cannot "+t);var W=(n,e,t)=>(Ug(n,e,"read from private field"),t?t.call(n):e.get(n)),Ye=(n,e,t)=>e.has(n)?S1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),je=(n,e,t,r)=>(Ug(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),it=(n,e,t)=>(Ug(n,e,"access private method"),t);var sf=(n,e,t,r)=>({set _(s){je(n,e,s,t)},get _(){return W(n,e,r)}});function tj(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function ky(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $g={exports:{}},Vu={},zg={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function nj(){if(T1)return ct;T1=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function S(Y,se,Ee){this.props=Y,this.context=se,this.refs=j,this.updater=Ee||_}S.prototype.isReactComponent={},S.prototype.setState=function(Y,se){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,se,"setState")},S.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function A(){}A.prototype=S.prototype;function M(Y,se,Ee){this.props=Y,this.context=se,this.refs=j,this.updater=Ee||_}var P=M.prototype=new A;P.constructor=M,E(P,S.prototype),P.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,B={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(Y,se,Ee){var Xe,ze={},at=null,lt=null;if(se!=null)for(Xe in se.ref!==void 0&&(lt=se.ref),se.key!==void 0&&(at=""+se.key),se)D.call(se,Xe)&&!R.hasOwnProperty(Xe)&&(ze[Xe]=se[Xe]);var dt=arguments.length-2;if(dt===1)ze.children=Ee;else if(1<dt){for(var Ne=Array(dt),Yt=0;Yt<dt;Yt++)Ne[Yt]=arguments[Yt+2];ze.children=Ne}if(Y&&Y.defaultProps)for(Xe in dt=Y.defaultProps,dt)ze[Xe]===void 0&&(ze[Xe]=dt[Xe]);return{$$typeof:n,type:Y,key:at,ref:lt,props:ze,_owner:B.current}}function k(Y,se){return{$$typeof:n,type:Y.type,key:se,ref:Y.ref,props:Y.props,_owner:Y._owner}}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function $(Y){var se={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Ee){return se[Ee]})}var U=/\/+/g;function V(Y,se){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):se.toString(36)}function Pe(Y,se,Ee,Xe,ze){var at=typeof Y;(at==="undefined"||at==="boolean")&&(Y=null);var lt=!1;if(Y===null)lt=!0;else switch(at){case"string":case"number":lt=!0;break;case"object":switch(Y.$$typeof){case n:case e:lt=!0}}if(lt)return lt=Y,ze=ze(lt),Y=Xe===""?"."+V(lt,0):Xe,L(ze)?(Ee="",Y!=null&&(Ee=Y.replace(U,"$&/")+"/"),Pe(ze,se,Ee,"",function(Yt){return Yt})):ze!=null&&(F(ze)&&(ze=k(ze,Ee+(!ze.key||lt&&lt.key===ze.key?"":(""+ze.key).replace(U,"$&/")+"/")+Y)),se.push(ze)),1;if(lt=0,Xe=Xe===""?".":Xe+":",L(Y))for(var dt=0;dt<Y.length;dt++){at=Y[dt];var Ne=Xe+V(at,dt);lt+=Pe(at,se,Ee,Ne,ze)}else if(Ne=x(Y),typeof Ne=="function")for(Y=Ne.call(Y),dt=0;!(at=Y.next()).done;)at=at.value,Ne=Xe+V(at,dt++),lt+=Pe(at,se,Ee,Ne,ze);else if(at==="object")throw se=String(Y),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return lt}function we(Y,se,Ee){if(Y==null)return Y;var Xe=[],ze=0;return Pe(Y,Xe,"","",function(at){return se.call(Ee,at,ze++)}),Xe}function xe(Y){if(Y._status===-1){var se=Y._result;se=se(),se.then(function(Ee){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Ee)},function(Ee){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Ee)}),Y._status===-1&&(Y._status=0,Y._result=se)}if(Y._status===1)return Y._result.default;throw Y._result}var ve={current:null},Q={transition:null},le={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Q,ReactCurrentOwner:B};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ct.Children={map:we,forEach:function(Y,se,Ee){we(Y,function(){se.apply(this,arguments)},Ee)},count:function(Y){var se=0;return we(Y,function(){se++}),se},toArray:function(Y){return we(Y,function(se){return se})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},ct.Component=S,ct.Fragment=t,ct.Profiler=s,ct.PureComponent=M,ct.StrictMode=r,ct.Suspense=h,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ct.act=ce,ct.cloneElement=function(Y,se,Ee){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Xe=E({},Y.props),ze=Y.key,at=Y.ref,lt=Y._owner;if(se!=null){if(se.ref!==void 0&&(at=se.ref,lt=B.current),se.key!==void 0&&(ze=""+se.key),Y.type&&Y.type.defaultProps)var dt=Y.type.defaultProps;for(Ne in se)D.call(se,Ne)&&!R.hasOwnProperty(Ne)&&(Xe[Ne]=se[Ne]===void 0&&dt!==void 0?dt[Ne]:se[Ne])}var Ne=arguments.length-2;if(Ne===1)Xe.children=Ee;else if(1<Ne){dt=Array(Ne);for(var Yt=0;Yt<Ne;Yt++)dt[Yt]=arguments[Yt+2];Xe.children=dt}return{$$typeof:n,type:Y.type,key:ze,ref:at,props:Xe,_owner:lt}},ct.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:i,_context:Y},Y.Consumer=Y},ct.createElement=T,ct.createFactory=function(Y){var se=T.bind(null,Y);return se.type=Y,se},ct.createRef=function(){return{current:null}},ct.forwardRef=function(Y){return{$$typeof:u,render:Y}},ct.isValidElement=F,ct.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:xe}},ct.memo=function(Y,se){return{$$typeof:p,type:Y,compare:se===void 0?null:se}},ct.startTransition=function(Y){var se=Q.transition;Q.transition={};try{Y()}finally{Q.transition=se}},ct.unstable_act=ce,ct.useCallback=function(Y,se){return ve.current.useCallback(Y,se)},ct.useContext=function(Y){return ve.current.useContext(Y)},ct.useDebugValue=function(){},ct.useDeferredValue=function(Y){return ve.current.useDeferredValue(Y)},ct.useEffect=function(Y,se){return ve.current.useEffect(Y,se)},ct.useId=function(){return ve.current.useId()},ct.useImperativeHandle=function(Y,se,Ee){return ve.current.useImperativeHandle(Y,se,Ee)},ct.useInsertionEffect=function(Y,se){return ve.current.useInsertionEffect(Y,se)},ct.useLayoutEffect=function(Y,se){return ve.current.useLayoutEffect(Y,se)},ct.useMemo=function(Y,se){return ve.current.useMemo(Y,se)},ct.useReducer=function(Y,se,Ee){return ve.current.useReducer(Y,se,Ee)},ct.useRef=function(Y){return ve.current.useRef(Y)},ct.useState=function(Y){return ve.current.useState(Y)},ct.useSyncExternalStore=function(Y,se,Ee){return ve.current.useSyncExternalStore(Y,se,Ee)},ct.useTransition=function(){return ve.current.useTransition()},ct.version="18.3.1",ct}var C1;function Iy(){return C1||(C1=1,zg.exports=nj()),zg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function rj(){if(j1)return Vu;j1=1;var n=Iy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,h,p){var g,y={},x=null,_=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)r.call(h,g)&&!i.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:x,ref:_,props:y,_owner:s.current}}return Vu.Fragment=t,Vu.jsx=o,Vu.jsxs=o,Vu}var k1;function sj(){return k1||(k1=1,$g.exports=rj()),$g.exports}var c=sj(),C=Iy();const re=ky(C),ij=tj({__proto__:null,default:re},[C]);var af={},Bg={exports:{}},Pr={},qg={exports:{}},Hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function aj(){return I1||(I1=1,function(n){function e(Q,le){var ce=Q.length;Q.push(le);e:for(;0<ce;){var Y=ce-1>>>1,se=Q[Y];if(0<s(se,le))Q[Y]=le,Q[ce]=se,ce=Y;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var le=Q[0],ce=Q.pop();if(ce!==le){Q[0]=ce;e:for(var Y=0,se=Q.length,Ee=se>>>1;Y<Ee;){var Xe=2*(Y+1)-1,ze=Q[Xe],at=Xe+1,lt=Q[at];if(0>s(ze,ce))at<se&&0>s(lt,ze)?(Q[Y]=lt,Q[at]=ce,Y=at):(Q[Y]=ze,Q[Xe]=ce,Y=Xe);else if(at<se&&0>s(lt,ce))Q[Y]=lt,Q[at]=ce,Y=at;else break e}}return le}function s(Q,le){var ce=Q.sortIndex-le.sortIndex;return ce!==0?ce:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var h=[],p=[],g=1,y=null,x=3,_=!1,E=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Q){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=Q)r(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=t(p)}}function L(Q){if(j=!1,P(Q),!E)if(t(h)!==null)E=!0,xe(D);else{var le=t(p);le!==null&&ve(L,le.startTime-Q)}}function D(Q,le){E=!1,j&&(j=!1,A(T),T=-1),_=!0;var ce=x;try{for(P(le),y=t(h);y!==null&&(!(y.expirationTime>le)||Q&&!$());){var Y=y.callback;if(typeof Y=="function"){y.callback=null,x=y.priorityLevel;var se=Y(y.expirationTime<=le);le=n.unstable_now(),typeof se=="function"?y.callback=se:y===t(h)&&r(h),P(le)}else r(h);y=t(h)}if(y!==null)var Ee=!0;else{var Xe=t(p);Xe!==null&&ve(L,Xe.startTime-le),Ee=!1}return Ee}finally{y=null,x=ce,_=!1}}var B=!1,R=null,T=-1,k=5,F=-1;function $(){return!(n.unstable_now()-F<k)}function U(){if(R!==null){var Q=n.unstable_now();F=Q;var le=!0;try{le=R(!0,Q)}finally{le?V():(B=!1,R=null)}}else B=!1}var V;if(typeof M=="function")V=function(){M(U)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,we=Pe.port2;Pe.port1.onmessage=U,V=function(){we.postMessage(null)}}else V=function(){S(U,0)};function xe(Q){R=Q,B||(B=!0,V())}function ve(Q,le){T=S(function(){Q(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){E||_||(E=!0,xe(D))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ce=x;x=le;try{return Q()}finally{x=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=x;x=Q;try{return le()}finally{x=ce}},n.unstable_scheduleCallback=function(Q,le,ce){var Y=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Y+ce:Y):ce=Y,Q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ce+se,Q={id:g++,callback:le,priorityLevel:Q,startTime:ce,expirationTime:se,sortIndex:-1},ce>Y?(Q.sortIndex=ce,e(p,Q),t(h)===null&&Q===t(p)&&(j?(A(T),T=-1):j=!0,ve(L,ce-Y))):(Q.sortIndex=se,e(h,Q),E||_||(E=!0,xe(D))),Q},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(Q){var le=x;return function(){var ce=x;x=le;try{return Q.apply(this,arguments)}finally{x=ce}}}}(Hg)),Hg}var R1;function oj(){return R1||(R1=1,qg.exports=aj()),qg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function lj(){if(P1)return Pr;P1=1;var n=Iy(),e=oj();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(a){return h.call(y,a)?!0:h.call(g,a)?!1:p.test(a)?y[a]=!0:(g[a]=!0,!1)}function _(a,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function E(a,l,d,m){if(l===null||typeof l>"u"||_(a,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function j(a,l,d,m,v,b,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=b,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new j(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];S[l]=new j(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new j(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new j(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new j(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new j(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new j(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new j(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new j(a,5,!1,a.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function M(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(A,M);S[l]=new j(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(A,M);S[l]=new j(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(A,M);S[l]=new j(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new j(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new j(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,l,d,m){var v=S.hasOwnProperty(l)?S[l]:null;(v!==null?v.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,d,v,m)&&(d=null),m||v===null?x(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):v.mustUseProperty?a[v.propertyName]=d===null?v.type===3?!1:"":d:(l=v.attributeName,m=v.attributeNamespace,d===null?a.removeAttribute(l):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,m?a.setAttributeNS(m,l,d):a.setAttribute(l,d))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),B=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),$=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),Q=Symbol.iterator;function le(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Object.assign,Y;function se(a){if(Y===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Y=l&&l[1]||""}return`
`+Y+a}var Ee=!1;function Xe(a,l){if(!a||Ee)return"";Ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var m=ee}Reflect.construct(a,[],l)}else{try{l.call()}catch(ee){m=ee}a.call(l.prototype)}else{try{throw Error()}catch(ee){m=ee}a()}}catch(ee){if(ee&&m&&typeof ee.stack=="string"){for(var v=ee.stack.split(`
`),b=m.stack.split(`
`),I=v.length-1,z=b.length-1;1<=I&&0<=z&&v[I]!==b[z];)z--;for(;1<=I&&0<=z;I--,z--)if(v[I]!==b[z]){if(I!==1||z!==1)do if(I--,z--,0>z||v[I]!==b[z]){var q=`
`+v[I].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=I&&0<=z);break}}}finally{Ee=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?se(a):""}function ze(a){switch(a.tag){case 5:return se(a.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return a=Xe(a.type,!1),a;case 11:return a=Xe(a.type.render,!1),a;case 1:return a=Xe(a.type,!0),a;default:return""}}function at(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case R:return"Fragment";case B:return"Portal";case k:return"Profiler";case T:return"StrictMode";case V:return"Suspense";case Pe:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case $:return(a.displayName||"Context")+".Consumer";case F:return(a._context.displayName||"Context")+".Provider";case U:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case we:return l=a.displayName||null,l!==null?l:at(a.type)||"Memo";case xe:l=a._payload,a=a._init;try{return at(a(l))}catch{}}return null}function lt(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return at(l);case 8:return l===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function dt(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ne(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Yt(a){var l=Ne(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,b=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(I){m=""+I,b.call(this,I)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Gr(a){a._valueTracker||(a._valueTracker=Yt(a))}function la(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=Ne(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function Jn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ni(a,l){var d=l.checked;return ce({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function ca(a,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=dt(l.value!=null?l.value:d),a._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ua(a,l){l=l.checked,l!=null&&P(a,"checked",l,!1)}function To(a,l){ua(a,l);var d=dt(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?da(a,l.type,d):l.hasOwnProperty("defaultValue")&&da(a,l.type,dt(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Cl(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function da(a,l,d){(l!=="number"||Jn(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var ds=Array.isArray;function Ln(a,l,d,m){if(a=a.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<a.length;d++)v=l.hasOwnProperty("$"+a[d].value),a[d].selected!==v&&(a[d].selected=v),v&&m&&(a[d].defaultSelected=!0)}else{for(d=""+dt(d),l=null,v=0;v<a.length;v++){if(a[v].value===d){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function hs(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Si(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(t(92));if(ds(d)){if(1<d.length)throw Error(t(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:dt(d)}}function Us(a,l){var d=dt(l.value),m=dt(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),m!=null&&(a.defaultValue=""+m)}function br(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Ot(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ln(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Ot(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Or,Co=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,v){MSApp.execUnsafeLocalFunction(function(){return a(l,d,m,v)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Or.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Fn(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zs=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(a){zs.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),$s[l]=$s[a]})});function ha(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||$s.hasOwnProperty(a)&&$s[a]?(""+l).trim():l+"px"}function jo(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,v=ha(d,l[d],m);d==="float"&&(d="cssFloat"),m?a.setProperty(d,v):a[d]=v}}var fa=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bs(a,l){if(l){if(fa[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function pa(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function ma(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ti=null,Er=null,Lr=null;function ps(a){if(a=Nu(a)){if(typeof Ti!="function")throw Error(t(280));var l=a.stateNode;l&&(l=xh(l),Ti(a.stateNode,a.type,l))}}function ur(a){Er?Lr?Lr.push(a):Lr=[a]:Er=a}function ko(){if(Er){var a=Er,l=Lr;if(Lr=Er=null,ps(a),l)for(a=0;a<l.length;a++)ps(l[a])}}function Ci(a,l){return a(l)}function H(){}var G=!1;function te(a,l,d){if(G)return a(l,d);G=!0;try{return Ci(a,l,d)}finally{G=!1,(Er!==null||Lr!==null)&&(H(),ko())}}function ae(a,l){var d=a.stateNode;if(d===null)return null;var m=xh(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(t(231,l,typeof d));return d}var Se=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Se=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch{Se=!1}function Be(a,l,d,m,v,b,I,z,q){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(d,ee)}catch(he){this.onError(he)}}var Te=!1,Me=null,ge=!1,Qe=null,nt={onError:function(a){Te=!0,Me=a}};function kt(a,l,d,m,v,b,I,z,q){Te=!1,Me=null,Be.apply(nt,arguments)}function cn(a,l,d,m,v,b,I,z,q){if(kt.apply(this,arguments),Te){if(Te){var ee=Me;Te=!1,Me=null}else throw Error(t(198));ge||(ge=!0,Qe=ee)}}function pt(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,l.flags&4098&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Nt(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function It(a){if(pt(a)!==a)throw Error(t(188))}function ms(a){var l=a.alternate;if(!l){if(l=pt(a),l===null)throw Error(t(188));return l!==a?null:a}for(var d=a,m=l;;){var v=d.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){d=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===d)return It(v),a;if(b===m)return It(v),l;b=b.sibling}throw Error(t(188))}if(d.return!==m.return)d=v,m=b;else{for(var I=!1,z=v.child;z;){if(z===d){I=!0,d=v,m=b;break}if(z===m){I=!0,m=v,d=b;break}z=z.sibling}if(!I){for(z=b.child;z;){if(z===d){I=!0,d=b,m=v;break}if(z===m){I=!0,m=b,d=v;break}z=z.sibling}if(!I)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?a:l}function gs(a){return a=ms(a),a!==null?Zn(a):null}function Zn(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Zn(a);if(l!==null)return l;a=a.sibling}return null}var Vn=e.unstable_scheduleCallback,ji=e.unstable_cancelCallback,qs=e.unstable_shouldYield,ys=e.unstable_requestPaint,Rt=e.unstable_now,ki=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,Kt=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,vs=e.unstable_LowPriority,Qt=e.unstable_IdlePriority,Nr=null,er=null;function jl(a){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Nr,a,void 0,(a.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Xd,lu=Math.log,Gd=Math.LN2;function Xd(a){return a>>>=0,a===0?32:31-(lu(a)/Gd|0)|0}var kl=64,Il=4194304;function ga(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Io(a,l){var d=a.pendingLanes;if(d===0)return 0;var m=0,v=a.suspendedLanes,b=a.pingedLanes,I=d&268435455;if(I!==0){var z=I&~v;z!==0?m=ga(z):(b&=I,b!==0&&(m=ga(b)))}else I=d&~v,I!==0?m=ga(I):b!==0&&(m=ga(b));if(m===0)return 0;if(l!==0&&l!==m&&!(l&v)&&(v=m&-m,b=l&-l,v>=b||v===16&&(b&4194240)!==0))return l;if(m&4&&(m|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)d=31-dr(l),v=1<<d,m|=a[d],l&=~v;return m}function gm(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes;0<b;){var I=31-dr(b),z=1<<I,q=v[I];q===-1?(!(z&d)||z&m)&&(v[I]=gm(z,l)):q<=l&&(a.expiredLanes|=z),b&=~z}}function Fr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ro(){var a=kl;return kl<<=1,!(kl&4194240)&&(kl=64),a}function ya(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function va(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-dr(l),a[l]=d}function $t(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<d;){var v=31-dr(d),b=1<<v;l[v]=0,m[v]=-1,a[v]=-1,d&=~b}}function xa(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-dr(d),v=1<<m;v&l|a[m]&l&&(a[m]|=l),d&=~v}}var mt=0;function wa(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Jd,Rl,Zd,eh,th,cu=!1,Hs=[],$n=null,xs=null,ws=null,_a=new Map,Xr=new Map,Ws=[],ym="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(a,l){switch(a){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":_a.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(l.pointerId)}}function Sr(a,l,d,m,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},l!==null&&(l=Nu(l),l!==null&&Rl(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function vm(a,l,d,m,v){switch(l){case"focusin":return $n=Sr($n,a,l,d,m,v),!0;case"dragenter":return xs=Sr(xs,a,l,d,m,v),!0;case"mouseover":return ws=Sr(ws,a,l,d,m,v),!0;case"pointerover":var b=v.pointerId;return _a.set(b,Sr(_a.get(b)||null,a,l,d,m,v)),!0;case"gotpointercapture":return b=v.pointerId,Xr.set(b,Sr(Xr.get(b)||null,a,l,d,m,v)),!0}return!1}function rh(a){var l=Oo(a.target);if(l!==null){var d=pt(l);if(d!==null){if(l=d.tag,l===13){if(l=Nt(d),l!==null){a.blockedOn=l,th(a.priority,function(){Zd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ri(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Pl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);fs=m,d.target.dispatchEvent(m),fs=null}else return l=Nu(d),l!==null&&Rl(l),a.blockedOn=d,!1;l.shift()}return!0}function Po(a,l,d){Ri(a)&&d.delete(l)}function sh(){cu=!1,$n!==null&&Ri($n)&&($n=null),xs!==null&&Ri(xs)&&(xs=null),ws!==null&&Ri(ws)&&(ws=null),_a.forEach(Po),Xr.forEach(Po)}function _s(a,l){a.blockedOn===l&&(a.blockedOn=null,cu||(cu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sh)))}function bs(a){function l(v){return _s(v,a)}if(0<Hs.length){_s(Hs[0],a);for(var d=1;d<Hs.length;d++){var m=Hs[d];m.blockedOn===a&&(m.blockedOn=null)}}for($n!==null&&_s($n,a),xs!==null&&_s(xs,a),ws!==null&&_s(ws,a),_a.forEach(l),Xr.forEach(l),d=0;d<Ws.length;d++)m=Ws[d],m.blockedOn===a&&(m.blockedOn=null);for(;0<Ws.length&&(d=Ws[0],d.blockedOn===null);)rh(d),d.blockedOn===null&&Ws.shift()}var Pi=L.ReactCurrentBatchConfig,ba=!0;function Zt(a,l,d,m){var v=mt,b=Pi.transition;Pi.transition=null;try{mt=1,uu(a,l,d,m)}finally{mt=v,Pi.transition=b}}function xm(a,l,d,m){var v=mt,b=Pi.transition;Pi.transition=null;try{mt=4,uu(a,l,d,m)}finally{mt=v,Pi.transition=b}}function uu(a,l,d,m){if(ba){var v=Pl(a,l,d,m);if(v===null)Im(a,l,m,Ao,d),nh(a,m);else if(vm(v,a,l,d,m))m.stopPropagation();else if(nh(a,m),l&4&&-1<ym.indexOf(a)){for(;v!==null;){var b=Nu(v);if(b!==null&&Jd(b),b=Pl(a,l,d,m),b===null&&Im(a,l,m,Ao,d),b===v)break;v=b}v!==null&&m.stopPropagation()}else Im(a,l,m,null,d)}}var Ao=null;function Pl(a,l,d,m){if(Ao=null,a=ma(m),a=Oo(a),a!==null)if(l=pt(a),l===null)a=null;else if(d=l.tag,d===13){if(a=Nt(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Ao=a,null}function du(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ki()){case xt:return 1;case Kt:return 4;case Un:case vs:return 16;case Qt:return 536870912;default:return 16}default:return 16}}var Vr=null,Al=null,Tr=null;function hu(){if(Tr)return Tr;var a,l=Al,d=l.length,m,v="value"in Vr?Vr.value:Vr.textContent,b=v.length;for(a=0;a<d&&l[a]===v[a];a++);var I=d-a;for(m=1;m<=I&&l[d-m]===v[b-m];m++);return Tr=v.slice(a,1<m?1-m:void 0)}function Dl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ys(){return!0}function fu(){return!1}function zn(a){function l(d,m,v,b,I){this._reactName=d,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(d=a[z],this[z]=d?d(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ys:fu,this.isPropagationStopped=fu,this}return ce(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),l}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=zn(Es),Ks=ce({},Es,{view:0,detail:0}),wm=zn(Ks),Ol,Ai,Ea,Do=ce({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ea&&(Ea&&a.type==="mousemove"?(Ol=a.screenX-Ea.screenX,Ai=a.screenY-Ea.screenY):Ai=Ol=0,Ea=a),Ol)},movementY:function(a){return"movementY"in a?a.movementY:Ai}}),Ll=zn(Do),pu=ce({},Do,{dataTransfer:0}),ih=zn(pu),Fl=ce({},Ks,{relatedTarget:0}),Vl=zn(Fl),ah=ce({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Di=zn(ah),oh=ce({},Es,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),lh=zn(oh),ch=ce({},Es,{data:0}),mu=zn(ch),Ul={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=uh[a])?!!l[a]:!1}function Qs(){return dh}var f=ce({},Ks,{key:function(a){if(a.key){var l=Ul[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Dl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?hr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(a){return a.type==="keypress"?Dl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Dl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),w=zn(f),N=ce({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=zn(N),X=ce({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),ne=zn(X),ye=ce({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lt=zn(ye),bn=ce({},Do,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),wt=zn(bn),jn=[9,13,27,32],yn=u&&"CompositionEvent"in window,Jr=null;u&&"documentMode"in document&&(Jr=document.documentMode);var Ur=u&&"TextEvent"in window&&!Jr,Mo=u&&(!yn||Jr&&8<Jr&&11>=Jr),$l=" ",xx=!1;function wx(a,l){switch(a){case"keyup":return jn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var zl=!1;function GT(a,l){switch(a){case"compositionend":return _x(l);case"keypress":return l.which!==32?null:(xx=!0,$l);case"textInput":return a=l.data,a===$l&&xx?null:a;default:return null}}function XT(a,l){if(zl)return a==="compositionend"||!yn&&wx(a,l)?(a=hu(),Tr=Al=Vr=null,zl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Mo&&l.locale!=="ko"?null:l.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!JT[a.type]:l==="textarea"}function Ex(a,l,d,m){ur(m),l=gh(l,"onChange"),0<l.length&&(d=new Ml("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var gu=null,yu=null;function ZT(a){$x(a,0)}function hh(a){var l=Yl(a);if(la(l))return a}function eC(a,l){if(a==="change")return l}var Nx=!1;if(u){var _m;if(u){var bm="oninput"in document;if(!bm){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),bm=typeof Sx.oninput=="function"}_m=bm}else _m=!1;Nx=_m&&(!document.documentMode||9<document.documentMode)}function Tx(){gu&&(gu.detachEvent("onpropertychange",Cx),yu=gu=null)}function Cx(a){if(a.propertyName==="value"&&hh(yu)){var l=[];Ex(l,yu,a,ma(a)),te(ZT,l)}}function tC(a,l,d){a==="focusin"?(Tx(),gu=l,yu=d,gu.attachEvent("onpropertychange",Cx)):a==="focusout"&&Tx()}function nC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return hh(yu)}function rC(a,l){if(a==="click")return hh(l)}function sC(a,l){if(a==="input"||a==="change")return hh(l)}function iC(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ns=typeof Object.is=="function"?Object.is:iC;function vu(a,l){if(Ns(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var v=d[m];if(!h.call(l,v)||!Ns(a[v],l[v]))return!1}return!0}function jx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function kx(a,l){var d=jx(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=jx(d)}}function Ix(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Ix(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Rx(){for(var a=window,l=Jn();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Jn(a.document)}return l}function Em(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function aC(a){var l=Rx(),d=a.focusedElem,m=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&Ix(d.ownerDocument.documentElement,d)){if(m!==null&&Em(d)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var v=d.textContent.length,b=Math.min(m.start,v);m=m.end===void 0?b:Math.min(m.end,v),!a.extend&&b>m&&(v=m,m=b,b=v),v=kx(d,b);var I=kx(d,m);v&&I&&(a.rangeCount!==1||a.anchorNode!==v.node||a.anchorOffset!==v.offset||a.focusNode!==I.node||a.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),a.removeAllRanges(),b>m?(a.addRange(l),a.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var oC=u&&"documentMode"in document&&11>=document.documentMode,Bl=null,Nm=null,xu=null,Sm=!1;function Px(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sm||Bl==null||Bl!==Jn(m)||(m=Bl,"selectionStart"in m&&Em(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),xu&&vu(xu,m)||(xu=m,m=gh(Nm,"onSelect"),0<m.length&&(l=new Ml("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=Bl)))}function fh(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var ql={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},Tm={},Ax={};u&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function ph(a){if(Tm[a])return Tm[a];if(!ql[a])return a;var l=ql[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in Ax)return Tm[a]=l[d];return a}var Dx=ph("animationend"),Mx=ph("animationiteration"),Ox=ph("animationstart"),Lx=ph("transitionend"),Fx=new Map,Vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(a,l){Fx.set(a,l),i(l,[a])}for(var Cm=0;Cm<Vx.length;Cm++){var jm=Vx[Cm],lC=jm.toLowerCase(),cC=jm[0].toUpperCase()+jm.slice(1);Na(lC,"on"+cC)}Na(Dx,"onAnimationEnd"),Na(Mx,"onAnimationIteration"),Na(Ox,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(Lx,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function Ux(a,l,d){var m=a.type||"unknown-event";a.currentTarget=d,cn(m,l,void 0,a),a.currentTarget=null}function $x(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],v=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var I=m.length-1;0<=I;I--){var z=m[I],q=z.instance,ee=z.currentTarget;if(z=z.listener,q!==b&&v.isPropagationStopped())break e;Ux(v,z,ee),b=q}else for(I=0;I<m.length;I++){if(z=m[I],q=z.instance,ee=z.currentTarget,z=z.listener,q!==b&&v.isPropagationStopped())break e;Ux(v,z,ee),b=q}}}if(ge)throw a=Qe,ge=!1,Qe=null,a}function Gt(a,l){var d=l[Om];d===void 0&&(d=l[Om]=new Set);var m=a+"__bubble";d.has(m)||(zx(l,a,2,!1),d.add(m))}function km(a,l,d){var m=0;l&&(m|=4),zx(d,a,m,l)}var mh="_reactListening"+Math.random().toString(36).slice(2);function _u(a){if(!a[mh]){a[mh]=!0,r.forEach(function(d){d!=="selectionchange"&&(uC.has(d)||km(d,!1,a),km(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[mh]||(l[mh]=!0,km("selectionchange",!1,l))}}function zx(a,l,d,m){switch(du(l)){case 1:var v=Zt;break;case 4:v=xm;break;default:v=uu}d=v.bind(null,l,d,a),v=void 0,!Se||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(l,d,{capture:!0,passive:v}):a.addEventListener(l,d,!0):v!==void 0?a.addEventListener(l,d,{passive:v}):a.addEventListener(l,d,!1)}function Im(a,l,d,m,v){var b=m;if(!(l&1)&&!(l&2)&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var z=m.stateNode.containerInfo;if(z===v||z.nodeType===8&&z.parentNode===v)break;if(I===4)for(I=m.return;I!==null;){var q=I.tag;if((q===3||q===4)&&(q=I.stateNode.containerInfo,q===v||q.nodeType===8&&q.parentNode===v))return;I=I.return}for(;z!==null;){if(I=Oo(z),I===null)return;if(q=I.tag,q===5||q===6){m=b=I;continue e}z=z.parentNode}}m=m.return}te(function(){var ee=b,he=ma(d),pe=[];e:{var de=Fx.get(a);if(de!==void 0){var Ce=Ml,Oe=a;switch(a){case"keypress":if(Dl(d)===0)break e;case"keydown":case"keyup":Ce=w;break;case"focusin":Oe="focus",Ce=Vl;break;case"focusout":Oe="blur",Ce=Vl;break;case"beforeblur":case"afterblur":Ce=Vl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=ne;break;case Dx:case Mx:case Ox:Ce=Di;break;case Lx:Ce=Lt;break;case"scroll":Ce=wm;break;case"wheel":Ce=wt;break;case"copy":case"cut":case"paste":Ce=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=O}var Fe=(l&4)!==0,fn=!Fe&&a==="scroll",J=Fe?de!==null?de+"Capture":null:de;Fe=[];for(var K=ee,Z;K!==null;){Z=K;var me=Z.stateNode;if(Z.tag===5&&me!==null&&(Z=me,J!==null&&(me=ae(K,J),me!=null&&Fe.push(bu(K,me,Z)))),fn)break;K=K.return}0<Fe.length&&(de=new Ce(de,Oe,null,d,he),pe.push({event:de,listeners:Fe}))}}if(!(l&7)){e:{if(de=a==="mouseover"||a==="pointerover",Ce=a==="mouseout"||a==="pointerout",de&&d!==fs&&(Oe=d.relatedTarget||d.fromElement)&&(Oo(Oe)||Oe[Mi]))break e;if((Ce||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,Ce?(Oe=d.relatedTarget||d.toElement,Ce=ee,Oe=Oe?Oo(Oe):null,Oe!==null&&(fn=pt(Oe),Oe!==fn||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ce=null,Oe=ee),Ce!==Oe)){if(Fe=Ll,me="onMouseLeave",J="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=O,me="onPointerLeave",J="onPointerEnter",K="pointer"),fn=Ce==null?de:Yl(Ce),Z=Oe==null?de:Yl(Oe),de=new Fe(me,K+"leave",Ce,d,he),de.target=fn,de.relatedTarget=Z,me=null,Oo(he)===ee&&(Fe=new Fe(J,K+"enter",Oe,d,he),Fe.target=Z,Fe.relatedTarget=fn,me=Fe),fn=me,Ce&&Oe)t:{for(Fe=Ce,J=Oe,K=0,Z=Fe;Z;Z=Hl(Z))K++;for(Z=0,me=J;me;me=Hl(me))Z++;for(;0<K-Z;)Fe=Hl(Fe),K--;for(;0<Z-K;)J=Hl(J),Z--;for(;K--;){if(Fe===J||J!==null&&Fe===J.alternate)break t;Fe=Hl(Fe),J=Hl(J)}Fe=null}else Fe=null;Ce!==null&&Bx(pe,de,Ce,Fe,!1),Oe!==null&&fn!==null&&Bx(pe,fn,Oe,Fe,!0)}}e:{if(de=ee?Yl(ee):window,Ce=de.nodeName&&de.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&de.type==="file")var Ve=eC;else if(bx(de))if(Nx)Ve=sC;else{Ve=nC;var He=tC}else(Ce=de.nodeName)&&Ce.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ve=rC);if(Ve&&(Ve=Ve(a,ee))){Ex(pe,Ve,d,he);break e}He&&He(a,de,ee),a==="focusout"&&(He=de._wrapperState)&&He.controlled&&de.type==="number"&&da(de,"number",de.value)}switch(He=ee?Yl(ee):window,a){case"focusin":(bx(He)||He.contentEditable==="true")&&(Bl=He,Nm=ee,xu=null);break;case"focusout":xu=Nm=Bl=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Px(pe,d,he);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":Px(pe,d,he)}var We;if(yn)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else zl?wx(a,d)&&(Ze="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ze="onCompositionStart");Ze&&(Mo&&d.locale!=="ko"&&(zl||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&zl&&(We=hu()):(Vr=he,Al="value"in Vr?Vr.value:Vr.textContent,zl=!0)),He=gh(ee,Ze),0<He.length&&(Ze=new mu(Ze,a,null,d,he),pe.push({event:Ze,listeners:He}),We?Ze.data=We:(We=_x(d),We!==null&&(Ze.data=We)))),(We=Ur?GT(a,d):XT(a,d))&&(ee=gh(ee,"onBeforeInput"),0<ee.length&&(he=new mu("onBeforeInput","beforeinput",null,d,he),pe.push({event:he,listeners:ee}),he.data=We))}$x(pe,l)})}function bu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function gh(a,l){for(var d=l+"Capture",m=[];a!==null;){var v=a,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=ae(a,d),b!=null&&m.unshift(bu(a,b,v)),b=ae(a,l),b!=null&&m.push(bu(a,b,v))),a=a.return}return m}function Hl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Bx(a,l,d,m,v){for(var b=l._reactName,I=[];d!==null&&d!==m;){var z=d,q=z.alternate,ee=z.stateNode;if(q!==null&&q===m)break;z.tag===5&&ee!==null&&(z=ee,v?(q=ae(d,b),q!=null&&I.unshift(bu(d,q,z))):v||(q=ae(d,b),q!=null&&I.push(bu(d,q,z)))),d=d.return}I.length!==0&&a.push({event:l,listeners:I})}var dC=/\r\n?/g,hC=/\u0000|\uFFFD/g;function qx(a){return(typeof a=="string"?a:""+a).replace(dC,`
`).replace(hC,"")}function yh(a,l,d){if(l=qx(l),qx(a)!==l&&d)throw Error(t(425))}function vh(){}var Rm=null,Pm=null;function Am(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,fC=typeof clearTimeout=="function"?clearTimeout:void 0,Hx=typeof Promise=="function"?Promise:void 0,pC=typeof queueMicrotask=="function"?queueMicrotask:typeof Hx<"u"?function(a){return Hx.resolve(null).then(a).catch(mC)}:Dm;function mC(a){setTimeout(function(){throw a})}function Mm(a,l){var d=l,m=0;do{var v=d.nextSibling;if(a.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(m===0){a.removeChild(v),bs(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=v}while(d);bs(l)}function Sa(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Wx(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Wl=Math.random().toString(36).slice(2),Gs="__reactFiber$"+Wl,Eu="__reactProps$"+Wl,Mi="__reactContainer$"+Wl,Om="__reactEvents$"+Wl,gC="__reactListeners$"+Wl,yC="__reactHandles$"+Wl;function Oo(a){var l=a[Gs];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Mi]||d[Gs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=Wx(a);a!==null;){if(d=a[Gs])return d;a=Wx(a)}return l}a=d,d=a.parentNode}return null}function Nu(a){return a=a[Gs]||a[Mi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Yl(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function xh(a){return a[Eu]||null}var Lm=[],Kl=-1;function Ta(a){return{current:a}}function Xt(a){0>Kl||(a.current=Lm[Kl],Lm[Kl]=null,Kl--)}function Bt(a,l){Kl++,Lm[Kl]=a.current,a.current=l}var Ca={},tr=Ta(Ca),Cr=Ta(!1),Lo=Ca;function Ql(a,l){var d=a.type.contextTypes;if(!d)return Ca;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in d)v[b]=l[b];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=v),v}function jr(a){return a=a.childContextTypes,a!=null}function wh(){Xt(Cr),Xt(tr)}function Yx(a,l,d){if(tr.current!==Ca)throw Error(t(168));Bt(tr,l),Bt(Cr,d)}function Kx(a,l,d){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var v in m)if(!(v in l))throw Error(t(108,lt(a)||"Unknown",v));return ce({},d,m)}function _h(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ca,Lo=tr.current,Bt(tr,a),Bt(Cr,Cr.current),!0}function Qx(a,l,d){var m=a.stateNode;if(!m)throw Error(t(169));d?(a=Kx(a,l,Lo),m.__reactInternalMemoizedMergedChildContext=a,Xt(Cr),Xt(tr),Bt(tr,a)):Xt(Cr),Bt(Cr,d)}var Oi=null,bh=!1,Fm=!1;function Gx(a){Oi===null?Oi=[a]:Oi.push(a)}function vC(a){bh=!0,Gx(a)}function ja(){if(!Fm&&Oi!==null){Fm=!0;var a=0,l=mt;try{var d=Oi;for(mt=1;a<d.length;a++){var m=d[a];do m=m(!0);while(m!==null)}Oi=null,bh=!1}catch(v){throw Oi!==null&&(Oi=Oi.slice(a+1)),Vn(xt,ja),v}finally{mt=l,Fm=!1}}return null}var Gl=[],Xl=0,Eh=null,Nh=0,Zr=[],es=0,Fo=null,Li=1,Fi="";function Vo(a,l){Gl[Xl++]=Nh,Gl[Xl++]=Eh,Eh=a,Nh=l}function Xx(a,l,d){Zr[es++]=Li,Zr[es++]=Fi,Zr[es++]=Fo,Fo=a;var m=Li;a=Fi;var v=32-dr(m)-1;m&=~(1<<v),d+=1;var b=32-dr(l)+v;if(30<b){var I=v-v%5;b=(m&(1<<I)-1).toString(32),m>>=I,v-=I,Li=1<<32-dr(l)+v|d<<v|m,Fi=b+a}else Li=1<<b|d<<v|m,Fi=a}function Vm(a){a.return!==null&&(Vo(a,1),Xx(a,1,0))}function Um(a){for(;a===Eh;)Eh=Gl[--Xl],Gl[Xl]=null,Nh=Gl[--Xl],Gl[Xl]=null;for(;a===Fo;)Fo=Zr[--es],Zr[es]=null,Fi=Zr[--es],Zr[es]=null,Li=Zr[--es],Zr[es]=null}var $r=null,zr=null,en=!1,Ss=null;function Jx(a,l){var d=ss(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function Zx(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,$r=a,zr=Sa(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,$r=a,zr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Fo!==null?{id:Li,overflow:Fi}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=ss(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,$r=a,zr=null,!0):!1;default:return!1}}function $m(a){return(a.mode&1)!==0&&(a.flags&128)===0}function zm(a){if(en){var l=zr;if(l){var d=l;if(!Zx(a,l)){if($m(a))throw Error(t(418));l=Sa(d.nextSibling);var m=$r;l&&Zx(a,l)?Jx(m,d):(a.flags=a.flags&-4097|2,en=!1,$r=a)}}else{if($m(a))throw Error(t(418));a.flags=a.flags&-4097|2,en=!1,$r=a}}}function ew(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;$r=a}function Sh(a){if(a!==$r)return!1;if(!en)return ew(a),en=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Am(a.type,a.memoizedProps)),l&&(l=zr)){if($m(a))throw tw(),Error(t(418));for(;l;)Jx(a,l),l=Sa(l.nextSibling)}if(ew(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){zr=Sa(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}zr=null}}else zr=$r?Sa(a.stateNode.nextSibling):null;return!0}function tw(){for(var a=zr;a;)a=Sa(a.nextSibling)}function Jl(){zr=$r=null,en=!1}function Bm(a){Ss===null?Ss=[a]:Ss.push(a)}var xC=L.ReactCurrentBatchConfig;function Su(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,a));var v=m,b=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===b?l.ref:(l=function(I){var z=v.refs;I===null?delete z[b]:z[b]=I},l._stringRef=b,l)}if(typeof a!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,a))}return a}function Th(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function nw(a){var l=a._init;return l(a._payload)}function rw(a){function l(J,K){if(a){var Z=J.deletions;Z===null?(J.deletions=[K],J.flags|=16):Z.push(K)}}function d(J,K){if(!a)return null;for(;K!==null;)l(J,K),K=K.sibling;return null}function m(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function v(J,K){return J=Oa(J,K),J.index=0,J.sibling=null,J}function b(J,K,Z){return J.index=Z,a?(Z=J.alternate,Z!==null?(Z=Z.index,Z<K?(J.flags|=2,K):Z):(J.flags|=2,K)):(J.flags|=1048576,K)}function I(J){return a&&J.alternate===null&&(J.flags|=2),J}function z(J,K,Z,me){return K===null||K.tag!==6?(K=Dg(Z,J.mode,me),K.return=J,K):(K=v(K,Z),K.return=J,K)}function q(J,K,Z,me){var Ve=Z.type;return Ve===R?he(J,K,Z.props.children,me,Z.key):K!==null&&(K.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===xe&&nw(Ve)===K.type)?(me=v(K,Z.props),me.ref=Su(J,K,Z),me.return=J,me):(me=Gh(Z.type,Z.key,Z.props,null,J.mode,me),me.ref=Su(J,K,Z),me.return=J,me)}function ee(J,K,Z,me){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Mg(Z,J.mode,me),K.return=J,K):(K=v(K,Z.children||[]),K.return=J,K)}function he(J,K,Z,me,Ve){return K===null||K.tag!==7?(K=Yo(Z,J.mode,me,Ve),K.return=J,K):(K=v(K,Z),K.return=J,K)}function pe(J,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Dg(""+K,J.mode,Z),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return Z=Gh(K.type,K.key,K.props,null,J.mode,Z),Z.ref=Su(J,null,K),Z.return=J,Z;case B:return K=Mg(K,J.mode,Z),K.return=J,K;case xe:var me=K._init;return pe(J,me(K._payload),Z)}if(ds(K)||le(K))return K=Yo(K,J.mode,Z,null),K.return=J,K;Th(J,K)}return null}function de(J,K,Z,me){var Ve=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Ve!==null?null:z(J,K,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return Z.key===Ve?q(J,K,Z,me):null;case B:return Z.key===Ve?ee(J,K,Z,me):null;case xe:return Ve=Z._init,de(J,K,Ve(Z._payload),me)}if(ds(Z)||le(Z))return Ve!==null?null:he(J,K,Z,me,null);Th(J,Z)}return null}function Ce(J,K,Z,me,Ve){if(typeof me=="string"&&me!==""||typeof me=="number")return J=J.get(Z)||null,z(K,J,""+me,Ve);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case D:return J=J.get(me.key===null?Z:me.key)||null,q(K,J,me,Ve);case B:return J=J.get(me.key===null?Z:me.key)||null,ee(K,J,me,Ve);case xe:var He=me._init;return Ce(J,K,Z,He(me._payload),Ve)}if(ds(me)||le(me))return J=J.get(Z)||null,he(K,J,me,Ve,null);Th(K,me)}return null}function Oe(J,K,Z,me){for(var Ve=null,He=null,We=K,Ze=K=0,Rn=null;We!==null&&Ze<Z.length;Ze++){We.index>Ze?(Rn=We,We=null):Rn=We.sibling;var jt=de(J,We,Z[Ze],me);if(jt===null){We===null&&(We=Rn);break}a&&We&&jt.alternate===null&&l(J,We),K=b(jt,K,Ze),He===null?Ve=jt:He.sibling=jt,He=jt,We=Rn}if(Ze===Z.length)return d(J,We),en&&Vo(J,Ze),Ve;if(We===null){for(;Ze<Z.length;Ze++)We=pe(J,Z[Ze],me),We!==null&&(K=b(We,K,Ze),He===null?Ve=We:He.sibling=We,He=We);return en&&Vo(J,Ze),Ve}for(We=m(J,We);Ze<Z.length;Ze++)Rn=Ce(We,J,Ze,Z[Ze],me),Rn!==null&&(a&&Rn.alternate!==null&&We.delete(Rn.key===null?Ze:Rn.key),K=b(Rn,K,Ze),He===null?Ve=Rn:He.sibling=Rn,He=Rn);return a&&We.forEach(function(La){return l(J,La)}),en&&Vo(J,Ze),Ve}function Fe(J,K,Z,me){var Ve=le(Z);if(typeof Ve!="function")throw Error(t(150));if(Z=Ve.call(Z),Z==null)throw Error(t(151));for(var He=Ve=null,We=K,Ze=K=0,Rn=null,jt=Z.next();We!==null&&!jt.done;Ze++,jt=Z.next()){We.index>Ze?(Rn=We,We=null):Rn=We.sibling;var La=de(J,We,jt.value,me);if(La===null){We===null&&(We=Rn);break}a&&We&&La.alternate===null&&l(J,We),K=b(La,K,Ze),He===null?Ve=La:He.sibling=La,He=La,We=Rn}if(jt.done)return d(J,We),en&&Vo(J,Ze),Ve;if(We===null){for(;!jt.done;Ze++,jt=Z.next())jt=pe(J,jt.value,me),jt!==null&&(K=b(jt,K,Ze),He===null?Ve=jt:He.sibling=jt,He=jt);return en&&Vo(J,Ze),Ve}for(We=m(J,We);!jt.done;Ze++,jt=Z.next())jt=Ce(We,J,Ze,jt.value,me),jt!==null&&(a&&jt.alternate!==null&&We.delete(jt.key===null?Ze:jt.key),K=b(jt,K,Ze),He===null?Ve=jt:He.sibling=jt,He=jt);return a&&We.forEach(function(JC){return l(J,JC)}),en&&Vo(J,Ze),Ve}function fn(J,K,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:e:{for(var Ve=Z.key,He=K;He!==null;){if(He.key===Ve){if(Ve=Z.type,Ve===R){if(He.tag===7){d(J,He.sibling),K=v(He,Z.props.children),K.return=J,J=K;break e}}else if(He.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===xe&&nw(Ve)===He.type){d(J,He.sibling),K=v(He,Z.props),K.ref=Su(J,He,Z),K.return=J,J=K;break e}d(J,He);break}else l(J,He);He=He.sibling}Z.type===R?(K=Yo(Z.props.children,J.mode,me,Z.key),K.return=J,J=K):(me=Gh(Z.type,Z.key,Z.props,null,J.mode,me),me.ref=Su(J,K,Z),me.return=J,J=me)}return I(J);case B:e:{for(He=Z.key;K!==null;){if(K.key===He)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){d(J,K.sibling),K=v(K,Z.children||[]),K.return=J,J=K;break e}else{d(J,K);break}else l(J,K);K=K.sibling}K=Mg(Z,J.mode,me),K.return=J,J=K}return I(J);case xe:return He=Z._init,fn(J,K,He(Z._payload),me)}if(ds(Z))return Oe(J,K,Z,me);if(le(Z))return Fe(J,K,Z,me);Th(J,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,K!==null&&K.tag===6?(d(J,K.sibling),K=v(K,Z),K.return=J,J=K):(d(J,K),K=Dg(Z,J.mode,me),K.return=J,J=K),I(J)):d(J,K)}return fn}var Zl=rw(!0),sw=rw(!1),Ch=Ta(null),jh=null,ec=null,qm=null;function Hm(){qm=ec=jh=null}function Wm(a){var l=Ch.current;Xt(Ch),a._currentValue=l}function Ym(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function tc(a,l){jh=a,qm=ec=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&l&&(kr=!0),a.firstContext=null)}function ts(a){var l=a._currentValue;if(qm!==a)if(a={context:a,memoizedValue:l,next:null},ec===null){if(jh===null)throw Error(t(308));ec=a,jh.dependencies={lanes:0,firstContext:a}}else ec=ec.next=a;return l}var Uo=null;function Km(a){Uo===null?Uo=[a]:Uo.push(a)}function iw(a,l,d,m){var v=l.interleaved;return v===null?(d.next=d,Km(l)):(d.next=v.next,v.next=d),l.interleaved=d,Vi(a,m)}function Vi(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var ka=!1;function Qm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aw(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ui(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ia(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,St&2){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,Vi(a,d)}return v=m.interleaved,v===null?(l.next=l,Km(m)):(l.next=v.next,v.next=l),m.interleaved=l,Vi(a,d)}function kh(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,xa(a,d)}}function ow(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var v=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?v=b=I:b=b.next=I,d=d.next}while(d!==null);b===null?v=b=l:b=b.next=l}else v=b=l;d={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,effects:m.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Ih(a,l,d,m){var v=a.updateQueue;ka=!1;var b=v.firstBaseUpdate,I=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var q=z,ee=q.next;q.next=null,I===null?b=ee:I.next=ee,I=q;var he=a.alternate;he!==null&&(he=he.updateQueue,z=he.lastBaseUpdate,z!==I&&(z===null?he.firstBaseUpdate=ee:z.next=ee,he.lastBaseUpdate=q))}if(b!==null){var pe=v.baseState;I=0,he=ee=q=null,z=b;do{var de=z.lane,Ce=z.eventTime;if((m&de)===de){he!==null&&(he=he.next={eventTime:Ce,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Oe=a,Fe=z;switch(de=l,Ce=d,Fe.tag){case 1:if(Oe=Fe.payload,typeof Oe=="function"){pe=Oe.call(Ce,pe,de);break e}pe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Fe.payload,de=typeof Oe=="function"?Oe.call(Ce,pe,de):Oe,de==null)break e;pe=ce({},pe,de);break e;case 2:ka=!0}}z.callback!==null&&z.lane!==0&&(a.flags|=64,de=v.effects,de===null?v.effects=[z]:de.push(z))}else Ce={eventTime:Ce,lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},he===null?(ee=he=Ce,q=pe):he=he.next=Ce,I|=de;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;de=z,z=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);if(he===null&&(q=pe),v.baseState=q,v.firstBaseUpdate=ee,v.lastBaseUpdate=he,l=v.shared.interleaved,l!==null){v=l;do I|=v.lane,v=v.next;while(v!==l)}else b===null&&(v.shared.lanes=0);Bo|=I,a.lanes=I,a.memoizedState=pe}}function lw(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],v=m.callback;if(v!==null){if(m.callback=null,m=d,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var Tu={},Xs=Ta(Tu),Cu=Ta(Tu),ju=Ta(Tu);function $o(a){if(a===Tu)throw Error(t(174));return a}function Gm(a,l){switch(Bt(ju,l),Bt(Cu,a),Bt(Xs,Tu),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ln(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=ln(l,a)}Xt(Xs),Bt(Xs,l)}function nc(){Xt(Xs),Xt(Cu),Xt(ju)}function cw(a){$o(ju.current);var l=$o(Xs.current),d=ln(l,a.type);l!==d&&(Bt(Cu,a),Bt(Xs,d))}function Xm(a){Cu.current===a&&(Xt(Xs),Xt(Cu))}var nn=Ta(0);function Rh(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Jm=[];function Zm(){for(var a=0;a<Jm.length;a++)Jm[a]._workInProgressVersionPrimary=null;Jm.length=0}var Ph=L.ReactCurrentDispatcher,eg=L.ReactCurrentBatchConfig,zo=0,rn=null,En=null,kn=null,Ah=!1,ku=!1,Iu=0,wC=0;function nr(){throw Error(t(321))}function tg(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Ns(a[d],l[d]))return!1;return!0}function ng(a,l,d,m,v,b){if(zo=b,rn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ph.current=a===null||a.memoizedState===null?NC:SC,a=d(m,v),ku){b=0;do{if(ku=!1,Iu=0,25<=b)throw Error(t(301));b+=1,kn=En=null,l.updateQueue=null,Ph.current=TC,a=d(m,v)}while(ku)}if(Ph.current=Oh,l=En!==null&&En.next!==null,zo=0,kn=En=rn=null,Ah=!1,l)throw Error(t(300));return a}function rg(){var a=Iu!==0;return Iu=0,a}function Js(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?rn.memoizedState=kn=a:kn=kn.next=a,kn}function ns(){if(En===null){var a=rn.alternate;a=a!==null?a.memoizedState:null}else a=En.next;var l=kn===null?rn.memoizedState:kn.next;if(l!==null)kn=l,En=a;else{if(a===null)throw Error(t(310));En=a,a={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},kn===null?rn.memoizedState=kn=a:kn=kn.next=a}return kn}function Ru(a,l){return typeof l=="function"?l(a):l}function sg(a){var l=ns(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var m=En,v=m.baseQueue,b=d.pending;if(b!==null){if(v!==null){var I=v.next;v.next=b.next,b.next=I}m.baseQueue=v=b,d.pending=null}if(v!==null){b=v.next,m=m.baseState;var z=I=null,q=null,ee=b;do{var he=ee.lane;if((zo&he)===he)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),m=ee.hasEagerState?ee.eagerState:a(m,ee.action);else{var pe={lane:he,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?(z=q=pe,I=m):q=q.next=pe,rn.lanes|=he,Bo|=he}ee=ee.next}while(ee!==null&&ee!==b);q===null?I=m:q.next=z,Ns(m,l.memoizedState)||(kr=!0),l.memoizedState=m,l.baseState=I,l.baseQueue=q,d.lastRenderedState=m}if(a=d.interleaved,a!==null){v=a;do b=v.lane,rn.lanes|=b,Bo|=b,v=v.next;while(v!==a)}else v===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function ig(a){var l=ns(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var m=d.dispatch,v=d.pending,b=l.memoizedState;if(v!==null){d.pending=null;var I=v=v.next;do b=a(b,I.action),I=I.next;while(I!==v);Ns(b,l.memoizedState)||(kr=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),d.lastRenderedState=b}return[b,m]}function uw(){}function dw(a,l){var d=rn,m=ns(),v=l(),b=!Ns(m.memoizedState,v);if(b&&(m.memoizedState=v,kr=!0),m=m.queue,ag(pw.bind(null,d,m,a),[a]),m.getSnapshot!==l||b||kn!==null&&kn.memoizedState.tag&1){if(d.flags|=2048,Pu(9,fw.bind(null,d,m,v,l),void 0,null),In===null)throw Error(t(349));zo&30||hw(d,l,v)}return v}function hw(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=rn.updateQueue,l===null?(l={lastEffect:null,stores:null},rn.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function fw(a,l,d,m){l.value=d,l.getSnapshot=m,mw(l)&&gw(a)}function pw(a,l,d){return d(function(){mw(l)&&gw(a)})}function mw(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Ns(a,d)}catch{return!0}}function gw(a){var l=Vi(a,1);l!==null&&ks(l,a,1,-1)}function yw(a){var l=Js();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:a},l.queue=a,a=a.dispatch=EC.bind(null,rn,a),[l.memoizedState,a]}function Pu(a,l,d,m){return a={tag:a,create:l,destroy:d,deps:m,next:null},l=rn.updateQueue,l===null?(l={lastEffect:null,stores:null},rn.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a)),a}function vw(){return ns().memoizedState}function Dh(a,l,d,m){var v=Js();rn.flags|=a,v.memoizedState=Pu(1|l,d,void 0,m===void 0?null:m)}function Mh(a,l,d,m){var v=ns();m=m===void 0?null:m;var b=void 0;if(En!==null){var I=En.memoizedState;if(b=I.destroy,m!==null&&tg(m,I.deps)){v.memoizedState=Pu(l,d,b,m);return}}rn.flags|=a,v.memoizedState=Pu(1|l,d,b,m)}function xw(a,l){return Dh(8390656,8,a,l)}function ag(a,l){return Mh(2048,8,a,l)}function ww(a,l){return Mh(4,2,a,l)}function _w(a,l){return Mh(4,4,a,l)}function bw(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Ew(a,l,d){return d=d!=null?d.concat([a]):null,Mh(4,4,bw.bind(null,l,a),d)}function og(){}function Nw(a,l){var d=ns();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&tg(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function Sw(a,l){var d=ns();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&tg(l,m[1])?m[0]:(a=a(),d.memoizedState=[a,l],a)}function Tw(a,l,d){return zo&21?(Ns(d,l)||(d=Ro(),rn.lanes|=d,Bo|=d,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,kr=!0),a.memoizedState=d)}function _C(a,l){var d=mt;mt=d!==0&&4>d?d:4,a(!0);var m=eg.transition;eg.transition={};try{a(!1),l()}finally{mt=d,eg.transition=m}}function Cw(){return ns().memoizedState}function bC(a,l,d){var m=Da(a);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},jw(a))kw(l,d);else if(d=iw(a,l,d,m),d!==null){var v=pr();ks(d,a,m,v),Iw(d,l,m)}}function EC(a,l,d){var m=Da(a),v={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(jw(a))kw(l,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var I=l.lastRenderedState,z=b(I,d);if(v.hasEagerState=!0,v.eagerState=z,Ns(z,I)){var q=l.interleaved;q===null?(v.next=v,Km(l)):(v.next=q.next,q.next=v),l.interleaved=v;return}}catch{}finally{}d=iw(a,l,v,m),d!==null&&(v=pr(),ks(d,a,m,v),Iw(d,l,m))}}function jw(a){var l=a.alternate;return a===rn||l!==null&&l===rn}function kw(a,l){ku=Ah=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Iw(a,l,d){if(d&4194240){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,xa(a,d)}}var Oh={readContext:ts,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},NC={readContext:ts,useCallback:function(a,l){return Js().memoizedState=[a,l===void 0?null:l],a},useContext:ts,useEffect:xw,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Dh(4194308,4,bw.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Dh(4194308,4,a,l)},useInsertionEffect:function(a,l){return Dh(4,2,a,l)},useMemo:function(a,l){var d=Js();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var m=Js();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=bC.bind(null,rn,a),[m.memoizedState,a]},useRef:function(a){var l=Js();return a={current:a},l.memoizedState=a},useState:yw,useDebugValue:og,useDeferredValue:function(a){return Js().memoizedState=a},useTransition:function(){var a=yw(!1),l=a[0];return a=_C.bind(null,a[1]),Js().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var m=rn,v=Js();if(en){if(d===void 0)throw Error(t(407));d=d()}else{if(d=l(),In===null)throw Error(t(349));zo&30||hw(m,l,d)}v.memoizedState=d;var b={value:d,getSnapshot:l};return v.queue=b,xw(pw.bind(null,m,b,a),[a]),m.flags|=2048,Pu(9,fw.bind(null,m,b,d,l),void 0,null),d},useId:function(){var a=Js(),l=In.identifierPrefix;if(en){var d=Fi,m=Li;d=(m&~(1<<32-dr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Iu++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=wC++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},SC={readContext:ts,useCallback:Nw,useContext:ts,useEffect:ag,useImperativeHandle:Ew,useInsertionEffect:ww,useLayoutEffect:_w,useMemo:Sw,useReducer:sg,useRef:vw,useState:function(){return sg(Ru)},useDebugValue:og,useDeferredValue:function(a){var l=ns();return Tw(l,En.memoizedState,a)},useTransition:function(){var a=sg(Ru)[0],l=ns().memoizedState;return[a,l]},useMutableSource:uw,useSyncExternalStore:dw,useId:Cw,unstable_isNewReconciler:!1},TC={readContext:ts,useCallback:Nw,useContext:ts,useEffect:ag,useImperativeHandle:Ew,useInsertionEffect:ww,useLayoutEffect:_w,useMemo:Sw,useReducer:ig,useRef:vw,useState:function(){return ig(Ru)},useDebugValue:og,useDeferredValue:function(a){var l=ns();return En===null?l.memoizedState=a:Tw(l,En.memoizedState,a)},useTransition:function(){var a=ig(Ru)[0],l=ns().memoizedState;return[a,l]},useMutableSource:uw,useSyncExternalStore:dw,useId:Cw,unstable_isNewReconciler:!1};function Ts(a,l){if(a&&a.defaultProps){l=ce({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function lg(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:ce({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Lh={isMounted:function(a){return(a=a._reactInternals)?pt(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var m=pr(),v=Da(a),b=Ui(m,v);b.payload=l,d!=null&&(b.callback=d),l=Ia(a,b,v),l!==null&&(ks(l,a,v,m),kh(l,a,v))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=pr(),v=Da(a),b=Ui(m,v);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=Ia(a,b,v),l!==null&&(ks(l,a,v,m),kh(l,a,v))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=pr(),m=Da(a),v=Ui(d,m);v.tag=2,l!=null&&(v.callback=l),l=Ia(a,v,m),l!==null&&(ks(l,a,m,d),kh(l,a,m))}};function Rw(a,l,d,m,v,b,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,I):l.prototype&&l.prototype.isPureReactComponent?!vu(d,m)||!vu(v,b):!0}function Pw(a,l,d){var m=!1,v=Ca,b=l.contextType;return typeof b=="object"&&b!==null?b=ts(b):(v=jr(l)?Lo:tr.current,m=l.contextTypes,b=(m=m!=null)?Ql(a,v):Ca),l=new l(d,b),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Lh,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=b),l}function Aw(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&Lh.enqueueReplaceState(l,l.state,null)}function cg(a,l,d,m){var v=a.stateNode;v.props=d,v.state=a.memoizedState,v.refs={},Qm(a);var b=l.contextType;typeof b=="object"&&b!==null?v.context=ts(b):(b=jr(l)?Lo:tr.current,v.context=Ql(a,b)),v.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(lg(a,l,b,d),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&Lh.enqueueReplaceState(v,v.state,null),Ih(a,d,v,m),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function rc(a,l){try{var d="",m=l;do d+=ze(m),m=m.return;while(m);var v=d}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:l,stack:v,digest:null}}function ug(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function dg(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var CC=typeof WeakMap=="function"?WeakMap:Map;function Dw(a,l,d){d=Ui(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){qh||(qh=!0,Tg=m),dg(a,l)},d}function Mw(a,l,d){d=Ui(-1,d),d.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var v=l.value;d.payload=function(){return m(v)},d.callback=function(){dg(a,l)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){dg(a,l),typeof m!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),d}function Ow(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new CC;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(d)||(v.add(d),a=$C.bind(null,a,l,d),l.then(a,a))}function Lw(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function Fw(a,l,d,m,v){return a.mode&1?(a.flags|=65536,a.lanes=v,a):(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ui(-1,1),l.tag=2,Ia(d,l,1))),d.lanes|=1),a)}var jC=L.ReactCurrentOwner,kr=!1;function fr(a,l,d,m){l.child=a===null?sw(l,null,d,m):Zl(l,a.child,d,m)}function Vw(a,l,d,m,v){d=d.render;var b=l.ref;return tc(l,v),m=ng(a,l,d,m,b,v),d=rg(),a!==null&&!kr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~v,$i(a,l,v)):(en&&d&&Vm(l),l.flags|=1,fr(a,l,m,v),l.child)}function Uw(a,l,d,m,v){if(a===null){var b=d.type;return typeof b=="function"&&!Ag(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=b,$w(a,l,b,m,v)):(a=Gh(d.type,null,m,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,!(a.lanes&v)){var I=b.memoizedProps;if(d=d.compare,d=d!==null?d:vu,d(I,m)&&a.ref===l.ref)return $i(a,l,v)}return l.flags|=1,a=Oa(b,m),a.ref=l.ref,a.return=l,l.child=a}function $w(a,l,d,m,v){if(a!==null){var b=a.memoizedProps;if(vu(b,m)&&a.ref===l.ref)if(kr=!1,l.pendingProps=m=b,(a.lanes&v)!==0)a.flags&131072&&(kr=!0);else return l.lanes=a.lanes,$i(a,l,v)}return hg(a,l,d,m,v)}function zw(a,l,d){var m=l.pendingProps,v=m.children,b=a!==null?a.memoizedState:null;if(m.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(ic,Br),Br|=d;else{if(!(d&1073741824))return a=b!==null?b.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Bt(ic,Br),Br|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:d,Bt(ic,Br),Br|=m}else b!==null?(m=b.baseLanes|d,l.memoizedState=null):m=d,Bt(ic,Br),Br|=m;return fr(a,l,v,d),l.child}function Bw(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function hg(a,l,d,m,v){var b=jr(d)?Lo:tr.current;return b=Ql(l,b),tc(l,v),d=ng(a,l,d,m,b,v),m=rg(),a!==null&&!kr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~v,$i(a,l,v)):(en&&m&&Vm(l),l.flags|=1,fr(a,l,d,v),l.child)}function qw(a,l,d,m,v){if(jr(d)){var b=!0;_h(l)}else b=!1;if(tc(l,v),l.stateNode===null)Vh(a,l),Pw(l,d,m),cg(l,d,m,v),m=!0;else if(a===null){var I=l.stateNode,z=l.memoizedProps;I.props=z;var q=I.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=ts(ee):(ee=jr(d)?Lo:tr.current,ee=Ql(l,ee));var he=d.getDerivedStateFromProps,pe=typeof he=="function"||typeof I.getSnapshotBeforeUpdate=="function";pe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==m||q!==ee)&&Aw(l,I,m,ee),ka=!1;var de=l.memoizedState;I.state=de,Ih(l,m,I,v),q=l.memoizedState,z!==m||de!==q||Cr.current||ka?(typeof he=="function"&&(lg(l,d,he,m),q=l.memoizedState),(z=ka||Rw(l,d,z,m,de,q,ee))?(pe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=q),I.props=m,I.state=q,I.context=ee,m=z):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{I=l.stateNode,aw(a,l),z=l.memoizedProps,ee=l.type===l.elementType?z:Ts(l.type,z),I.props=ee,pe=l.pendingProps,de=I.context,q=d.contextType,typeof q=="object"&&q!==null?q=ts(q):(q=jr(d)?Lo:tr.current,q=Ql(l,q));var Ce=d.getDerivedStateFromProps;(he=typeof Ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==pe||de!==q)&&Aw(l,I,m,q),ka=!1,de=l.memoizedState,I.state=de,Ih(l,m,I,v);var Oe=l.memoizedState;z!==pe||de!==Oe||Cr.current||ka?(typeof Ce=="function"&&(lg(l,d,Ce,m),Oe=l.memoizedState),(ee=ka||Rw(l,d,ee,m,de,Oe,q)||!1)?(he||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,Oe,q),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,Oe,q)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Oe),I.props=m,I.state=Oe,I.context=q,m=ee):(typeof I.componentDidUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(l.flags|=1024),m=!1)}return fg(a,l,d,m,b,v)}function fg(a,l,d,m,v,b){Bw(a,l);var I=(l.flags&128)!==0;if(!m&&!I)return v&&Qx(l,d,!1),$i(a,l,b);m=l.stateNode,jC.current=l;var z=I&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&I?(l.child=Zl(l,a.child,null,b),l.child=Zl(l,null,z,b)):fr(a,l,z,b),l.memoizedState=m.state,v&&Qx(l,d,!0),l.child}function Hw(a){var l=a.stateNode;l.pendingContext?Yx(a,l.pendingContext,l.pendingContext!==l.context):l.context&&Yx(a,l.context,!1),Gm(a,l.containerInfo)}function Ww(a,l,d,m,v){return Jl(),Bm(v),l.flags|=256,fr(a,l,d,m),l.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function mg(a){return{baseLanes:a,cachePool:null,transitions:null}}function Yw(a,l,d){var m=l.pendingProps,v=nn.current,b=!1,I=(l.flags&128)!==0,z;if((z=I)||(z=a!==null&&a.memoizedState===null?!1:(v&2)!==0),z?(b=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),Bt(nn,v&1),a===null)return zm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(l.mode&1?a.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=m.children,a=m.fallback,b?(m=l.mode,b=l.child,I={mode:"hidden",children:I},!(m&1)&&b!==null?(b.childLanes=0,b.pendingProps=I):b=Xh(I,m,0,null),a=Yo(a,m,d,null),b.return=l,a.return=l,b.sibling=a,l.child=b,l.child.memoizedState=mg(d),l.memoizedState=pg,a):gg(l,I));if(v=a.memoizedState,v!==null&&(z=v.dehydrated,z!==null))return kC(a,l,I,m,z,v,d);if(b){b=m.fallback,I=l.mode,v=a.child,z=v.sibling;var q={mode:"hidden",children:m.children};return!(I&1)&&l.child!==v?(m=l.child,m.childLanes=0,m.pendingProps=q,l.deletions=null):(m=Oa(v,q),m.subtreeFlags=v.subtreeFlags&14680064),z!==null?b=Oa(z,b):(b=Yo(b,I,d,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,I=a.child.memoizedState,I=I===null?mg(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},b.memoizedState=I,b.childLanes=a.childLanes&~d,l.memoizedState=pg,m}return b=a.child,a=b.sibling,m=Oa(b,{mode:"visible",children:m.children}),!(l.mode&1)&&(m.lanes=d),m.return=l,m.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=m,l.memoizedState=null,m}function gg(a,l){return l=Xh({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Fh(a,l,d,m){return m!==null&&Bm(m),Zl(l,a.child,null,d),a=gg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function kC(a,l,d,m,v,b,I){if(d)return l.flags&256?(l.flags&=-257,m=ug(Error(t(422))),Fh(a,l,I,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(b=m.fallback,v=l.mode,m=Xh({mode:"visible",children:m.children},v,0,null),b=Yo(b,v,I,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,l.mode&1&&Zl(l,a.child,null,I),l.child.memoizedState=mg(I),l.memoizedState=pg,b);if(!(l.mode&1))return Fh(a,l,I,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var z=m.dgst;return m=z,b=Error(t(419)),m=ug(b,m,void 0),Fh(a,l,I,m)}if(z=(I&a.childLanes)!==0,kr||z){if(m=In,m!==null){switch(I&-I){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(m.suspendedLanes|I)?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,Vi(a,v),ks(m,a,v,-1))}return Pg(),m=ug(Error(t(421))),Fh(a,l,I,m)}return v.data==="$?"?(l.flags|=128,l.child=a.child,l=zC.bind(null,a),v._reactRetry=l,null):(a=b.treeContext,zr=Sa(v.nextSibling),$r=l,en=!0,Ss=null,a!==null&&(Zr[es++]=Li,Zr[es++]=Fi,Zr[es++]=Fo,Li=a.id,Fi=a.overflow,Fo=l),l=gg(l,m.children),l.flags|=4096,l)}function Kw(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Ym(a.return,l,d)}function yg(a,l,d,m,v){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:v}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=v)}function Qw(a,l,d){var m=l.pendingProps,v=m.revealOrder,b=m.tail;if(fr(a,l,m.children,d),m=nn.current,m&2)m=m&1|2,l.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Kw(a,d,l);else if(a.tag===19)Kw(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(Bt(nn,m),!(l.mode&1))l.memoizedState=null;else switch(v){case"forwards":for(d=l.child,v=null;d!==null;)a=d.alternate,a!==null&&Rh(a)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),yg(l,!1,v,d,b);break;case"backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Rh(a)===null){l.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}yg(l,!0,d,null,b);break;case"together":yg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Vh(a,l){!(l.mode&1)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function $i(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Bo|=l.lanes,!(d&l.childLanes))return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,d=Oa(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Oa(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function IC(a,l,d){switch(l.tag){case 3:Hw(l),Jl();break;case 5:cw(l);break;case 1:jr(l.type)&&_h(l);break;case 4:Gm(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,v=l.memoizedProps.value;Bt(Ch,m._currentValue),m._currentValue=v;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Bt(nn,nn.current&1),l.flags|=128,null):d&l.child.childLanes?Yw(a,l,d):(Bt(nn,nn.current&1),a=$i(a,l,d),a!==null?a.sibling:null);Bt(nn,nn.current&1);break;case 19:if(m=(d&l.childLanes)!==0,a.flags&128){if(m)return Qw(a,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Bt(nn,nn.current),m)break;return null;case 22:case 23:return l.lanes=0,zw(a,l,d)}return $i(a,l,d)}var Gw,vg,Xw,Jw;Gw=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},vg=function(){},Xw=function(a,l,d,m){var v=a.memoizedProps;if(v!==m){a=l.stateNode,$o(Xs.current);var b=null;switch(d){case"input":v=Ni(a,v),m=Ni(a,m),b=[];break;case"select":v=ce({},v,{value:void 0}),m=ce({},m,{value:void 0}),b=[];break;case"textarea":v=hs(a,v),m=hs(a,m),b=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=vh)}Bs(d,m);var I;d=null;for(ee in v)if(!m.hasOwnProperty(ee)&&v.hasOwnProperty(ee)&&v[ee]!=null)if(ee==="style"){var z=v[ee];for(I in z)z.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?b||(b=[]):(b=b||[]).push(ee,null));for(ee in m){var q=m[ee];if(z=v!=null?v[ee]:void 0,m.hasOwnProperty(ee)&&q!==z&&(q!=null||z!=null))if(ee==="style")if(z){for(I in z)!z.hasOwnProperty(I)||q&&q.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in q)q.hasOwnProperty(I)&&z[I]!==q[I]&&(d||(d={}),d[I]=q[I])}else d||(b||(b=[]),b.push(ee,d)),d=q;else ee==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,z=z?z.__html:void 0,q!=null&&z!==q&&(b=b||[]).push(ee,q)):ee==="children"?typeof q!="string"&&typeof q!="number"||(b=b||[]).push(ee,""+q):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(q!=null&&ee==="onScroll"&&Gt("scroll",a),b||z===q||(b=[])):(b=b||[]).push(ee,q))}d&&(b=b||[]).push("style",d);var ee=b;(l.updateQueue=ee)&&(l.flags|=4)}},Jw=function(a,l,d,m){d!==m&&(l.flags|=4)};function Au(a,l){if(!en)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function rr(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function RC(a,l,d){var m=l.pendingProps;switch(Um(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(l),null;case 1:return jr(l.type)&&wh(),rr(l),null;case 3:return m=l.stateNode,nc(),Xt(Cr),Xt(tr),Zm(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Sh(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Ss!==null&&(kg(Ss),Ss=null))),vg(a,l),rr(l),null;case 5:Xm(l);var v=$o(ju.current);if(d=l.type,a!==null&&l.stateNode!=null)Xw(a,l,d,m,v),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(t(166));return rr(l),null}if(a=$o(Xs.current),Sh(l)){m=l.stateNode,d=l.type;var b=l.memoizedProps;switch(m[Gs]=l,m[Eu]=b,a=(l.mode&1)!==0,d){case"dialog":Gt("cancel",m),Gt("close",m);break;case"iframe":case"object":case"embed":Gt("load",m);break;case"video":case"audio":for(v=0;v<wu.length;v++)Gt(wu[v],m);break;case"source":Gt("error",m);break;case"img":case"image":case"link":Gt("error",m),Gt("load",m);break;case"details":Gt("toggle",m);break;case"input":ca(m,b),Gt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},Gt("invalid",m);break;case"textarea":Si(m,b),Gt("invalid",m)}Bs(d,b),v=null;for(var I in b)if(b.hasOwnProperty(I)){var z=b[I];I==="children"?typeof z=="string"?m.textContent!==z&&(b.suppressHydrationWarning!==!0&&yh(m.textContent,z,a),v=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(b.suppressHydrationWarning!==!0&&yh(m.textContent,z,a),v=["children",""+z]):s.hasOwnProperty(I)&&z!=null&&I==="onScroll"&&Gt("scroll",m)}switch(d){case"input":Gr(m),Cl(m,b,!0);break;case"textarea":Gr(m),br(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=vh)}m=v,l.updateQueue=m,m!==null&&(l.flags|=4)}else{I=v.nodeType===9?v:v.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ot(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=I.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=I.createElement(d,{is:m.is}):(a=I.createElement(d),d==="select"&&(I=a,m.multiple?I.multiple=!0:m.size&&(I.size=m.size))):a=I.createElementNS(a,d),a[Gs]=l,a[Eu]=m,Gw(a,l,!1,!1),l.stateNode=a;e:{switch(I=pa(d,m),d){case"dialog":Gt("cancel",a),Gt("close",a),v=m;break;case"iframe":case"object":case"embed":Gt("load",a),v=m;break;case"video":case"audio":for(v=0;v<wu.length;v++)Gt(wu[v],a);v=m;break;case"source":Gt("error",a),v=m;break;case"img":case"image":case"link":Gt("error",a),Gt("load",a),v=m;break;case"details":Gt("toggle",a),v=m;break;case"input":ca(a,m),v=Ni(a,m),Gt("invalid",a);break;case"option":v=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},v=ce({},m,{value:void 0}),Gt("invalid",a);break;case"textarea":Si(a,m),v=hs(a,m),Gt("invalid",a);break;default:v=m}Bs(d,v),z=v;for(b in z)if(z.hasOwnProperty(b)){var q=z[b];b==="style"?jo(a,q):b==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Co(a,q)):b==="children"?typeof q=="string"?(d!=="textarea"||q!=="")&&Fn(a,q):typeof q=="number"&&Fn(a,""+q):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?q!=null&&b==="onScroll"&&Gt("scroll",a):q!=null&&P(a,b,q,I))}switch(d){case"input":Gr(a),Cl(a,m,!1);break;case"textarea":Gr(a),br(a);break;case"option":m.value!=null&&a.setAttribute("value",""+dt(m.value));break;case"select":a.multiple=!!m.multiple,b=m.value,b!=null?Ln(a,!!m.multiple,b,!1):m.defaultValue!=null&&Ln(a,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(a.onclick=vh)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return rr(l),null;case 6:if(a&&l.stateNode!=null)Jw(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(t(166));if(d=$o(ju.current),$o(Xs.current),Sh(l)){if(m=l.stateNode,d=l.memoizedProps,m[Gs]=l,(b=m.nodeValue!==d)&&(a=$r,a!==null))switch(a.tag){case 3:yh(m.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&yh(m.nodeValue,d,(a.mode&1)!==0)}b&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Gs]=l,l.stateNode=m}return rr(l),null;case 13:if(Xt(nn),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(en&&zr!==null&&l.mode&1&&!(l.flags&128))tw(),Jl(),l.flags|=98560,b=!1;else if(b=Sh(l),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(t(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[Gs]=l}else Jl(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;rr(l),b=!1}else Ss!==null&&(kg(Ss),Ss=null),b=!0;if(!b)return l.flags&65536?l:null}return l.flags&128?(l.lanes=d,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,l.mode&1&&(a===null||nn.current&1?Nn===0&&(Nn=3):Pg())),l.updateQueue!==null&&(l.flags|=4),rr(l),null);case 4:return nc(),vg(a,l),a===null&&_u(l.stateNode.containerInfo),rr(l),null;case 10:return Wm(l.type._context),rr(l),null;case 17:return jr(l.type)&&wh(),rr(l),null;case 19:if(Xt(nn),b=l.memoizedState,b===null)return rr(l),null;if(m=(l.flags&128)!==0,I=b.rendering,I===null)if(m)Au(b,!1);else{if(Nn!==0||a!==null&&a.flags&128)for(a=l.child;a!==null;){if(I=Rh(a),I!==null){for(l.flags|=128,Au(b,!1),m=I.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)b=d,a=m,b.flags&=14680066,I=b.alternate,I===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=I.childLanes,b.lanes=I.lanes,b.child=I.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=I.memoizedProps,b.memoizedState=I.memoizedState,b.updateQueue=I.updateQueue,b.type=I.type,a=I.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return Bt(nn,nn.current&1|2),l.child}a=a.sibling}b.tail!==null&&Rt()>ac&&(l.flags|=128,m=!0,Au(b,!1),l.lanes=4194304)}else{if(!m)if(a=Rh(I),a!==null){if(l.flags|=128,m=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Au(b,!0),b.tail===null&&b.tailMode==="hidden"&&!I.alternate&&!en)return rr(l),null}else 2*Rt()-b.renderingStartTime>ac&&d!==1073741824&&(l.flags|=128,m=!0,Au(b,!1),l.lanes=4194304);b.isBackwards?(I.sibling=l.child,l.child=I):(d=b.last,d!==null?d.sibling=I:l.child=I,b.last=I)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Rt(),l.sibling=null,d=nn.current,Bt(nn,m?d&1|2:d&1),l):(rr(l),null);case 22:case 23:return Rg(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&l.mode&1?Br&1073741824&&(rr(l),l.subtreeFlags&6&&(l.flags|=8192)):rr(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function PC(a,l){switch(Um(l),l.tag){case 1:return jr(l.type)&&wh(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return nc(),Xt(Cr),Xt(tr),Zm(),a=l.flags,a&65536&&!(a&128)?(l.flags=a&-65537|128,l):null;case 5:return Xm(l),null;case 13:if(Xt(nn),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Jl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Xt(nn),null;case 4:return nc(),null;case 10:return Wm(l.type._context),null;case 22:case 23:return Rg(),null;case 24:return null;default:return null}}var Uh=!1,sr=!1,AC=typeof WeakSet=="function"?WeakSet:Set,De=null;function sc(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){un(a,l,m)}else d.current=null}function xg(a,l,d){try{d()}catch(m){un(a,l,m)}}var Zw=!1;function DC(a,l){if(Rm=ba,a=Rx(),Em(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var I=0,z=-1,q=-1,ee=0,he=0,pe=a,de=null;t:for(;;){for(var Ce;pe!==d||v!==0&&pe.nodeType!==3||(z=I+v),pe!==b||m!==0&&pe.nodeType!==3||(q=I+m),pe.nodeType===3&&(I+=pe.nodeValue.length),(Ce=pe.firstChild)!==null;)de=pe,pe=Ce;for(;;){if(pe===a)break t;if(de===d&&++ee===v&&(z=I),de===b&&++he===m&&(q=I),(Ce=pe.nextSibling)!==null)break;pe=de,de=pe.parentNode}pe=Ce}d=z===-1||q===-1?null:{start:z,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Pm={focusedElem:a,selectionRange:d},ba=!1,De=l;De!==null;)if(l=De,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,De=a;else for(;De!==null;){l=De;try{var Oe=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Fe=Oe.memoizedProps,fn=Oe.memoizedState,J=l.stateNode,K=J.getSnapshotBeforeUpdate(l.elementType===l.type?Fe:Ts(l.type,Fe),fn);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Z=l.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(me){un(l,l.return,me)}if(a=l.sibling,a!==null){a.return=l.return,De=a;break}De=l.return}return Oe=Zw,Zw=!1,Oe}function Du(a,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&a)===a){var b=v.destroy;v.destroy=void 0,b!==void 0&&xg(l,d,b)}v=v.next}while(v!==m)}}function $h(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function wg(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function e1(a){var l=a.alternate;l!==null&&(a.alternate=null,e1(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Gs],delete l[Eu],delete l[Om],delete l[gC],delete l[yC])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function t1(a){return a.tag===5||a.tag===3||a.tag===4}function n1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||t1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _g(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=vh));else if(m!==4&&(a=a.child,a!==null))for(_g(a,l,d),a=a.sibling;a!==null;)_g(a,l,d),a=a.sibling}function bg(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(bg(a,l,d),a=a.sibling;a!==null;)bg(a,l,d),a=a.sibling}var Bn=null,Cs=!1;function Ra(a,l,d){for(d=d.child;d!==null;)r1(a,l,d),d=d.sibling}function r1(a,l,d){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Nr,d)}catch{}switch(d.tag){case 5:sr||sc(d,l);case 6:var m=Bn,v=Cs;Bn=null,Ra(a,l,d),Bn=m,Cs=v,Bn!==null&&(Cs?(a=Bn,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Bn.removeChild(d.stateNode));break;case 18:Bn!==null&&(Cs?(a=Bn,d=d.stateNode,a.nodeType===8?Mm(a.parentNode,d):a.nodeType===1&&Mm(a,d),bs(a)):Mm(Bn,d.stateNode));break;case 4:m=Bn,v=Cs,Bn=d.stateNode.containerInfo,Cs=!0,Ra(a,l,d),Bn=m,Cs=v;break;case 0:case 11:case 14:case 15:if(!sr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var b=v,I=b.destroy;b=b.tag,I!==void 0&&(b&2||b&4)&&xg(d,l,I),v=v.next}while(v!==m)}Ra(a,l,d);break;case 1:if(!sr&&(sc(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(z){un(d,l,z)}Ra(a,l,d);break;case 21:Ra(a,l,d);break;case 22:d.mode&1?(sr=(m=sr)||d.memoizedState!==null,Ra(a,l,d),sr=m):Ra(a,l,d);break;default:Ra(a,l,d)}}function s1(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new AC),l.forEach(function(m){var v=BC.bind(null,a,m);d.has(m)||(d.add(m),m.then(v,v))})}}function js(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];try{var b=a,I=l,z=I;e:for(;z!==null;){switch(z.tag){case 5:Bn=z.stateNode,Cs=!1;break e;case 3:Bn=z.stateNode.containerInfo,Cs=!0;break e;case 4:Bn=z.stateNode.containerInfo,Cs=!0;break e}z=z.return}if(Bn===null)throw Error(t(160));r1(b,I,v),Bn=null,Cs=!1;var q=v.alternate;q!==null&&(q.return=null),v.return=null}catch(ee){un(v,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)i1(l,a),l=l.sibling}function i1(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(js(l,a),Zs(a),m&4){try{Du(3,a,a.return),$h(3,a)}catch(Fe){un(a,a.return,Fe)}try{Du(5,a,a.return)}catch(Fe){un(a,a.return,Fe)}}break;case 1:js(l,a),Zs(a),m&512&&d!==null&&sc(d,d.return);break;case 5:if(js(l,a),Zs(a),m&512&&d!==null&&sc(d,d.return),a.flags&32){var v=a.stateNode;try{Fn(v,"")}catch(Fe){un(a,a.return,Fe)}}if(m&4&&(v=a.stateNode,v!=null)){var b=a.memoizedProps,I=d!==null?d.memoizedProps:b,z=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{z==="input"&&b.type==="radio"&&b.name!=null&&ua(v,b),pa(z,I);var ee=pa(z,b);for(I=0;I<q.length;I+=2){var he=q[I],pe=q[I+1];he==="style"?jo(v,pe):he==="dangerouslySetInnerHTML"?Co(v,pe):he==="children"?Fn(v,pe):P(v,he,pe,ee)}switch(z){case"input":To(v,b);break;case"textarea":Us(v,b);break;case"select":var de=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var Ce=b.value;Ce!=null?Ln(v,!!b.multiple,Ce,!1):de!==!!b.multiple&&(b.defaultValue!=null?Ln(v,!!b.multiple,b.defaultValue,!0):Ln(v,!!b.multiple,b.multiple?[]:"",!1))}v[Eu]=b}catch(Fe){un(a,a.return,Fe)}}break;case 6:if(js(l,a),Zs(a),m&4){if(a.stateNode===null)throw Error(t(162));v=a.stateNode,b=a.memoizedProps;try{v.nodeValue=b}catch(Fe){un(a,a.return,Fe)}}break;case 3:if(js(l,a),Zs(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{bs(l.containerInfo)}catch(Fe){un(a,a.return,Fe)}break;case 4:js(l,a),Zs(a);break;case 13:js(l,a),Zs(a),v=a.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(Sg=Rt())),m&4&&s1(a);break;case 22:if(he=d!==null&&d.memoizedState!==null,a.mode&1?(sr=(ee=sr)||he,js(l,a),sr=ee):js(l,a),Zs(a),m&8192){if(ee=a.memoizedState!==null,(a.stateNode.isHidden=ee)&&!he&&a.mode&1)for(De=a,he=a.child;he!==null;){for(pe=De=he;De!==null;){switch(de=De,Ce=de.child,de.tag){case 0:case 11:case 14:case 15:Du(4,de,de.return);break;case 1:sc(de,de.return);var Oe=de.stateNode;if(typeof Oe.componentWillUnmount=="function"){m=de,d=de.return;try{l=m,Oe.props=l.memoizedProps,Oe.state=l.memoizedState,Oe.componentWillUnmount()}catch(Fe){un(m,d,Fe)}}break;case 5:sc(de,de.return);break;case 22:if(de.memoizedState!==null){l1(pe);continue}}Ce!==null?(Ce.return=de,De=Ce):l1(pe)}he=he.sibling}e:for(he=null,pe=a;;){if(pe.tag===5){if(he===null){he=pe;try{v=pe.stateNode,ee?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(z=pe.stateNode,q=pe.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null,z.style.display=ha("display",I))}catch(Fe){un(a,a.return,Fe)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=ee?"":pe.memoizedProps}catch(Fe){un(a,a.return,Fe)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===a)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===a)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===a)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:js(l,a),Zs(a),m&4&&s1(a);break;case 21:break;default:js(l,a),Zs(a)}}function Zs(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(t1(d)){var m=d;break e}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Fn(v,""),m.flags&=-33);var b=n1(a);bg(a,b,v);break;case 3:case 4:var I=m.stateNode.containerInfo,z=n1(a);_g(a,z,I);break;default:throw Error(t(161))}}catch(q){un(a,a.return,q)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function MC(a,l,d){De=a,a1(a)}function a1(a,l,d){for(var m=(a.mode&1)!==0;De!==null;){var v=De,b=v.child;if(v.tag===22&&m){var I=v.memoizedState!==null||Uh;if(!I){var z=v.alternate,q=z!==null&&z.memoizedState!==null||sr;z=Uh;var ee=sr;if(Uh=I,(sr=q)&&!ee)for(De=v;De!==null;)I=De,q=I.child,I.tag===22&&I.memoizedState!==null?c1(v):q!==null?(q.return=I,De=q):c1(v);for(;b!==null;)De=b,a1(b),b=b.sibling;De=v,Uh=z,sr=ee}o1(a)}else v.subtreeFlags&8772&&b!==null?(b.return=v,De=b):o1(a)}}function o1(a){for(;De!==null;){var l=De;if(l.flags&8772){var d=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:sr||$h(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!sr)if(d===null)m.componentDidMount();else{var v=l.elementType===l.type?d.memoizedProps:Ts(l.type,d.memoizedProps);m.componentDidUpdate(v,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=l.updateQueue;b!==null&&lw(l,b,m);break;case 3:var I=l.updateQueue;if(I!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}lw(l,I,d)}break;case 5:var z=l.stateNode;if(d===null&&l.flags&4){d=z;var q=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&d.focus();break;case"img":q.src&&(d.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var he=ee.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&bs(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sr||l.flags&512&&wg(l)}catch(de){un(l,l.return,de)}}if(l===a){De=null;break}if(d=l.sibling,d!==null){d.return=l.return,De=d;break}De=l.return}}function l1(a){for(;De!==null;){var l=De;if(l===a){De=null;break}var d=l.sibling;if(d!==null){d.return=l.return,De=d;break}De=l.return}}function c1(a){for(;De!==null;){var l=De;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{$h(4,l)}catch(q){un(l,d,q)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var v=l.return;try{m.componentDidMount()}catch(q){un(l,v,q)}}var b=l.return;try{wg(l)}catch(q){un(l,b,q)}break;case 5:var I=l.return;try{wg(l)}catch(q){un(l,I,q)}}}catch(q){un(l,l.return,q)}if(l===a){De=null;break}var z=l.sibling;if(z!==null){z.return=l.return,De=z;break}De=l.return}}var OC=Math.ceil,zh=L.ReactCurrentDispatcher,Eg=L.ReactCurrentOwner,rs=L.ReactCurrentBatchConfig,St=0,In=null,vn=null,qn=0,Br=0,ic=Ta(0),Nn=0,Mu=null,Bo=0,Bh=0,Ng=0,Ou=null,Ir=null,Sg=0,ac=1/0,zi=null,qh=!1,Tg=null,Pa=null,Hh=!1,Aa=null,Wh=0,Lu=0,Cg=null,Yh=-1,Kh=0;function pr(){return St&6?Rt():Yh!==-1?Yh:Yh=Rt()}function Da(a){return a.mode&1?St&2&&qn!==0?qn&-qn:xC.transition!==null?(Kh===0&&(Kh=Ro()),Kh):(a=mt,a!==0||(a=window.event,a=a===void 0?16:du(a.type)),a):1}function ks(a,l,d,m){if(50<Lu)throw Lu=0,Cg=null,Error(t(185));va(a,d,m),(!(St&2)||a!==In)&&(a===In&&(!(St&2)&&(Bh|=d),Nn===4&&Ma(a,qn)),Rr(a,m),d===1&&St===0&&!(l.mode&1)&&(ac=Rt()+500,bh&&ja()))}function Rr(a,l){var d=a.callbackNode;Ii(a,l);var m=Io(a,a===In?qn:0);if(m===0)d!==null&&ji(d),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(d!=null&&ji(d),l===1)a.tag===0?vC(d1.bind(null,a)):Gx(d1.bind(null,a)),pC(function(){!(St&6)&&ja()}),d=null;else{switch(wa(m)){case 1:d=xt;break;case 4:d=Kt;break;case 16:d=Un;break;case 536870912:d=Qt;break;default:d=Un}d=x1(d,u1.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function u1(a,l){if(Yh=-1,Kh=0,St&6)throw Error(t(327));var d=a.callbackNode;if(oc()&&a.callbackNode!==d)return null;var m=Io(a,a===In?qn:0);if(m===0)return null;if(m&30||m&a.expiredLanes||l)l=Qh(a,m);else{l=m;var v=St;St|=2;var b=f1();(In!==a||qn!==l)&&(zi=null,ac=Rt()+500,Ho(a,l));do try{VC();break}catch(z){h1(a,z)}while(!0);Hm(),zh.current=b,St=v,vn!==null?l=0:(In=null,qn=0,l=Nn)}if(l!==0){if(l===2&&(v=Fr(a),v!==0&&(m=v,l=jg(a,v))),l===1)throw d=Mu,Ho(a,0),Ma(a,m),Rr(a,Rt()),d;if(l===6)Ma(a,m);else{if(v=a.current.alternate,!(m&30)&&!LC(v)&&(l=Qh(a,m),l===2&&(b=Fr(a),b!==0&&(m=b,l=jg(a,b))),l===1))throw d=Mu,Ho(a,0),Ma(a,m),Rr(a,Rt()),d;switch(a.finishedWork=v,a.finishedLanes=m,l){case 0:case 1:throw Error(t(345));case 2:Wo(a,Ir,zi);break;case 3:if(Ma(a,m),(m&130023424)===m&&(l=Sg+500-Rt(),10<l)){if(Io(a,0)!==0)break;if(v=a.suspendedLanes,(v&m)!==m){pr(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=Dm(Wo.bind(null,a,Ir,zi),l);break}Wo(a,Ir,zi);break;case 4:if(Ma(a,m),(m&4194240)===m)break;for(l=a.eventTimes,v=-1;0<m;){var I=31-dr(m);b=1<<I,I=l[I],I>v&&(v=I),m&=~b}if(m=v,m=Rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*OC(m/1960))-m,10<m){a.timeoutHandle=Dm(Wo.bind(null,a,Ir,zi),m);break}Wo(a,Ir,zi);break;case 5:Wo(a,Ir,zi);break;default:throw Error(t(329))}}}return Rr(a,Rt()),a.callbackNode===d?u1.bind(null,a):null}function jg(a,l){var d=Ou;return a.current.memoizedState.isDehydrated&&(Ho(a,l).flags|=256),a=Qh(a,l),a!==2&&(l=Ir,Ir=d,l!==null&&kg(l)),a}function kg(a){Ir===null?Ir=a:Ir.push.apply(Ir,a)}function LC(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var v=d[m],b=v.getSnapshot;v=v.value;try{if(!Ns(b(),v))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ma(a,l){for(l&=~Ng,l&=~Bh,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-dr(l),m=1<<d;a[d]=-1,l&=~m}}function d1(a){if(St&6)throw Error(t(327));oc();var l=Io(a,0);if(!(l&1))return Rr(a,Rt()),null;var d=Qh(a,l);if(a.tag!==0&&d===2){var m=Fr(a);m!==0&&(l=m,d=jg(a,m))}if(d===1)throw d=Mu,Ho(a,0),Ma(a,l),Rr(a,Rt()),d;if(d===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Wo(a,Ir,zi),Rr(a,Rt()),null}function Ig(a,l){var d=St;St|=1;try{return a(l)}finally{St=d,St===0&&(ac=Rt()+500,bh&&ja())}}function qo(a){Aa!==null&&Aa.tag===0&&!(St&6)&&oc();var l=St;St|=1;var d=rs.transition,m=mt;try{if(rs.transition=null,mt=1,a)return a()}finally{mt=m,rs.transition=d,St=l,!(St&6)&&ja()}}function Rg(){Br=ic.current,Xt(ic)}function Ho(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,fC(d)),vn!==null)for(d=vn.return;d!==null;){var m=d;switch(Um(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&wh();break;case 3:nc(),Xt(Cr),Xt(tr),Zm();break;case 5:Xm(m);break;case 4:nc();break;case 13:Xt(nn);break;case 19:Xt(nn);break;case 10:Wm(m.type._context);break;case 22:case 23:Rg()}d=d.return}if(In=a,vn=a=Oa(a.current,null),qn=Br=l,Nn=0,Mu=null,Ng=Bh=Bo=0,Ir=Ou=null,Uo!==null){for(l=0;l<Uo.length;l++)if(d=Uo[l],m=d.interleaved,m!==null){d.interleaved=null;var v=m.next,b=d.pending;if(b!==null){var I=b.next;b.next=v,m.next=I}d.pending=m}Uo=null}return a}function h1(a,l){do{var d=vn;try{if(Hm(),Ph.current=Oh,Ah){for(var m=rn.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Ah=!1}if(zo=0,kn=En=rn=null,ku=!1,Iu=0,Eg.current=null,d===null||d.return===null){Nn=1,Mu=l,vn=null;break}e:{var b=a,I=d.return,z=d,q=l;if(l=qn,z.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,he=z,pe=he.tag;if(!(he.mode&1)&&(pe===0||pe===11||pe===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var Ce=Lw(I);if(Ce!==null){Ce.flags&=-257,Fw(Ce,I,z,b,l),Ce.mode&1&&Ow(b,ee,l),l=Ce,q=ee;var Oe=l.updateQueue;if(Oe===null){var Fe=new Set;Fe.add(q),l.updateQueue=Fe}else Oe.add(q);break e}else{if(!(l&1)){Ow(b,ee,l),Pg();break e}q=Error(t(426))}}else if(en&&z.mode&1){var fn=Lw(I);if(fn!==null){!(fn.flags&65536)&&(fn.flags|=256),Fw(fn,I,z,b,l),Bm(rc(q,z));break e}}b=q=rc(q,z),Nn!==4&&(Nn=2),Ou===null?Ou=[b]:Ou.push(b),b=I;do{switch(b.tag){case 3:b.flags|=65536,l&=-l,b.lanes|=l;var J=Dw(b,q,l);ow(b,J);break e;case 1:z=q;var K=b.type,Z=b.stateNode;if(!(b.flags&128)&&(typeof K.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Pa===null||!Pa.has(Z)))){b.flags|=65536,l&=-l,b.lanes|=l;var me=Mw(b,z,l);ow(b,me);break e}}b=b.return}while(b!==null)}m1(d)}catch(Ve){l=Ve,vn===d&&d!==null&&(vn=d=d.return);continue}break}while(!0)}function f1(){var a=zh.current;return zh.current=Oh,a===null?Oh:a}function Pg(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),In===null||!(Bo&268435455)&&!(Bh&268435455)||Ma(In,qn)}function Qh(a,l){var d=St;St|=2;var m=f1();(In!==a||qn!==l)&&(zi=null,Ho(a,l));do try{FC();break}catch(v){h1(a,v)}while(!0);if(Hm(),St=d,zh.current=m,vn!==null)throw Error(t(261));return In=null,qn=0,Nn}function FC(){for(;vn!==null;)p1(vn)}function VC(){for(;vn!==null&&!qs();)p1(vn)}function p1(a){var l=v1(a.alternate,a,Br);a.memoizedProps=a.pendingProps,l===null?m1(a):vn=l,Eg.current=null}function m1(a){var l=a;do{var d=l.alternate;if(a=l.return,l.flags&32768){if(d=PC(d,l),d!==null){d.flags&=32767,vn=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Nn=6,vn=null;return}}else if(d=RC(d,l,Br),d!==null){vn=d;return}if(l=l.sibling,l!==null){vn=l;return}vn=l=a}while(l!==null);Nn===0&&(Nn=5)}function Wo(a,l,d){var m=mt,v=rs.transition;try{rs.transition=null,mt=1,UC(a,l,d,m)}finally{rs.transition=v,mt=m}return null}function UC(a,l,d,m){do oc();while(Aa!==null);if(St&6)throw Error(t(327));d=a.finishedWork;var v=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var b=d.lanes|d.childLanes;if($t(a,b),a===In&&(vn=In=null,qn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||Hh||(Hh=!0,x1(Un,function(){return oc(),null})),b=(d.flags&15990)!==0,d.subtreeFlags&15990||b){b=rs.transition,rs.transition=null;var I=mt;mt=1;var z=St;St|=4,Eg.current=null,DC(a,d),i1(d,a),aC(Pm),ba=!!Rm,Pm=Rm=null,a.current=d,MC(d),ys(),St=z,mt=I,rs.transition=b}else a.current=d;if(Hh&&(Hh=!1,Aa=a,Wh=v),b=a.pendingLanes,b===0&&(Pa=null),jl(d.stateNode),Rr(a,Rt()),l!==null)for(m=a.onRecoverableError,d=0;d<l.length;d++)v=l[d],m(v.value,{componentStack:v.stack,digest:v.digest});if(qh)throw qh=!1,a=Tg,Tg=null,a;return Wh&1&&a.tag!==0&&oc(),b=a.pendingLanes,b&1?a===Cg?Lu++:(Lu=0,Cg=a):Lu=0,ja(),null}function oc(){if(Aa!==null){var a=wa(Wh),l=rs.transition,d=mt;try{if(rs.transition=null,mt=16>a?16:a,Aa===null)var m=!1;else{if(a=Aa,Aa=null,Wh=0,St&6)throw Error(t(331));var v=St;for(St|=4,De=a.current;De!==null;){var b=De,I=b.child;if(De.flags&16){var z=b.deletions;if(z!==null){for(var q=0;q<z.length;q++){var ee=z[q];for(De=ee;De!==null;){var he=De;switch(he.tag){case 0:case 11:case 15:Du(8,he,b)}var pe=he.child;if(pe!==null)pe.return=he,De=pe;else for(;De!==null;){he=De;var de=he.sibling,Ce=he.return;if(e1(he),he===ee){De=null;break}if(de!==null){de.return=Ce,De=de;break}De=Ce}}}var Oe=b.alternate;if(Oe!==null){var Fe=Oe.child;if(Fe!==null){Oe.child=null;do{var fn=Fe.sibling;Fe.sibling=null,Fe=fn}while(Fe!==null)}}De=b}}if(b.subtreeFlags&2064&&I!==null)I.return=b,De=I;else e:for(;De!==null;){if(b=De,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Du(9,b,b.return)}var J=b.sibling;if(J!==null){J.return=b.return,De=J;break e}De=b.return}}var K=a.current;for(De=K;De!==null;){I=De;var Z=I.child;if(I.subtreeFlags&2064&&Z!==null)Z.return=I,De=Z;else e:for(I=K;De!==null;){if(z=De,z.flags&2048)try{switch(z.tag){case 0:case 11:case 15:$h(9,z)}}catch(Ve){un(z,z.return,Ve)}if(z===I){De=null;break e}var me=z.sibling;if(me!==null){me.return=z.return,De=me;break e}De=z.return}}if(St=v,ja(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Nr,a)}catch{}m=!0}return m}finally{mt=d,rs.transition=l}}return!1}function g1(a,l,d){l=rc(d,l),l=Dw(a,l,1),a=Ia(a,l,1),l=pr(),a!==null&&(va(a,1,l),Rr(a,l))}function un(a,l,d){if(a.tag===3)g1(a,a,d);else for(;l!==null;){if(l.tag===3){g1(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Pa===null||!Pa.has(m))){a=rc(d,a),a=Mw(l,a,1),l=Ia(l,a,1),a=pr(),l!==null&&(va(l,1,a),Rr(l,a));break}}l=l.return}}function $C(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),l=pr(),a.pingedLanes|=a.suspendedLanes&d,In===a&&(qn&d)===d&&(Nn===4||Nn===3&&(qn&130023424)===qn&&500>Rt()-Sg?Ho(a,0):Ng|=d),Rr(a,l)}function y1(a,l){l===0&&(a.mode&1?(l=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):l=1);var d=pr();a=Vi(a,l),a!==null&&(va(a,l,d),Rr(a,d))}function zC(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),y1(a,d)}function BC(a,l){var d=0;switch(a.tag){case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(l),y1(a,d)}var v1;v1=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Cr.current)kr=!0;else{if(!(a.lanes&d)&&!(l.flags&128))return kr=!1,IC(a,l,d);kr=!!(a.flags&131072)}else kr=!1,en&&l.flags&1048576&&Xx(l,Nh,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Vh(a,l),a=l.pendingProps;var v=Ql(l,tr.current);tc(l,d),v=ng(null,l,m,a,v,d);var b=rg();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,jr(m)?(b=!0,_h(l)):b=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Qm(l),v.updater=Lh,l.stateNode=v,v._reactInternals=l,cg(l,m,a,d),l=fg(null,l,m,!0,b,d)):(l.tag=0,en&&b&&Vm(l),fr(null,l,v,d),l=l.child),l;case 16:m=l.elementType;e:{switch(Vh(a,l),a=l.pendingProps,v=m._init,m=v(m._payload),l.type=m,v=l.tag=HC(m),a=Ts(m,a),v){case 0:l=hg(null,l,m,a,d);break e;case 1:l=qw(null,l,m,a,d);break e;case 11:l=Vw(null,l,m,a,d);break e;case 14:l=Uw(null,l,m,Ts(m.type,a),d);break e}throw Error(t(306,m,""))}return l;case 0:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Ts(m,v),hg(a,l,m,v,d);case 1:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Ts(m,v),qw(a,l,m,v,d);case 3:e:{if(Hw(l),a===null)throw Error(t(387));m=l.pendingProps,b=l.memoizedState,v=b.element,aw(a,l),Ih(l,m,null,d);var I=l.memoizedState;if(m=I.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){v=rc(Error(t(423)),l),l=Ww(a,l,m,d,v);break e}else if(m!==v){v=rc(Error(t(424)),l),l=Ww(a,l,m,d,v);break e}else for(zr=Sa(l.stateNode.containerInfo.firstChild),$r=l,en=!0,Ss=null,d=sw(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Jl(),m===v){l=$i(a,l,d);break e}fr(a,l,m,d)}l=l.child}return l;case 5:return cw(l),a===null&&zm(l),m=l.type,v=l.pendingProps,b=a!==null?a.memoizedProps:null,I=v.children,Am(m,v)?I=null:b!==null&&Am(m,b)&&(l.flags|=32),Bw(a,l),fr(a,l,I,d),l.child;case 6:return a===null&&zm(l),null;case 13:return Yw(a,l,d);case 4:return Gm(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Zl(l,null,m,d):fr(a,l,m,d),l.child;case 11:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Ts(m,v),Vw(a,l,m,v,d);case 7:return fr(a,l,l.pendingProps,d),l.child;case 8:return fr(a,l,l.pendingProps.children,d),l.child;case 12:return fr(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,v=l.pendingProps,b=l.memoizedProps,I=v.value,Bt(Ch,m._currentValue),m._currentValue=I,b!==null)if(Ns(b.value,I)){if(b.children===v.children&&!Cr.current){l=$i(a,l,d);break e}}else for(b=l.child,b!==null&&(b.return=l);b!==null;){var z=b.dependencies;if(z!==null){I=b.child;for(var q=z.firstContext;q!==null;){if(q.context===m){if(b.tag===1){q=Ui(-1,d&-d),q.tag=2;var ee=b.updateQueue;if(ee!==null){ee=ee.shared;var he=ee.pending;he===null?q.next=q:(q.next=he.next,he.next=q),ee.pending=q}}b.lanes|=d,q=b.alternate,q!==null&&(q.lanes|=d),Ym(b.return,d,l),z.lanes|=d;break}q=q.next}}else if(b.tag===10)I=b.type===l.type?null:b.child;else if(b.tag===18){if(I=b.return,I===null)throw Error(t(341));I.lanes|=d,z=I.alternate,z!==null&&(z.lanes|=d),Ym(I,d,l),I=b.sibling}else I=b.child;if(I!==null)I.return=b;else for(I=b;I!==null;){if(I===l){I=null;break}if(b=I.sibling,b!==null){b.return=I.return,I=b;break}I=I.return}b=I}fr(a,l,v.children,d),l=l.child}return l;case 9:return v=l.type,m=l.pendingProps.children,tc(l,d),v=ts(v),m=m(v),l.flags|=1,fr(a,l,m,d),l.child;case 14:return m=l.type,v=Ts(m,l.pendingProps),v=Ts(m.type,v),Uw(a,l,m,v,d);case 15:return $w(a,l,l.type,l.pendingProps,d);case 17:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Ts(m,v),Vh(a,l),l.tag=1,jr(m)?(a=!0,_h(l)):a=!1,tc(l,d),Pw(l,m,v),cg(l,m,v,d),fg(null,l,m,!0,a,d);case 19:return Qw(a,l,d);case 22:return zw(a,l,d)}throw Error(t(156,l.tag))};function x1(a,l){return Vn(a,l)}function qC(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(a,l,d,m){return new qC(a,l,d,m)}function Ag(a){return a=a.prototype,!(!a||!a.isReactComponent)}function HC(a){if(typeof a=="function")return Ag(a)?1:0;if(a!=null){if(a=a.$$typeof,a===U)return 11;if(a===we)return 14}return 2}function Oa(a,l){var d=a.alternate;return d===null?(d=ss(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Gh(a,l,d,m,v,b){var I=2;if(m=a,typeof a=="function")Ag(a)&&(I=1);else if(typeof a=="string")I=5;else e:switch(a){case R:return Yo(d.children,v,b,l);case T:I=8,v|=8;break;case k:return a=ss(12,d,l,v|2),a.elementType=k,a.lanes=b,a;case V:return a=ss(13,d,l,v),a.elementType=V,a.lanes=b,a;case Pe:return a=ss(19,d,l,v),a.elementType=Pe,a.lanes=b,a;case ve:return Xh(d,v,b,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:I=10;break e;case $:I=9;break e;case U:I=11;break e;case we:I=14;break e;case xe:I=16,m=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=ss(I,d,l,v),l.elementType=a,l.type=m,l.lanes=b,l}function Yo(a,l,d,m){return a=ss(7,a,m,l),a.lanes=d,a}function Xh(a,l,d,m){return a=ss(22,a,m,l),a.elementType=ve,a.lanes=d,a.stateNode={isHidden:!1},a}function Dg(a,l,d){return a=ss(6,a,null,l),a.lanes=d,a}function Mg(a,l,d){return l=ss(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function WC(a,l,d,m,v){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Og(a,l,d,m,v,b,I,z,q){return a=new WC(a,l,d,z,q),l===1?(l=1,b===!0&&(l|=8)):l=0,b=ss(3,null,null,l),a.current=b,b.stateNode=a,b.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qm(b),a}function YC(a,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:m==null?null:""+m,children:a,containerInfo:l,implementation:d}}function w1(a){if(!a)return Ca;a=a._reactInternals;e:{if(pt(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(jr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var d=a.type;if(jr(d))return Kx(a,d,l)}return l}function _1(a,l,d,m,v,b,I,z,q){return a=Og(d,m,!0,a,v,b,I,z,q),a.context=w1(null),d=a.current,m=pr(),v=Da(d),b=Ui(m,v),b.callback=l??null,Ia(d,b,v),a.current.lanes=v,va(a,v,m),Rr(a,m),a}function Jh(a,l,d,m){var v=l.current,b=pr(),I=Da(v);return d=w1(d),l.context===null?l.context=d:l.pendingContext=d,l=Ui(b,I),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ia(v,l,I),a!==null&&(ks(a,v,I,b),kh(a,v,I)),I}function Zh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function b1(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Lg(a,l){b1(a,l),(a=a.alternate)&&b1(a,l)}function KC(){return null}var E1=typeof reportError=="function"?reportError:function(a){console.error(a)};function Fg(a){this._internalRoot=a}ef.prototype.render=Fg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));Jh(a,l,null,null)},ef.prototype.unmount=Fg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;qo(function(){Jh(null,a,null,null)}),l[Mi]=null}};function ef(a){this._internalRoot=a}ef.prototype.unstable_scheduleHydration=function(a){if(a){var l=eh();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Ws.length&&l!==0&&l<Ws[d].priority;d++);Ws.splice(d,0,a),d===0&&rh(a)}};function Vg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function tf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function N1(){}function QC(a,l,d,m,v){if(v){if(typeof m=="function"){var b=m;m=function(){var ee=Zh(I);b.call(ee)}}var I=_1(l,m,a,0,null,!1,!1,"",N1);return a._reactRootContainer=I,a[Mi]=I.current,_u(a.nodeType===8?a.parentNode:a),qo(),I}for(;v=a.lastChild;)a.removeChild(v);if(typeof m=="function"){var z=m;m=function(){var ee=Zh(q);z.call(ee)}}var q=Og(a,0,!1,null,null,!1,!1,"",N1);return a._reactRootContainer=q,a[Mi]=q.current,_u(a.nodeType===8?a.parentNode:a),qo(function(){Jh(l,q,d,m)}),q}function nf(a,l,d,m,v){var b=d._reactRootContainer;if(b){var I=b;if(typeof v=="function"){var z=v;v=function(){var q=Zh(I);z.call(q)}}Jh(l,I,a,v)}else I=QC(d,l,a,v,m);return Zh(I)}Jd=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=ga(l.pendingLanes);d!==0&&(xa(l,d|1),Rr(l,Rt()),!(St&6)&&(ac=Rt()+500,ja()))}break;case 13:qo(function(){var m=Vi(a,1);if(m!==null){var v=pr();ks(m,a,1,v)}}),Lg(a,1)}},Rl=function(a){if(a.tag===13){var l=Vi(a,134217728);if(l!==null){var d=pr();ks(l,a,134217728,d)}Lg(a,134217728)}},Zd=function(a){if(a.tag===13){var l=Da(a),d=Vi(a,l);if(d!==null){var m=pr();ks(d,a,l,m)}Lg(a,l)}},eh=function(){return mt},th=function(a,l){var d=mt;try{return mt=a,l()}finally{mt=d}},Ti=function(a,l,d){switch(l){case"input":if(To(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var v=xh(m);if(!v)throw Error(t(90));la(m),To(m,v)}}}break;case"textarea":Us(a,d);break;case"select":l=d.value,l!=null&&Ln(a,!!d.multiple,l,!1)}},Ci=Ig,H=qo;var GC={usingClientEntryPoint:!1,Events:[Nu,Yl,xh,ur,ko,Ig]},Fu={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XC={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=gs(a),a===null?null:a.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||KC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Nr=rf.inject(XC),er=rf}catch{}}return Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC,Pr.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vg(l))throw Error(t(200));return YC(a,l,null,d)},Pr.createRoot=function(a,l){if(!Vg(a))throw Error(t(299));var d=!1,m="",v=E1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=Og(a,1,!1,null,null,d,!1,m,v),a[Mi]=l.current,_u(a.nodeType===8?a.parentNode:a),new Fg(l)},Pr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=gs(l),a=a===null?null:a.stateNode,a},Pr.flushSync=function(a){return qo(a)},Pr.hydrate=function(a,l,d){if(!tf(l))throw Error(t(200));return nf(null,a,l,!0,d)},Pr.hydrateRoot=function(a,l,d){if(!Vg(a))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,v=!1,b="",I=E1;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),l=_1(l,null,a,1,d??null,v,!1,b,I),a[Mi]=l.current,_u(a),m)for(a=0;a<m.length;a++)d=m[a],v=d._getVersion,v=v(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,v]:l.mutableSourceEagerHydrationData.push(d,v);return new ef(l)},Pr.render=function(a,l,d){if(!tf(l))throw Error(t(200));return nf(null,a,l,!1,d)},Pr.unmountComponentAtNode=function(a){if(!tf(a))throw Error(t(40));return a._reactRootContainer?(qo(function(){nf(null,null,a,!1,function(){a._reactRootContainer=null,a[Mi]=null})}),!0):!1},Pr.unstable_batchedUpdates=Ig,Pr.unstable_renderSubtreeIntoContainer=function(a,l,d,m){if(!tf(d))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return nf(a,l,d,!1,m)},Pr.version="18.3.1-next-f1338f8080-20240426",Pr}var A1;function Cb(){if(A1)return Bg.exports;A1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bg.exports=lj(),Bg.exports}var D1;function cj(){if(D1)return af;D1=1;var n=Cb();return af.createRoot=n.createRoot,af.hydrateRoot=n.hydrateRoot,af}var uj=cj(),Uu={},M1;function dj(){if(M1)return Uu;M1=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.parse=o,Uu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function o(x,_){const E=new i,j=x.length;if(j<2)return E;const S=(_==null?void 0:_.decode)||g;let A=0;do{const M=x.indexOf("=",A);if(M===-1)break;const P=x.indexOf(";",A),L=P===-1?j:P;if(M>L){A=x.lastIndexOf(";",M-1)+1;continue}const D=u(x,A,M),B=h(x,M,D),R=x.slice(D,B);if(E[R]===void 0){let T=u(x,M+1,L),k=h(x,L,T);const F=S(x.slice(T,k));E[R]=F}A=L+1}while(A<j);return E}function u(x,_,E){do{const j=x.charCodeAt(_);if(j!==32&&j!==9)return _}while(++_<E);return E}function h(x,_,E){for(;_>E;){const j=x.charCodeAt(--_);if(j!==32&&j!==9)return _+1}return E}function p(x,_,E){const j=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=j(_);if(!e.test(S))throw new TypeError(`argument val is invalid: ${_}`);let A=x+"="+S;if(!E)return A;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);A+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);A+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);A+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);A+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(A+="; HttpOnly"),E.secure&&(A+="; Secure"),E.partitioned&&(A+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return A}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return s.call(x)==="[object Date]"}return Uu}dj();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O1="popstate";function hj(n={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return ud("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:uo(s)}return pj(e,t,null,n)}function vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fj(){return Math.random().toString(36).substring(2,10)}function L1(n,e){return{usr:n.state,key:n.key,idx:e}}function ud(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:t,key:e&&e.key||r||fj()}}function uo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function pj(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",h=null,p=g();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function g(){return(o.state||{idx:null}).idx}function y(){u="POP";let S=g(),A=S==null?null:S-p;p=S,h&&h({action:u,location:j.location,delta:A})}function x(S,A){u="PUSH";let M=ud(j.location,S,A);p=g()+1;let P=L1(M,p),L=j.createHref(M);try{o.pushState(P,"",L)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(L)}i&&h&&h({action:u,location:j.location,delta:1})}function _(S,A){u="REPLACE";let M=ud(j.location,S,A);p=g();let P=L1(M,p),L=j.createHref(M);o.replaceState(P,"",L),i&&h&&h({action:u,location:j.location,delta:0})}function E(S){let A=s.location.origin!=="null"?s.location.origin:s.location.href,M=typeof S=="string"?S:uo(S);return M=M.replace(/ $/,"%20"),vt(A,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,A)}let j={get action(){return u},get location(){return n(s,o)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(O1,y),h=S,()=>{s.removeEventListener(O1,y),h=null}},createHref(S){return e(s,S)},createURL:E,encodeLocation(S){let A=E(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:_,go(S){return o.go(S)}};return j}var mj=new Set(["lazy","caseSensitive","path","id","index","children"]);function gj(n){return n.index===!0}function Kf(n,e,t=[],r={}){return n.map((s,i)=>{let o=[...t,String(i)],u=typeof s.id=="string"?s.id:o.join("-");if(vt(s.index!==!0||!s.children,"Cannot specify children on an index route"),vt(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),gj(s)){let h={...s,...e(s),id:u};return r[u]=h,h}else{let h={...s,...e(s),id:u,children:void 0};return r[u]=h,s.children&&(h.children=Kf(s.children,e,o,r)),h}})}function za(n,e,t="/"){return Ef(n,e,t,!1)}function Ef(n,e,t,r){let s=typeof e=="string"?wo(e):e,i=Ms(s.pathname||"/",t);if(i==null)return null;let o=jb(n);vj(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let p=kj(i);u=Cj(o[h],p,r)}return u}function yj(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function jb(n,e=[],t=[],r=""){let s=(i,o,u)=>{let h={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};h.relativePath.startsWith("/")&&(vt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=ci([r,h.relativePath]),g=t.concat(h);i.children&&i.children.length>0&&(vt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),jb(i.children,e,g,p)),!(i.path==null&&!i.index)&&e.push({path:p,score:Sj(p,i.index),routesMeta:g})};return n.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,o);else for(let h of kb(i.path))s(i,o,h)}),e}function kb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=kb(r.join("/")),u=[];return u.push(...o.map(h=>h===""?i:[i,h].join("/"))),s&&u.push(...o),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function vj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Tj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var xj=/^:[\w-]+$/,wj=3,_j=2,bj=1,Ej=10,Nj=-2,F1=n=>n==="*";function Sj(n,e){let t=n.split("/"),r=t.length;return t.some(F1)&&(r+=Nj),e&&(r+=_j),t.filter(s=>!F1(s)).reduce((s,i)=>s+(xj.test(i)?wj:i===""?bj:Ej),r)}function Tj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Cj(n,e,t=!1){let{routesMeta:r}=n,s={},i="/",o=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,g=i==="/"?e:e.slice(i.length)||"/",y=Qf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=Qf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:ci([i,y.pathname]),pathnameBase:Pj(ci([i,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(i=ci([i,y.pathnameBase]))}return o}function Qf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jj(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},x)=>{if(g==="*"){let E=u[x]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[x];return y&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:o,pattern:n}}function jj(n,e=!1,t=!0){Gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ms(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Ij(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?wo(n):n;return{pathname:t?t.startsWith("/")?t:Rj(t,e):e,search:Aj(r),hash:Dj(s)}}function Rj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Wg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ib(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ry(n){let e=Ib(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Py(n,e,t,r=!1){let s;typeof n=="string"?s=wo(n):(s={...n},vt(!s.pathname||!s.pathname.includes("?"),Wg("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Wg("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Wg("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=t;else{let y=e.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}u=y>=0?e[y]:"/"}let h=Ij(s,u),p=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var ci=n=>n.join("/").replace(/\/\/+/g,"/"),Pj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Aj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Dj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Gf=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Mp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Rb=["POST","PUT","PATCH","DELETE"],Mj=new Set(Rb),Oj=["GET",...Rb],Lj=new Set(Oj),Fj=new Set([301,302,303,307,308]),Vj=new Set([307,308]),Yg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$u={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$j=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Pb="remix-router-transitions",Ab=Symbol("ResetLoaderData");function zj(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";vt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||$j,s={},i=Kf(n.routes,r,void 0,s),o,u=n.basename||"/",h=n.dataStrategy||Yj,p=n.patchRoutesOnNavigation,g={...n.future},y=null,x=new Set,_=null,E=null,j=null,S=n.hydrationData!=null,A=za(i,n.history.location,u),M=null;if(A==null&&!p){let H=as(404,{pathname:n.history.location.pathname}),{matches:G,route:te}=Q1(i);A=G,M={[te.id]:H}}A&&!n.hydrationData&&ps(A,i,n.history.location.pathname).active&&(A=null);let P;if(A)if(A.some(H=>H.route.lazy))P=!1;else if(!A.some(H=>H.route.loader))P=!0;else{let H=n.hydrationData?n.hydrationData.loaderData:null,G=n.hydrationData?n.hydrationData.errors:null;if(G){let te=A.findIndex(ae=>G[ae.route.id]!==void 0);P=A.slice(0,te+1).every(ae=>!P0(ae.route,H,G))}else P=A.every(te=>!P0(te.route,H,G))}else{P=!1,A=[];let H=ps(null,i,n.history.location.pathname);H.active&&H.matches&&(A=H.matches)}let L,D={historyAction:n.history.action,location:n.history.location,matches:A,initialized:P,navigation:Yg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||M,fetchers:new Map,blockers:new Map},B="POP",R=!1,T,k=!1,F=new Map,$=null,U=!1,V=!1,Pe=new Set,we=new Map,xe=0,ve=-1,Q=new Map,le=new Set,ce=new Map,Y=new Map,se=new Set,Ee=new Map,Xe,ze=null;function at(){if(y=n.history.listen(({action:H,location:G,delta:te})=>{if(Xe){Xe(),Xe=void 0;return}Gn(Ee.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=pa({currentLocation:D.location,nextLocation:G,historyAction:H});if(ae&&te!=null){let Se=new Promise(Ae=>{Xe=Ae});n.history.go(te*-1),Bs(ae,{state:"blocked",location:G,proceed(){Bs(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Se.then(()=>n.history.go(te))},reset(){let Ae=new Map(D.blockers);Ae.set(ae,$u),Ne({blockers:Ae})}});return}return Jn(H,G)}),t){sk(e,F);let H=()=>ik(e,F);e.addEventListener("pagehide",H),$=()=>e.removeEventListener("pagehide",H)}return D.initialized||Jn("POP",D.location,{initialHydration:!0}),L}function lt(){y&&y(),$&&$(),x.clear(),T&&T.abort(),D.fetchers.forEach((H,G)=>Or(G)),D.blockers.forEach((H,G)=>fa(G))}function dt(H){return x.add(H),()=>x.delete(H)}function Ne(H,G={}){D={...D,...H};let te=[],ae=[];D.fetchers.forEach((Se,Ae)=>{Se.state==="idle"&&(se.has(Ae)?te.push(Ae):ae.push(Ae))}),[...x].forEach(Se=>Se(D,{deletedFetchers:te,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),te.forEach(Se=>Or(Se)),ae.forEach(Se=>D.fetchers.delete(Se))}function Yt(H,G,{flushSync:te}={}){var ge,Qe;let ae=D.actionData!=null&&D.navigation.formMethod!=null&&Rs(D.navigation.formMethod)&&D.navigation.state==="loading"&&((ge=H.state)==null?void 0:ge._isRedirect)!==!0,Se;G.actionData?Object.keys(G.actionData).length>0?Se=G.actionData:Se=null:ae?Se=D.actionData:Se=null;let Ae=G.loaderData?Y1(D.loaderData,G.loaderData,G.matches||[],G.errors):D.loaderData,Be=D.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((nt,kt)=>Be.set(kt,$u)));let Te=R===!0||D.navigation.formMethod!=null&&Rs(D.navigation.formMethod)&&((Qe=H.state)==null?void 0:Qe._isRedirect)!==!0;o&&(i=o,o=void 0),U||B==="POP"||(B==="PUSH"?n.history.push(H,H.state):B==="REPLACE"&&n.history.replace(H,H.state));let Me;if(B==="POP"){let nt=F.get(D.location.pathname);nt&&nt.has(H.pathname)?Me={currentLocation:D.location,nextLocation:H}:F.has(H.pathname)&&(Me={currentLocation:H,nextLocation:D.location})}else if(k){let nt=F.get(D.location.pathname);nt?nt.add(H.pathname):(nt=new Set([H.pathname]),F.set(D.location.pathname,nt)),Me={currentLocation:D.location,nextLocation:H}}Ne({...G,actionData:Se,loaderData:Ae,historyAction:B,location:H,initialized:!0,navigation:Yg,revalidation:"idle",restoreScrollPosition:Lr(H,G.matches||D.matches),preventScrollReset:Te,blockers:Be},{viewTransitionOpts:Me,flushSync:te===!0}),B="POP",R=!1,k=!1,U=!1,V=!1,ze==null||ze.resolve(),ze=null}async function Gr(H,G){if(typeof H=="number"){n.history.go(H);return}let te=R0(D.location,D.matches,u,H,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:ae,submission:Se,error:Ae}=V1(!1,te,G),Be=D.location,Te=ud(D.location,ae,G&&G.state);Te={...Te,...n.history.encodeLocation(Te)};let Me=G&&G.replace!=null?G.replace:void 0,ge="PUSH";Me===!0?ge="REPLACE":Me===!1||Se!=null&&Rs(Se.formMethod)&&Se.formAction===D.location.pathname+D.location.search&&(ge="REPLACE");let Qe=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,nt=(G&&G.flushSync)===!0,kt=pa({currentLocation:Be,nextLocation:Te,historyAction:ge});if(kt){Bs(kt,{state:"blocked",location:Te,proceed(){Bs(kt,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Gr(H,G)},reset(){let cn=new Map(D.blockers);cn.set(kt,$u),Ne({blockers:cn})}});return}await Jn(ge,Te,{submission:Se,pendingError:Ae,preventScrollReset:Qe,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:nt})}function la(){ze||(ze=ak()),Us(),Ne({revalidation:"loading"});let H=ze.promise;return D.navigation.state==="submitting"?H:D.navigation.state==="idle"?(Jn(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),H):(Jn(B||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:k===!0}),H)}async function Jn(H,G,te){T&&T.abort(),T=null,B=H,U=(te&&te.startUninterruptedRevalidation)===!0,Er(D.location,D.matches),R=(te&&te.preventScrollReset)===!0,k=(te&&te.enableViewTransition)===!0;let ae=o||i,Se=te&&te.overrideNavigation,Ae=za(ae,G,u),Be=(te&&te.flushSync)===!0,Te=ps(Ae,ae,G.pathname);if(Te.active&&Te.matches&&(Ae=Te.matches),!Ae){let{error:pt,notFoundMatches:Nt,route:It}=fs(G.pathname);Yt(G,{matches:Nt,loaderData:{},errors:{[It.id]:pt}},{flushSync:Be});return}if(D.initialized&&!V&&Zj(D.location,G)&&!(te&&te.submission&&Rs(te.submission.formMethod))){Yt(G,{matches:Ae},{flushSync:Be});return}T=new AbortController;let Me=lc(n.history,G,T.signal,te&&te.submission),ge;if(te&&te.pendingError)ge=[Go(Ae).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&Rs(te.submission.formMethod)){let pt=await Ni(Me,G,te.submission,Ae,Te.active,{replace:te.replace,flushSync:Be});if(pt.shortCircuited)return;if(pt.pendingActionResult){let[Nt,It]=pt.pendingActionResult;if(Hr(It)&&Mp(It.error)&&It.error.status===404){T=null,Yt(G,{matches:pt.matches,loaderData:{},errors:{[Nt]:It.error}});return}}Ae=pt.matches||Ae,ge=pt.pendingActionResult,Se=Kg(G,te.submission),Be=!1,Te.active=!1,Me=lc(n.history,Me.url,Me.signal)}let{shortCircuited:Qe,matches:nt,loaderData:kt,errors:cn}=await ca(Me,G,Ae,Te.active,Se,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Be,ge);Qe||(T=null,Yt(G,{matches:nt||Ae,...K1(ge),loaderData:kt,errors:cn}))}async function Ni(H,G,te,ae,Se,Ae={}){Us();let Be=nk(G,te);if(Ne({navigation:Be},{flushSync:Ae.flushSync===!0}),Se){let ge=await ur(ae,G.pathname,H.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let Qe=Go(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[Qe,{type:"error",error:ge.error}]}}else if(ge.matches)ae=ge.matches;else{let{notFoundMatches:Qe,error:nt,route:kt}=fs(G.pathname);return{matches:Qe,pendingActionResult:[kt.id,{type:"error",error:nt}]}}}let Te,Me=Ku(ae,G);if(!Me.route.action&&!Me.route.lazy)Te={type:"error",error:as(405,{method:H.method,pathname:G.pathname,routeId:Me.route.id})};else if(Te=(await hs("action",D,H,[Me],ae,null))[Me.route.id],H.signal.aborted)return{shortCircuited:!0};if(Xo(Te)){let ge;return Ae&&Ae.replace!=null?ge=Ae.replace:ge=q1(Te.response.headers.get("Location"),new URL(H.url),u)===D.location.pathname+D.location.search,await Ln(H,Te,!0,{submission:te,replace:ge}),{shortCircuited:!0}}if(Hr(Te)){let ge=Go(ae,Me.route.id);return(Ae&&Ae.replace)!==!0&&(B="PUSH"),{matches:ae,pendingActionResult:[ge.route.id,Te]}}return{matches:ae,pendingActionResult:[Me.route.id,Te]}}async function ca(H,G,te,ae,Se,Ae,Be,Te,Me,ge,Qe){let nt=Se||Kg(G,Ae),kt=Ae||Be||X1(nt),cn=!U&&!Me;if(ae){if(cn){let Kt=ua(Qe);Ne({navigation:nt,...Kt!==void 0?{actionData:Kt}:{}},{flushSync:ge})}let xt=await ur(te,G.pathname,H.signal);if(xt.type==="aborted")return{shortCircuited:!0};if(xt.type==="error"){let Kt=Go(xt.partialMatches).route.id;return{matches:xt.partialMatches,loaderData:{},errors:{[Kt]:xt.error}}}else if(xt.matches)te=xt.matches;else{let{error:Kt,notFoundMatches:Un,route:vs}=fs(G.pathname);return{matches:Un,loaderData:{},errors:{[vs.id]:Kt}}}}let pt=o||i,[Nt,It]=$1(n.history,D,te,kt,G,Me===!0,V,Pe,se,ce,le,pt,u,Qe);if(ve=++xe,Nt.length===0&&It.length===0){let xt=zs();return Yt(G,{matches:te,loaderData:{},errors:Qe&&Hr(Qe[1])?{[Qe[0]]:Qe[1].error}:null,...K1(Qe),...xt?{fetchers:new Map(D.fetchers)}:{}},{flushSync:ge}),{shortCircuited:!0}}if(cn){let xt={};if(!ae){xt.navigation=nt;let Kt=ua(Qe);Kt!==void 0&&(xt.actionData=Kt)}It.length>0&&(xt.fetchers=To(It)),Ne(xt,{flushSync:ge})}It.forEach(xt=>{Fn(xt.key),xt.controller&&we.set(xt.key,xt.controller)});let ms=()=>It.forEach(xt=>Fn(xt.key));T&&T.signal.addEventListener("abort",ms);let{loaderResults:gs,fetcherResults:Zn}=await Si(D,te,Nt,It,H);if(H.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",ms),It.forEach(xt=>we.delete(xt.key));let Vn=of(gs);if(Vn)return await Ln(H,Vn.result,!0,{replace:Te}),{shortCircuited:!0};if(Vn=of(Zn),Vn)return le.add(Vn.key),await Ln(H,Vn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:ji,errors:qs}=W1(D,te,gs,Qe,It,Zn);Me&&D.errors&&(qs={...D.errors,...qs});let ys=zs(),Rt=ha(ve),ki=ys||Rt||It.length>0;return{matches:te,loaderData:ji,errors:qs,...ki?{fetchers:new Map(D.fetchers)}:{}}}function ua(H){if(H&&!Hr(H[1]))return{[H[0]]:H[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function To(H){return H.forEach(G=>{let te=D.fetchers.get(G.key),ae=zu(void 0,te?te.data:void 0);D.fetchers.set(G.key,ae)}),new Map(D.fetchers)}async function Cl(H,G,te,ae){Fn(H);let Se=(ae&&ae.flushSync)===!0,Ae=o||i,Be=R0(D.location,D.matches,u,te,G,ae==null?void 0:ae.relative),Te=za(Ae,Be,u),Me=ps(Te,Ae,Be);if(Me.active&&Me.matches&&(Te=Me.matches),!Te){Ot(H,G,as(404,{pathname:Be}),{flushSync:Se});return}let{path:ge,submission:Qe,error:nt}=V1(!0,Be,ae);if(nt){Ot(H,G,nt,{flushSync:Se});return}let kt=Ku(Te,ge),cn=(ae&&ae.preventScrollReset)===!0;if(Qe&&Rs(Qe.formMethod)){await da(H,G,ge,kt,Te,Me.active,Se,cn,Qe);return}ce.set(H,{routeId:G,path:ge}),await ds(H,G,ge,kt,Te,Me.active,Se,cn,Qe)}async function da(H,G,te,ae,Se,Ae,Be,Te,Me){Us(),ce.delete(H);function ge(Qt){if(!Qt.route.action&&!Qt.route.lazy){let Nr=as(405,{method:Me.formMethod,pathname:te,routeId:G});return Ot(H,G,Nr,{flushSync:Be}),!0}return!1}if(!Ae&&ge(ae))return;let Qe=D.fetchers.get(H);br(H,rk(Me,Qe),{flushSync:Be});let nt=new AbortController,kt=lc(n.history,te,nt.signal,Me);if(Ae){let Qt=await ur(Se,te,kt.signal);if(Qt.type==="aborted")return;if(Qt.type==="error"){Ot(H,G,Qt.error,{flushSync:Be});return}else if(Qt.matches){if(Se=Qt.matches,ae=Ku(Se,te),ge(ae))return}else{Ot(H,G,as(404,{pathname:te}),{flushSync:Be});return}}we.set(H,nt);let cn=xe,Nt=(await hs("action",D,kt,[ae],Se,H))[ae.route.id];if(kt.signal.aborted){we.get(H)===nt&&we.delete(H);return}if(se.has(H)){if(Xo(Nt)||Hr(Nt)){br(H,Ua(void 0));return}}else{if(Xo(Nt))if(we.delete(H),ve>cn){br(H,Ua(void 0));return}else return le.add(H),br(H,zu(Me)),Ln(kt,Nt,!1,{fetcherSubmission:Me,preventScrollReset:Te});if(Hr(Nt)){Ot(H,G,Nt.error);return}}let It=D.navigation.location||D.location,ms=lc(n.history,It,nt.signal),gs=o||i,Zn=D.navigation.state!=="idle"?za(gs,D.navigation.location,u):D.matches;vt(Zn,"Didn't find any matches after fetcher action");let Vn=++xe;Q.set(H,Vn);let ji=zu(Me,Nt.data);D.fetchers.set(H,ji);let[qs,ys]=$1(n.history,D,Zn,Me,It,!1,V,Pe,se,ce,le,gs,u,[ae.route.id,Nt]);ys.filter(Qt=>Qt.key!==H).forEach(Qt=>{let Nr=Qt.key,er=D.fetchers.get(Nr),jl=zu(void 0,er?er.data:void 0);D.fetchers.set(Nr,jl),Fn(Nr),Qt.controller&&we.set(Nr,Qt.controller)}),Ne({fetchers:new Map(D.fetchers)});let Rt=()=>ys.forEach(Qt=>Fn(Qt.key));nt.signal.addEventListener("abort",Rt);let{loaderResults:ki,fetcherResults:xt}=await Si(D,Zn,qs,ys,ms);if(nt.signal.aborted)return;nt.signal.removeEventListener("abort",Rt),Q.delete(H),we.delete(H),ys.forEach(Qt=>we.delete(Qt.key));let Kt=of(ki);if(Kt)return Ln(ms,Kt.result,!1,{preventScrollReset:Te});if(Kt=of(xt),Kt)return le.add(Kt.key),Ln(ms,Kt.result,!1,{preventScrollReset:Te});let{loaderData:Un,errors:vs}=W1(D,Zn,ki,void 0,ys,xt);if(D.fetchers.has(H)){let Qt=Ua(Nt.data);D.fetchers.set(H,Qt)}ha(Vn),D.navigation.state==="loading"&&Vn>ve?(vt(B,"Expected pending action"),T&&T.abort(),Yt(D.navigation.location,{matches:Zn,loaderData:Un,errors:vs,fetchers:new Map(D.fetchers)})):(Ne({errors:vs,loaderData:Y1(D.loaderData,Un,Zn,vs),fetchers:new Map(D.fetchers)}),V=!1)}async function ds(H,G,te,ae,Se,Ae,Be,Te,Me){let ge=D.fetchers.get(H);br(H,zu(Me,ge?ge.data:void 0),{flushSync:Be});let Qe=new AbortController,nt=lc(n.history,te,Qe.signal);if(Ae){let Nt=await ur(Se,te,nt.signal);if(Nt.type==="aborted")return;if(Nt.type==="error"){Ot(H,G,Nt.error,{flushSync:Be});return}else if(Nt.matches)Se=Nt.matches,ae=Ku(Se,te);else{Ot(H,G,as(404,{pathname:te}),{flushSync:Be});return}}we.set(H,Qe);let kt=xe,pt=(await hs("loader",D,nt,[ae],Se,H))[ae.route.id];if(we.get(H)===Qe&&we.delete(H),!nt.signal.aborted){if(se.has(H)){br(H,Ua(void 0));return}if(Xo(pt))if(ve>kt){br(H,Ua(void 0));return}else{le.add(H),await Ln(nt,pt,!1,{preventScrollReset:Te});return}if(Hr(pt)){Ot(H,G,pt.error);return}br(H,Ua(pt.data))}}async function Ln(H,G,te,{submission:ae,fetcherSubmission:Se,preventScrollReset:Ae,replace:Be}={}){G.response.headers.has("X-Remix-Revalidate")&&(V=!0);let Te=G.response.headers.get("Location");vt(Te,"Expected a Location header on the redirect Response"),Te=q1(Te,new URL(H.url),u);let Me=ud(D.location,Te,{_isRedirect:!0});if(t){let pt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(Ay.test(Te)){const Nt=n.history.createURL(Te);pt=Nt.origin!==e.location.origin||Ms(Nt.pathname,u)==null}if(pt){Be?e.location.replace(Te):e.location.assign(Te);return}}T=null;let ge=Be===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Qe,formAction:nt,formEncType:kt}=D.navigation;!ae&&!Se&&Qe&&nt&&kt&&(ae=X1(D.navigation));let cn=ae||Se;if(Vj.has(G.response.status)&&cn&&Rs(cn.formMethod))await Jn(ge,Me,{submission:{...cn,formAction:Te},preventScrollReset:Ae||R,enableViewTransition:te?k:void 0});else{let pt=Kg(Me,ae);await Jn(ge,Me,{overrideNavigation:pt,fetcherSubmission:Se,preventScrollReset:Ae||R,enableViewTransition:te?k:void 0})}}async function hs(H,G,te,ae,Se,Ae){let Be,Te={};try{Be=await Kj(h,H,G,te,ae,Se,Ae,s,r)}catch(Me){return ae.forEach(ge=>{Te[ge.route.id]={type:"error",error:Me}}),Te}for(let[Me,ge]of Object.entries(Be))if(ek(ge)){let Qe=ge.result;Te[Me]={type:"redirect",response:Xj(Qe,te,Me,Se,u)}}else Te[Me]=await Gj(ge);return Te}async function Si(H,G,te,ae,Se){let Ae=hs("loader",H,Se,te,G,null),Be=Promise.all(ae.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let nt=(await hs("loader",H,lc(n.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:nt}}else return Promise.resolve({[ge.key]:{type:"error",error:as(404,{pathname:ge.path})}})})),Te=await Ae,Me=(await Be).reduce((ge,Qe)=>Object.assign(ge,Qe),{});return{loaderResults:Te,fetcherResults:Me}}function Us(){V=!0,ce.forEach((H,G)=>{we.has(G)&&Pe.add(G),Fn(G)})}function br(H,G,te={}){D.fetchers.set(H,G),Ne({fetchers:new Map(D.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Ot(H,G,te,ae={}){let Se=Go(D.matches,G);Or(H),Ne({errors:{[Se.route.id]:te},fetchers:new Map(D.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function ln(H){return Y.set(H,(Y.get(H)||0)+1),se.has(H)&&se.delete(H),D.fetchers.get(H)||Uj}function Or(H){let G=D.fetchers.get(H);we.has(H)&&!(G&&G.state==="loading"&&Q.has(H))&&Fn(H),ce.delete(H),Q.delete(H),le.delete(H),se.delete(H),Pe.delete(H),D.fetchers.delete(H)}function Co(H){let G=(Y.get(H)||0)-1;G<=0?(Y.delete(H),se.add(H)):Y.set(H,G),Ne({fetchers:new Map(D.fetchers)})}function Fn(H){let G=we.get(H);G&&(G.abort(),we.delete(H))}function $s(H){for(let G of H){let te=ln(G),ae=Ua(te.data);D.fetchers.set(G,ae)}}function zs(){let H=[],G=!1;for(let te of le){let ae=D.fetchers.get(te);vt(ae,`Expected fetcher: ${te}`),ae.state==="loading"&&(le.delete(te),H.push(te),G=!0)}return $s(H),G}function ha(H){let G=[];for(let[te,ae]of Q)if(ae<H){let Se=D.fetchers.get(te);vt(Se,`Expected fetcher: ${te}`),Se.state==="loading"&&(Fn(te),Q.delete(te),G.push(te))}return $s(G),G.length>0}function jo(H,G){let te=D.blockers.get(H)||$u;return Ee.get(H)!==G&&Ee.set(H,G),te}function fa(H){D.blockers.delete(H),Ee.delete(H)}function Bs(H,G){let te=D.blockers.get(H)||$u;vt(te.state==="unblocked"&&G.state==="blocked"||te.state==="blocked"&&G.state==="blocked"||te.state==="blocked"&&G.state==="proceeding"||te.state==="blocked"&&G.state==="unblocked"||te.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${G.state}`);let ae=new Map(D.blockers);ae.set(H,G),Ne({blockers:ae})}function pa({currentLocation:H,nextLocation:G,historyAction:te}){if(Ee.size===0)return;Ee.size>1&&Gn(!1,"A router only supports one blocker at a time");let ae=Array.from(Ee.entries()),[Se,Ae]=ae[ae.length-1],Be=D.blockers.get(Se);if(!(Be&&Be.state==="proceeding")&&Ae({currentLocation:H,nextLocation:G,historyAction:te}))return Se}function fs(H){let G=as(404,{pathname:H}),te=o||i,{matches:ae,route:Se}=Q1(te);return{notFoundMatches:ae,route:Se,error:G}}function ma(H,G,te){if(_=H,j=G,E=te||null,!S&&D.navigation===Yg){S=!0;let ae=Lr(D.location,D.matches);ae!=null&&Ne({restoreScrollPosition:ae})}return()=>{_=null,j=null,E=null}}function Ti(H,G){return E&&E(H,G.map(ae=>yj(ae,D.loaderData)))||H.key}function Er(H,G){if(_&&j){let te=Ti(H,G);_[te]=j()}}function Lr(H,G){if(_){let te=Ti(H,G),ae=_[te];if(typeof ae=="number")return ae}return null}function ps(H,G,te){if(p)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Ef(G,te,u,!0)}}else return{active:!0,matches:Ef(G,te,u,!0)||[]};return{active:!1,matches:null}}async function ur(H,G,te){if(!p)return{type:"success",matches:H};let ae=H;for(;;){let Se=o==null,Ae=o||i,Be=s;try{await p({path:G,matches:ae,patch:(ge,Qe)=>{te.aborted||B1(ge,Qe,Ae,Be,r)}})}catch(ge){return{type:"error",error:ge,partialMatches:ae}}finally{Se&&!te.aborted&&(i=[...i])}if(te.aborted)return{type:"aborted"};let Te=za(Ae,G,u);if(Te)return{type:"success",matches:Te};let Me=Ef(Ae,G,u,!0);if(!Me||ae.length===Me.length&&ae.every((ge,Qe)=>ge.route.id===Me[Qe].route.id))return{type:"success",matches:null};ae=Me}}function ko(H){s={},o=Kf(H,r,void 0,s)}function Ci(H,G){let te=o==null;B1(H,G,o||i,s,r),te&&(i=[...i],Ne({}))}return L={get basename(){return u},get future(){return g},get state(){return D},get routes(){return i},get window(){return e},initialize:at,subscribe:dt,enableScrollRestoration:ma,navigate:Gr,fetch:Cl,revalidate:la,createHref:H=>n.history.createHref(H),encodeLocation:H=>n.history.encodeLocation(H),getFetcher:ln,deleteFetcher:Co,dispose:lt,getBlocker:jo,deleteBlocker:fa,patchRoutes:Ci,_internalFetchControllers:we,_internalSetRoutes:ko},L}function Bj(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function R0(n,e,t,r,s,i){let o,u;if(s){o=[];for(let p of e)if(o.push(p),p.route.id===s){u=p;break}}else o=e,u=e[e.length-1];let h=Py(r||".",Ry(o),Ms(n.pathname,t)||n.pathname,i==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&u){let p=Dy(h.search);if(u.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&p){let g=new URLSearchParams(h.search),y=g.getAll("index");g.delete("index"),y.filter(_=>_).forEach(_=>g.append("index",_));let x=g.toString();h.search=x?`?${x}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:ci([t,h.pathname])),uo(h)}function V1(n,e,t){if(!t||!Bj(t))return{path:e};if(t.formMethod&&!tk(t.formMethod))return{path:e,error:as(405,{method:t.formMethod})};let r=()=>({path:e,error:as(400,{type:"invalid-body"})}),i=(t.formMethod||"get").toUpperCase(),o=Mb(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Rs(i))return r();let y=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[_,E])=>`${x}${_}=${E}
`,""):String(t.body);return{path:e,submission:{formMethod:i,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:y}}}else if(t.formEncType==="application/json"){if(!Rs(i))return r();try{let y=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:i,formAction:o,formEncType:t.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}vt(typeof FormData=="function","FormData is not available in this environment");let u,h;if(t.formData)u=A0(t.formData),h=t.formData;else if(t.body instanceof FormData)u=A0(t.body),h=t.body;else if(t.body instanceof URLSearchParams)u=t.body,h=H1(u);else if(t.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(t.body),h=H1(u)}catch{return r()}let p={formMethod:i,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Rs(p.formMethod))return{path:e,submission:p};let g=wo(e);return n&&g.search&&Dy(g.search)&&u.append("index",""),g.search=`?${u}`,{path:uo(g),submission:p}}function U1(n,e,t=!1){let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function $1(n,e,t,r,s,i,o,u,h,p,g,y,x,_){let E=_?Hr(_[1])?_[1].error:_[1].data:void 0,j=n.createURL(e.location),S=n.createURL(s),A=t;i&&e.errors?A=U1(t,Object.keys(e.errors)[0],!0):_&&Hr(_[1])&&(A=U1(t,_[0]));let M=_?_[1].statusCode:void 0,P=M&&M>=400,L=A.filter((B,R)=>{let{route:T}=B;if(T.lazy)return!0;if(T.loader==null)return!1;if(i)return P0(T,e.loaderData,e.errors);if(qj(e.loaderData,e.matches[R],B))return!0;let k=e.matches[R],F=B;return z1(B,{currentUrl:j,currentParams:k.params,nextUrl:S,nextParams:F.params,...r,actionResult:E,actionStatus:M,defaultShouldRevalidate:P?!1:o||j.pathname+j.search===S.pathname+S.search||j.search!==S.search||Hj(k,F)})}),D=[];return p.forEach((B,R)=>{if(i||!t.some(U=>U.route.id===B.routeId)||h.has(R))return;let T=za(y,B.path,x);if(!T){D.push({key:R,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(R),F=Ku(T,B.path),$=!1;g.has(R)?$=!1:u.has(R)?(u.delete(R),$=!0):k&&k.state!=="idle"&&k.data===void 0?$=o:$=z1(F,{currentUrl:j,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:t[t.length-1].params,...r,actionResult:E,actionStatus:M,defaultShouldRevalidate:P?!1:o}),$&&D.push({key:R,routeId:B.routeId,path:B.path,matches:T,match:F,controller:new AbortController})}),[L,D]}function P0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function qj(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function Hj(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function z1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function B1(n,e,t,r,s){let i;if(n){let h=r[n];vt(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),i=h.children}else i=t;let o=e.filter(h=>!i.some(p=>Db(h,p))),u=Kf(o,s,[n||"_","patch",String((i==null?void 0:i.length)||"0")],r);i.push(...u)}function Db(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>Db(t,i))}):!1}async function Wj(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];vt(s,"No route found in manifest");let i={};for(let o in r){let h=s[o]!==void 0&&o!=="hasErrorBoundary";Gn(!h,`Route "${s.id}" has a static property "${o}" defined but its lazy function is also returning a value for this property. The lazy route property "${o}" will be ignored.`),!h&&!mj.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,{...e(s),lazy:void 0})}async function Yj({matches:n}){let e=n.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,s,i)=>Object.assign(r,{[e[i].route.id]:s}),{})}async function Kj(n,e,t,r,s,i,o,u,h,p){let g=i.map(_=>_.route.lazy?Wj(_.route,h,u):void 0),y=i.map((_,E)=>{let j=g[E],S=s.some(M=>M.route.id===_.route.id);return{..._,shouldLoad:S,resolve:async M=>(M&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(S=!0),S?Qj(e,r,_,j,M,p):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:y,request:r,params:i[0].params,fetcherKey:o,context:p});try{await Promise.all(g)}catch{}return x}async function Qj(n,e,t,r,s,i){let o,u,h=p=>{let g,y=new Promise((E,j)=>g=j);u=()=>g(),e.signal.addEventListener("abort",u);let x=E=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:i},...E!==void 0?[E]:[]),_=(async()=>{try{return{type:"data",result:await(s?s(j=>x(j)):x())}}catch(E){return{type:"error",result:E}}})();return Promise.race([_,y])};try{let p=t.route[n];if(r)if(p){let g,[y]=await Promise.all([h(p).catch(x=>{g=x}),r]);if(g!==void 0)throw g;o=y}else if(await r,p=t.route[n],p)o=await h(p);else if(n==="action"){let g=new URL(e.url),y=g.pathname+g.search;throw as(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0};else if(p)o=await h(p);else{let g=new URL(e.url),y=g.pathname+g.search;throw as(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return o}async function Gj(n){var r,s,i,o;let{result:e,type:t}=n;if(Ob(e)){let u;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(h){return{type:"error",error:h}}return t==="error"?{type:"error",error:new Gf(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}if(t==="error"){if(G1(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status};e=new Gf(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Mp(e)?e.status:void 0}}return G1(e)?{type:"data",data:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Xj(n,e,t,r,s){let i=n.headers.get("Location");if(vt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ay.test(i)){let o=r.slice(0,r.findIndex(u=>u.route.id===t)+1);i=R0(new URL(e.url),o,s,i),n.headers.set("Location",i)}return n}function q1(n,e,t){if(Ay.test(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Ms(s.pathname,t)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return n}function lc(n,e,t,r){let s=n.createURL(Mb(e)).toString(),i={signal:t};if(r&&Rs(r.formMethod)){let{formMethod:o,formEncType:u}=r;i.method=o.toUpperCase(),u==="application/json"?(i.headers=new Headers({"Content-Type":u}),i.body=JSON.stringify(r.json)):u==="text/plain"?i.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?i.body=A0(r.formData):i.body=r.formData}return new Request(s,i)}function A0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function H1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Jj(n,e,t,r=!1,s=!1){let i={},o=null,u,h=!1,p={},g=t&&Hr(t[1])?t[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let x=y.route.id,_=e[x];if(vt(!Xo(_),"Cannot handle redirect results in processLoaderData"),Hr(_)){let E=_.error;if(g!==void 0&&(E=g,g=void 0),o=o||{},s)o[x]=E;else{let j=Go(n,x);o[j.route.id]==null&&(o[j.route.id]=E)}r||(i[x]=Ab),h||(h=!0,u=Mp(_.error)?_.error.status:500),_.headers&&(p[x]=_.headers)}else i[x]=_.data,_.statusCode&&_.statusCode!==200&&!h&&(u=_.statusCode),_.headers&&(p[x]=_.headers)}),g!==void 0&&t&&(o={[t[0]]:g},i[t[0]]=void 0),{loaderData:i,errors:o,statusCode:u||200,loaderHeaders:p}}function W1(n,e,t,r,s,i){let{loaderData:o,errors:u}=Jj(e,t,r);return s.forEach(h=>{let{key:p,match:g,controller:y}=h,x=i[p];if(vt(x,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(Hr(x)){let _=Go(n.matches,g==null?void 0:g.route.id);u&&u[_.route.id]||(u={...u,[_.route.id]:x.error}),n.fetchers.delete(p)}else if(Xo(x))vt(!1,"Unhandled fetcher revalidation redirect");else{let _=Ua(x.data);n.fetchers.set(p,_)}}),{loaderData:o,errors:u}}function Y1(n,e,t,r){let s=Object.entries(e).filter(([,i])=>i!==Ab).reduce((i,[o,u])=>(i[o]=u,i),{});for(let i of t){let o=i.route.id;if(!e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&i.route.loader&&(s[o]=n[o]),r&&r.hasOwnProperty(o))break}return s}function K1(n){return n?Hr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Go(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Q1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function as(n,{pathname:e,routeId:t,method:r,type:s,message:i}={}){let o="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(o="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(u="Unable to encode submission body")):n===403?(o="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(o="Not Found",u=`No route matches URL "${e}"`):n===405&&(o="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Gf(n||500,o,new Error(u),!0)}function of(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(Xo(s))return{key:r,result:s}}}function Mb(n){let e=typeof n=="string"?wo(n):n;return uo({...e,hash:""})}function Zj(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function ek(n){return Ob(n.result)&&Fj.has(n.result.status)}function Hr(n){return n.type==="error"}function Xo(n){return(n&&n.type)==="redirect"}function G1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Ob(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function tk(n){return Lj.has(n.toUpperCase())}function Rs(n){return Mj.has(n.toUpperCase())}function Dy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ku(n,e){let t=typeof e=="string"?wo(e).search:e.search;if(n[n.length-1].route.index&&Dy(t||""))return n[n.length-1];let r=Ib(n);return r[r.length-1]}function X1(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:i,json:o}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function Kg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nk(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rk(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ua(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function sk(n,e){try{let t=n.sessionStorage.getItem(Pb);if(t){let r=JSON.parse(t);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function ik(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(Pb,JSON.stringify(t))}catch(r){Gn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function ak(){let n,e,t=new Promise((r,s)=>{n=async i=>{r(i);try{await t}catch{}},e=async i=>{s(i);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var _l=C.createContext(null);_l.displayName="DataRouter";var jd=C.createContext(null);jd.displayName="DataRouterState";var My=C.createContext({isTransitioning:!1});My.displayName="ViewTransition";var Lb=C.createContext(new Map);Lb.displayName="Fetchers";var ok=C.createContext(null);ok.displayName="Await";var _i=C.createContext(null);_i.displayName="Navigation";var Op=C.createContext(null);Op.displayName="Location";var bi=C.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Oy=C.createContext(null);Oy.displayName="RouteError";function lk(n,{relative:e}={}){vt(kd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(_i),{hash:s,pathname:i,search:o}=Id(n,{relative:e}),u=i;return t!=="/"&&(u=i==="/"?t:ci([t,i])),r.createHref({pathname:u,search:o,hash:s})}function kd(){return C.useContext(Op)!=null}function cr(){return vt(kd(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Op).location}var Fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vb(n){C.useContext(_i).static||C.useLayoutEffect(n)}function Cn(){let{isDataRoute:n}=C.useContext(bi);return n?_k():ck()}function ck(){vt(kd(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(_l),{basename:e,navigator:t}=C.useContext(_i),{matches:r}=C.useContext(bi),{pathname:s}=cr(),i=JSON.stringify(Ry(r)),o=C.useRef(!1);return Vb(()=>{o.current=!0}),C.useCallback((h,p={})=>{if(Gn(o.current,Fb),!o.current)return;if(typeof h=="number"){t.go(h);return}let g=Py(h,JSON.parse(i),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ci([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,i,s,n])}C.createContext(null);function _o(){let{matches:n}=C.useContext(bi),e=n[n.length-1];return e?e.params:{}}function Id(n,{relative:e}={}){let{matches:t}=C.useContext(bi),{pathname:r}=cr(),s=JSON.stringify(Ry(t));return C.useMemo(()=>Py(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function uk(n,e,t,r){vt(kd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(_i),{matches:i}=C.useContext(bi),o=i[i.length-1],u=o?o.params:{},h=o?o.pathname:"/",p=o?o.pathnameBase:"/",g=o&&o.route;{let A=g&&g.path||"";Ub(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=cr(),x;x=y;let _=x.pathname||"/",E=_;if(p!=="/"){let A=p.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=za(n,{pathname:E});return Gn(g||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),mk(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:ci([p,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:ci([p,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,t,r)}function dk(){let n=wk(),e=Mp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:s},t):null,o)}var hk=C.createElement(dk,null),fk=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(bi.Provider,{value:this.props.routeContext},C.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pk({routeContext:n,match:e,children:t}){let r=C.useContext(_l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(bi.Provider,{value:n},t)}function mk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,i=t==null?void 0:t.errors;if(i!=null){let h=s.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,u=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:y}=t,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||x){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let y,x=!1,_=null,E=null;t&&(y=i&&p.route.id?i[p.route.id]:void 0,_=p.route.errorElement||hk,o&&(u<0&&g===0?(Ub("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===g&&(x=!0,E=p.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,g+1)),S=()=>{let A;return y?A=_:x?A=E:p.route.Component?A=C.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,C.createElement(pk,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(fk,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}function Ly(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(n){let e=C.useContext(_l);return vt(e,Ly(n)),e}function yk(n){let e=C.useContext(jd);return vt(e,Ly(n)),e}function vk(n){let e=C.useContext(bi);return vt(e,Ly(n)),e}function Fy(n){let e=vk(n),t=e.matches[e.matches.length-1];return vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xk(){return Fy("useRouteId")}function wk(){var r;let n=C.useContext(Oy),e=yk("useRouteError"),t=Fy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function _k(){let{router:n}=gk("useNavigate"),e=Fy("useNavigate"),t=C.useRef(!1);return Vb(()=>{t.current=!0}),C.useCallback(async(s,i={})=>{Gn(t.current,Fb),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...i}))},[n,e])}var J1={};function Ub(n,e,t){!e&&!J1[n]&&(J1[n]=!0,Gn(!1,t))}var Z1={};function e_(n,e){!n&&!Z1[e]&&(Z1[e]=!0,console.warn(e))}function bk(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:C.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:C.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:C.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Ek=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Nk({router:n,flushSync:e}){let[t,r]=C.useState(n.state),[s,i]=C.useState(),[o,u]=C.useState({isTransitioning:!1}),[h,p]=C.useState(),[g,y]=C.useState(),[x,_]=C.useState(),E=C.useRef(new Map),j=C.useCallback((P,{deletedFetchers:L,flushSync:D,viewTransitionOpts:B})=>{L.forEach(T=>E.current.delete(T)),P.fetchers.forEach((T,k)=>{T.data!==void 0&&E.current.set(k,T.data)}),e_(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let R=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(e_(B==null||R,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!R){e&&D?e(()=>r(P)):C.startTransition(()=>r(P));return}if(e&&D){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let T=n.window.document.startViewTransition(()=>{e(()=>r(P))});T.finished.finally(()=>{e(()=>{p(void 0),y(void 0),i(void 0),u({isTransitioning:!1})})}),e(()=>y(T));return}g?(h&&h.resolve(),g.skipTransition(),_({state:P,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(i(P),u({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,e,g,h]);C.useLayoutEffect(()=>n.subscribe(j),[n,j]),C.useEffect(()=>{o.isTransitioning&&!o.flushSync&&p(new Ek)},[o]),C.useEffect(()=>{if(h&&s&&n.window){let P=s,L=h.promise,D=n.window.document.startViewTransition(async()=>{C.startTransition(()=>r(P)),await L});D.finished.finally(()=>{p(void 0),y(void 0),i(void 0),u({isTransitioning:!1})}),y(D)}},[s,h,n.window]),C.useEffect(()=>{h&&s&&t.location.key===s.location.key&&h.resolve()},[h,g,t.location,s]),C.useEffect(()=>{!o.isTransitioning&&x&&(i(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),_(void 0))},[o.isTransitioning,x]);let S=C.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,L,D)=>n.navigate(P,{state:L,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(P,L,D)=>n.navigate(P,{replace:!0,state:L,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),A=n.basename||"/",M=C.useMemo(()=>({router:n,navigator:S,static:!1,basename:A}),[n,S,A]);return C.createElement(C.Fragment,null,C.createElement(_l.Provider,{value:M},C.createElement(jd.Provider,{value:t},C.createElement(Lb.Provider,{value:E.current},C.createElement(My.Provider,{value:o},C.createElement(Ck,{basename:A,location:t.location,navigationType:t.historyAction,navigator:S},C.createElement(Sk,{routes:n.routes,future:n.future,state:t})))))),null)}var Sk=C.memo(Tk);function Tk({routes:n,future:e,state:t}){return uk(n,void 0,t,e)}function Ck({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:i=!1}){vt(!kd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof t=="string"&&(t=wo(t));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:x="default"}=t,_=C.useMemo(()=>{let E=Ms(h,o);return E==null?null:{location:{pathname:E,search:p,hash:g,state:y,key:x},navigationType:r}},[o,h,p,g,y,x,r]);return Gn(_!=null,`<Router basename="${o}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:C.createElement(_i.Provider,{value:u},C.createElement(Op.Provider,{children:e,value:_}))}var Nf="get",Sf="application/x-www-form-urlencoded";function Lp(n){return n!=null&&typeof n.tagName=="string"}function jk(n){return Lp(n)&&n.tagName.toLowerCase()==="button"}function kk(n){return Lp(n)&&n.tagName.toLowerCase()==="form"}function Ik(n){return Lp(n)&&n.tagName.toLowerCase()==="input"}function Rk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Pk(n,e){return n.button===0&&(!e||e==="_self")&&!Rk(n)}var lf=null;function Ak(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var Dk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qg(n){return n!=null&&!Dk.has(n)?(Gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):n}function Mk(n,e){let t,r,s,i,o;if(kk(n)){let u=n.getAttribute("action");r=u?Ms(u,e):null,t=n.getAttribute("method")||Nf,s=Qg(n.getAttribute("enctype"))||Sf,i=new FormData(n)}else if(jk(n)||Ik(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?Ms(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Nf,s=Qg(n.getAttribute("formenctype"))||Qg(u.getAttribute("enctype"))||Sf,i=new FormData(u,n),!Ak()){let{name:p,type:g,value:y}=n;if(g==="image"){let x=p?`${p}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else p&&i.append(p,y)}}else{if(Lp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nf,r=null,s=Sf,o=n}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:i,body:o}}function Vy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ok(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Fk(n,e,t){let r=await Promise.all(n.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Ok(i,t);return o.links?o.links():[]}return[]}));return zk(r.flat(1).filter(Lk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function t_(n,e,t,r,s,i){let o=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return i==="assets"?e.filter((h,p)=>o(h,p)||u(h,p)):i==="data"?e.filter((h,p)=>{var y;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(o(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Vk(n,e){return Uk(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Uk(n){return[...new Set(n)]}function $k(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function zk(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let i=JSON.stringify($k(s));return t.has(i)||(t.add(i),r.push({key:i,link:s})),r},[])}function Bk(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function qk(){let n=C.useContext(_l);return Vy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Hk(){let n=C.useContext(jd);return Vy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Uy=C.createContext(void 0);Uy.displayName="FrameworkContext";function $b(){let n=C.useContext(Uy);return Vy(n,"You must render this element inside a <HydratedRouter> element"),n}function Wk(n,e){let t=C.useContext(Uy),[r,s]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,x=C.useRef(null);C.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let j=A=>{A.forEach(M=>{o(M.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[n]),C.useEffect(()=>{if(r){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[r]);let _=()=>{s(!0)},E=()=>{s(!1),o(!1)};return t?n!=="intent"?[i,x,{}]:[i,x,{onFocus:Bu(u,_),onBlur:Bu(h,E),onMouseEnter:Bu(p,_),onMouseLeave:Bu(g,E),onTouchStart:Bu(y,_)}]:[!1,x,{}]}function Bu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Yk({page:n,...e}){let{router:t}=qk(),r=C.useMemo(()=>za(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(Qk,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function Kk(n){let{manifest:e,routeModules:t}=$b(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return Fk(n,e,t).then(o=>{i||s(o)}),()=>{i=!0}},[n,e,t]),r}function Qk({page:n,matches:e,...t}){let r=cr(),{manifest:s,routeModules:i}=$b(),{loaderData:o,matches:u}=Hk(),h=C.useMemo(()=>t_(n,e,u,s,r,"data"),[n,e,u,s,r]),p=C.useMemo(()=>t_(n,e,u,s,r,"assets"),[n,e,u,s,r]),g=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(e.forEach(S=>{var M;let A=s.routes[S.route.id];!A||!A.hasLoader||(!h.some(P=>P.route.id===S.route.id)&&S.route.id in o&&((M=i[S.route.id])!=null&&M.shouldRevalidate)||A.hasClientLoader?E=!0:_.add(S.route.id))}),_.size===0)return[];let j=Bk(n);return E&&_.size>0&&j.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[o,r,s,h,e,n,i]),y=C.useMemo(()=>Vk(p,s),[p,s]),x=Kk(p);return C.createElement(C.Fragment,null,g.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),x.map(({key:_,link:E})=>C.createElement("link",{key:_,...E})))}function Gk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zb&&(window.__reactRouterVersion="7.0.2")}catch{}function Xk(n,e){return zj({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:hj({window:e==null?void 0:e.window}),hydrationData:Jk(),routes:n,mapRouteProperties:bk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Jk(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Zk(n.errors)}),n}function Zk(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Gf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let i=new Error(s.message);i.stack="",t[r]=i}}else t[r]=s;return t}var Bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:u,target:h,to:p,preventScrollReset:g,viewTransition:y,...x},_){let{basename:E}=C.useContext(_i),j=typeof p=="string"&&Bb.test(p),S,A=!1;if(typeof p=="string"&&j&&(S=p,zb))try{let k=new URL(window.location.href),F=p.startsWith("//")?new URL(k.protocol+p):new URL(p),$=Ms(F.pathname,E);F.origin===k.origin&&$!=null?p=$+F.search+F.hash:A=!0}catch{Gn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=lk(p,{relative:s}),[P,L,D]=Wk(r,x),B=rI(p,{replace:o,state:u,target:h,preventScrollReset:g,relative:s,viewTransition:y});function R(k){e&&e(k),k.defaultPrevented||B(k)}let T=C.createElement("a",{...x,...D,href:S||M,onClick:A||i?e:R,ref:Gk(_,L),target:h,"data-discover":!j&&t==="render"?"true":void 0});return P&&!j?C.createElement(C.Fragment,null,T,C.createElement(Yk,{page:M})):T});Le.displayName="Link";var eI=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:u,children:h,...p},g){let y=Id(o,{relative:p.relative}),x=cr(),_=C.useContext(jd),{navigator:E,basename:j}=C.useContext(_i),S=_!=null&&lI(y)&&u===!0,A=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,M=x.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(M=M.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&j&&(P=Ms(P,j)||P);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=M===A||!s&&M.startsWith(A)&&M.charAt(L)==="/",B=P!=null&&(P===A||!s&&P.startsWith(A)&&P.charAt(A.length)==="/"),R={isActive:D,isPending:B,isTransitioning:S},T=D?e:void 0,k;typeof r=="function"?k=r(R):k=[r,D?"active":null,B?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(R):i;return C.createElement(Le,{...p,"aria-current":T,className:k,ref:g,style:F,to:o,viewTransition:u},typeof h=="function"?h(R):h)});eI.displayName="NavLink";var tI=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:i,method:o=Nf,action:u,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y,...x},_)=>{let E=aI(),j=oI(u,{relative:p}),S=o.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&Bb.test(u),M=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let L=P.nativeEvent.submitter,D=(L==null?void 0:L.getAttribute("formmethod"))||o;E(L||P.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:s,state:i,relative:p,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:_,method:S,action:j,onSubmit:r?h:M,...x,"data-discover":!A&&n==="render"?"true":void 0})});tI.displayName="Form";function nI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qb(n){let e=C.useContext(_l);return vt(e,nI(n)),e}function rI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=Cn(),h=cr(),p=Id(n,{relative:i});return C.useCallback(g=>{if(Pk(g,e)){g.preventDefault();let y=t!==void 0?t:uo(h)===uo(p);u(n,{replace:y,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[h,u,p,t,r,e,n,s,i,o])}var sI=0,iI=()=>`__${String(++sI)}__`;function aI(){let{router:n}=qb("useSubmit"),{basename:e}=C.useContext(_i),t=xk();return C.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:h,body:p}=Mk(r,e);if(s.navigate===!1){let g=s.fetcherKey||iI();await n.fetch(g,t,s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function oI(n,{relative:e}={}){let{basename:t}=C.useContext(_i),r=C.useContext(bi);vt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Id(n||".",{relative:e})},o=cr();if(n==null){i.search=o.search;let u=new URLSearchParams(i.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let g=u.toString();i.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:ci([t,i.pathname])),uo(i)}function lI(n,e={}){let t=C.useContext(My);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qb("useViewTransitionState"),s=Id(n,{relative:e.relative});if(!t.isTransitioning)return!1;let i=Ms(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Ms(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qf(s.pathname,o)!=null||Qf(s.pathname,i)!=null}new TextEncoder;var $y=Cb();const cI=ky($y);/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uI(n){return C.createElement(Nk,{flushSync:$y.flushSync,...n})}var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},dI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,u=o?n[s+1]:0,h=s+2<n.length,p=h?n[s+2]:0,g=i>>2,y=(i&3)<<4|u>>4;let x=(u&15)<<2|p>>6,_=p&63;h||(_=64,o||(x=64)),r.push(t[g],t[y],t[x],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Hb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||p==null||y==null)throw new hI;const x=i<<2|u>>4;if(r.push(x),p!==64){const _=u<<4&240|p>>2;if(r.push(_),y!==64){const E=p<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fI=function(n){const e=Hb(n);return Wb.encodeByteArray(e,!0)},Xf=function(n){return fI(n).replace(/\./g,"")},Yb=function(n){try{return Wb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=()=>pI().__FIREBASE_DEFAULTS__,gI=()=>{if(typeof process>"u"||typeof n_>"u")return;const n=n_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yb(n[1]);return e&&JSON.parse(e)},Fp=()=>{try{return mI()||gI()||yI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Kb=n=>{var e,t;return(t=(e=Fp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vI=n=>{const e=Kb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Qb=()=>{var n;return(n=Fp())===null||n===void 0?void 0:n.config},Gb=n=>{var e;return(e=Fp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xf(JSON.stringify(t)),Xf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function bI(){var n;const e=(n=Fp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TI(){const n=lr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jI(){try{return typeof indexedDB=="object"}catch{return!1}}function kI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="FirebaseError";class aa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=II,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?RI(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new aa(s,u,r)}}function RI(n,e){return n.replace(PI,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PI=/\{\$([^}]+)}/g;function AI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(r_(i)&&r_(o)){if(!Jf(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function r_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Gu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DI(n,e){const t=new MI(n,e);return t.subscribe.bind(t)}class MI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");OI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Gg),s.error===void 0&&(s.error=Gg),s.complete===void 0&&(s.complete=Gg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class dl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VI(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FI(n){return n===Ko?void 0:n}function VI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const $I={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},zI=ht.INFO,BI={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},qI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=BI[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zy{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=qI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const HI=(n,e)=>e.some(t=>n instanceof t);let s_,i_;function WI(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YI(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,D0=new WeakMap,Jb=new WeakMap,Xg=new WeakMap,By=new WeakMap;function KI(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(io(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Xb.set(t,n)}).catch(()=>{}),By.set(e,n),e}function QI(n){if(D0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});D0.set(n,e)}let M0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return D0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Jb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return io(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GI(n){M0=n(M0)}function XI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jg(this),e,...t);return Jb.set(r,e.sort?e.sort():[e]),io(r)}:YI().includes(n)?function(...e){return n.apply(Jg(this),e),io(Xb.get(this))}:function(...e){return io(n.apply(Jg(this),e))}}function JI(n){return typeof n=="function"?XI(n):(n instanceof IDBTransaction&&QI(n),HI(n,WI())?new Proxy(n,M0):n)}function io(n){if(n instanceof IDBRequest)return KI(n);if(Xg.has(n))return Xg.get(n);const e=JI(n);return e!==n&&(Xg.set(n,e),By.set(e,n)),e}const Jg=n=>By.get(n);function ZI(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),u=io(o);return r&&o.addEventListener("upgradeneeded",h=>{r(io(o.result),h.oldVersion,h.newVersion,io(o.transaction),h)}),t&&o.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const e4=["get","getKey","getAll","getAllKeys","count"],t4=["put","add","delete","clear"],Zg=new Map;function a_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=t4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e4.includes(t)))return;const i=async function(o,...u){const h=this.transaction(o,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),s&&h.done]))[0]};return Zg.set(e,i),i}GI(n=>({...n,get:(e,t,r)=>a_(e,t)||n.get(e,t,r),has:(e,t)=>!!a_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(r4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function r4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const O0="@firebase/app",o_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new zy("@firebase/app"),s4="@firebase/app-compat",i4="@firebase/analytics-compat",a4="@firebase/analytics",o4="@firebase/app-check-compat",l4="@firebase/app-check",c4="@firebase/auth",u4="@firebase/auth-compat",d4="@firebase/database",h4="@firebase/data-connect",f4="@firebase/database-compat",p4="@firebase/functions",m4="@firebase/functions-compat",g4="@firebase/installations",y4="@firebase/installations-compat",v4="@firebase/messaging",x4="@firebase/messaging-compat",w4="@firebase/performance",_4="@firebase/performance-compat",b4="@firebase/remote-config",E4="@firebase/remote-config-compat",N4="@firebase/storage",S4="@firebase/storage-compat",T4="@firebase/firestore",C4="@firebase/vertexai",j4="@firebase/firestore-compat",k4="firebase",I4="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="[DEFAULT]",R4={[O0]:"fire-core",[s4]:"fire-core-compat",[a4]:"fire-analytics",[i4]:"fire-analytics-compat",[l4]:"fire-app-check",[o4]:"fire-app-check-compat",[c4]:"fire-auth",[u4]:"fire-auth-compat",[d4]:"fire-rtdb",[h4]:"fire-data-connect",[f4]:"fire-rtdb-compat",[p4]:"fire-fn",[m4]:"fire-fn-compat",[g4]:"fire-iid",[y4]:"fire-iid-compat",[v4]:"fire-fcm",[x4]:"fire-fcm-compat",[w4]:"fire-perf",[_4]:"fire-perf-compat",[b4]:"fire-rc",[E4]:"fire-rc-compat",[N4]:"fire-gcs",[S4]:"fire-gcs-compat",[T4]:"fire-fst",[j4]:"fire-fst-compat",[C4]:"fire-vertex","fire-js":"fire-js",[k4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,P4=new Map,F0=new Map;function l_(n,e){try{n.container.addComponent(e)}catch(t){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fc(n){const e=n.name;if(F0.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,n);for(const t of Zf.values())l_(t,n);for(const t of P4.values())l_(t,n);return!0}function qy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function As(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Rd("app","Firebase",A4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=I4;function Zb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:L0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ao.create("bad-app-name",{appName:String(s)});if(t||(t=Qb()),!t)throw ao.create("no-options");const i=Zf.get(s);if(i){if(Jf(t,i.options)&&Jf(r,i.config))return i;throw ao.create("duplicate-app",{appName:s})}const o=new UI(s);for(const h of F0.values())o.addComponent(h);const u=new D4(t,r,o);return Zf.set(s,u),u}function eE(n=L0){const e=Zf.get(n);if(!e&&n===L0&&Qb())return Zb();if(!e)throw ao.create("no-app",{appName:n});return e}function oo(n,e,t){var r;let s=(r=R4[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const u=[`Unable to register library "${s}" with version "${e}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(u.join(" "));return}Fc(new dl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",O4=1,dd="firebase-heartbeat-store";let e0=null;function tE(){return e0||(e0=ZI(M4,O4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ao.create("idb-open",{originalErrorMessage:n.message})})),e0}async function L4(n){try{const t=(await tE()).transaction(dd),r=await t.objectStore(dd).get(nE(n));return await t.done,r}catch(e){if(e instanceof aa)ea.warn(e.message);else{const t=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(t.message)}}}async function c_(n,e){try{const r=(await tE()).transaction(dd,"readwrite");await r.objectStore(dd).put(e,nE(n)),await r.done}catch(t){if(t instanceof aa)ea.warn(t.message);else{const r=ao.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ea.warn(r.message)}}}function nE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,V4=30*24*60*60*1e3;class U4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new z4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=u_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=V4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u_(),{heartbeatsToSend:r,unsentEntries:s}=$4(this._heartbeatsCache.heartbeats),i=Xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ea.warn(t),""}}}function u_(){return new Date().toISOString().substring(0,10)}function $4(n,e=F4){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),d_(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),d_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class z4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jI()?kI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await L4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return c_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return c_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d_(n){return Xf(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){Fc(new dl("platform-logger",e=>new n4(e),"PRIVATE")),Fc(new dl("heartbeat",e=>new U4(e),"PRIVATE")),oo(O0,o_,n),oo(O0,o_,"esm2017"),oo("fire-js","")}B4("");function Hy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function rE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q4=rE,sE=new Rd("auth","Firebase",rE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new zy("@firebase/auth");function H4(n,...e){ep.logLevel<=ht.WARN&&ep.warn(`Auth (${Zc}): ${n}`,...e)}function Tf(n,...e){ep.logLevel<=ht.ERROR&&ep.error(`Auth (${Zc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(n,...e){throw Wy(n,...e)}function ui(n,...e){return Wy(n,...e)}function iE(n,e,t){const r=Object.assign(Object.assign({},q4()),{[e]:t});return new Rd("auth","Firebase",r).create(e,{appName:n.name})}function di(n){return iE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sE.create(n,...e)}function Je(n,e,...t){if(!n)throw Wy(e,...t)}function Wi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function ta(n,e){n||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function W4(){return h_()==="http:"||h_()==="https:"}function h_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W4()||NI()||"connection"in navigator)?navigator.onLine:!0}function K4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.shortDelay=e,this.longDelay=t,ta(t>e,"Short delay should be less than long delay!"),this.isMobile=_I()||SI()}get(){return Y4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(n,e){ta(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Ad(3e4,6e4);function bo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function oa(n,e,t,r,s={}){return oE(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=Pd(Object.assign({key:n.config.apiKey},o)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},i);return EI()||(p.referrerPolicy="no-referrer"),aE.fetch()(lE(n,n.config.apiHost,t,u),p)})}async function oE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Q4),e);try{const s=new J4(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw cf(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(n,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw cf(n,"email-already-in-use",o);if(h==="USER_DISABLED")throw cf(n,"user-disabled",o);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw iE(n,g,p);Os(n,g)}}catch(s){if(s instanceof aa)throw s;Os(n,"network-request-failed",{message:String(s)})}}async function Dd(n,e,t,r,s={}){const i=await oa(n,e,t,r,s);return"mfaPendingCredential"in i&&Os(n,"multi-factor-auth-required",{_serverResponse:i}),i}function lE(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Yy(n.config,s):`${n.config.apiScheme}://${s}`}function X4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),G4.get())})}}function cf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ui(n,e,r);return s.customData._tokenResponse=t,s}function f_(n){return n!==void 0&&n.enterprise!==void 0}class Z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return X4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eR(n,e){return oa(n,"GET","/v2/recaptchaConfig",bo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(n,e){return oa(n,"POST","/v1/accounts:delete",e)}async function cE(n,e){return oa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nR(n,e=!1){const t=tn(n),r=await t.getIdToken(e),s=Ky(r);Je(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:rd(t0(s.auth_time)),issuedAtTime:rd(t0(s.iat)),expirationTime:rd(t0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function t0(n){return Number(n)*1e3}function Ky(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=Yb(t);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function p_(n){const e=Ky(n);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof aa&&rR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function rR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Vc(n,cE(t,{idToken:r}));Je(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?uE(i.providerUserInfo):[],u=aR(n.providerData,o),h=n.isAnonymous,p=!(n.email&&i.passwordHash)&&!(u!=null&&u.length),g=h?p:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new U0(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function iR(n){const e=tn(n);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uE(n){return n.map(e=>{var{providerId:t}=e,r=Hy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(n,e){const t=await oE(n,{},async()=>{const r=Pd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=lE(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",aE.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lR(n,e){return oa(n,"POST","/v2/accounts:revokeToken",bo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const t=p_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await oR(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new vc;return r&&(Je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Je(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Je(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vc,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(n,e){Je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=Hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new U0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return Je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nR(this,e)}reload(){return iR(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Vc(this,tR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,u,h,p,g;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(s=t.email)!==null&&s!==void 0?s:void 0,_=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=t.photoURL)!==null&&o!==void 0?o:void 0,j=(u=t.tenantId)!==null&&u!==void 0?u:void 0,S=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,A=(p=t.createdAt)!==null&&p!==void 0?p:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:P,emailVerified:L,isAnonymous:D,providerData:B,stsTokenManager:R}=t;Je(P&&R,e,"internal-error");const T=vc.fromJSON(this.name,R);Je(typeof P=="string",e,"internal-error"),Fa(y,e.name),Fa(x,e.name),Je(typeof L=="boolean",e,"internal-error"),Je(typeof D=="boolean",e,"internal-error"),Fa(_,e.name),Fa(E,e.name),Fa(j,e.name),Fa(S,e.name),Fa(A,e.name),Fa(M,e.name);const k=new Yi({uid:P,auth:e,email:x,emailVerified:L,displayName:y,isAnonymous:D,photoURL:E,phoneNumber:_,tenantId:j,stsTokenManager:T,createdAt:A,lastLoginAt:M});return B&&Array.isArray(B)&&(k.providerData=B.map(F=>Object.assign({},F))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new vc;s.updateFromServerResponse(t);const i=new Yi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await tp(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Je(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?uE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new vc;u.updateFromIdToken(r);const h=new Yi({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new U0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;function Ki(n){ta(n instanceof Function,"Expected a class definition");let e=m_.get(n);return e?(ta(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,m_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dE.type="NONE";const g_=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(n,e,t){return`firebase:${n}:${e}:${t}`}class xc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cf("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new xc(Ki(g_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||Ki(g_);const o=Cf(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const g=await p._get(o);if(g){const y=Yi._fromJSON(e,g);p!==i&&(u=y),i=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new xc(i,e,r):(i=h[0],u&&await i._set(o,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(o)}catch{}})),new xc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yE(e))return"Blackberry";if(vE(e))return"Webos";if(fE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(gE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hE(n=lr()){return/firefox\//i.test(n)}function fE(n=lr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(n=lr()){return/crios\//i.test(n)}function mE(n=lr()){return/iemobile/i.test(n)}function gE(n=lr()){return/android/i.test(n)}function yE(n=lr()){return/blackberry/i.test(n)}function vE(n=lr()){return/webos/i.test(n)}function Qy(n=lr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cR(n=lr()){var e;return Qy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uR(){return TI()&&document.documentMode===10}function xE(n=lr()){return Qy(n)||gE(n)||vE(n)||yE(n)||/windows phone/i.test(n)||mE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n,e=[]){let t;switch(n){case"Browser":t=y_(lr());break;case"Worker":t=`${y_(lr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,u)=>{try{const h=e(i);o(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(n,e={}){return oa(n,"GET","/v2/passwordPolicy",bo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=6;class pR{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:fR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(i=h.containsUppercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsNumericCharacter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new dR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ki(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await xc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cE(this,{idToken:e}),r=await Yi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(As(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&(h!=null&&h.user)&&(s=h.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(di(this));const t=e?tn(e):null;return t&&Je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hR(this),t=new pR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await lR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ki(e)||this._popupRedirectResolver;Je(t,this,"argument-error"),this.redirectPersistenceManager=await xc.create(this,[Ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{o=!0,h()}}else{const h=e.addObserver(t);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&H4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bl(n){return tn(n)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=DI(t=>this.observer=t)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gR(n){Vp=n}function _E(n){return Vp.loadJS(n)}function yR(){return Vp.recaptchaEnterpriseScript}function vR(){return Vp.gapiScript}function xR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wR{constructor(){this.enterprise=new _R}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _R{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bR="recaptcha-enterprise",bE="NO_RECAPTCHA";class ER{constructor(e){this.type=bR,this.auth=bl(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{eR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new Z4(h);return i.tenantId==null?i._agentRecaptchaConfig=p:i._tenantRecaptchaConfigs[i.tenantId]=p,o(p.siteKey)}}).catch(h=>{u(h)})})}function s(i,o,u){const h=window.grecaptcha;f_(h)?h.enterprise.ready(()=>{h.enterprise.execute(i,{action:e}).then(p=>{o(p)}).catch(()=>{o(bE)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wR().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!t&&f_(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=yR();h.length!==0&&(h+=u),_E(h).then(()=>{s(u,i,o)}).catch(p=>{o(p)})}}).catch(u=>{o(u)})})}}async function x_(n,e,t,r=!1,s=!1){const i=new ER(n);let o;if(s)o=bE;else try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function $0(n,e,t,r,s){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await x_(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await x_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n,e){const t=qy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Jf(i,e??{}))return s;Os(s,"already-initialized")}return t.initialize({options:e})}function SR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ki);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TR(n,e,t){const r=bl(n);Je(r._canInitEmulator,r,"emulator-config-failed"),Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=EE(e),{host:o,port:u}=CR(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${i}//${o}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),jR()}function EE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CR(n){const e=EE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:w_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:w_(o)}}}function w_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function kR(n,e){return oa(n,"POST","/v1/accounts:update",e)}async function IR(n,e){return oa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n,e){return Dd(n,"POST","/v1/accounts:signInWithPassword",bo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,e))}async function AR(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Gy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $0(e,t,"signInWithPassword",RR);case"emailLink":return PR(e,{email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $0(e,r,"signUpPassword",IR);case"emailLink":return AR(e,{idToken:t,email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n,e){return Dd(n,"POST","/v1/accounts:signInWithIdp",bo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="http://localhost";class hl extends Gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Os("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=Hy(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new hl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return wc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,wc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wc(e,t)}buildRequest(){const e={requestUri:DR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OR(n){const e=Qu(Gu(n)).link,t=e?Qu(Gu(e)).deep_link_id:null,r=Qu(Gu(n)).deep_link_id;return(r?Qu(Gu(r)).link:null)||r||t||e||n}class Xy{constructor(e){var t,r,s,i,o,u;const h=Qu(Gu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=MR((s=h.mode)!==null&&s!==void 0?s:null);Je(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(i=h.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=h.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=OR(e);try{return new Xy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Xy.parseLink(t);return Je(r,"argument-error"),hd._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends NE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Md{constructor(){super("facebook.com")}static credential(e){return hl._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hl._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qa.credential(t,r)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Md{constructor(){super("github.com")}static credential(e){return hl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com";Ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Md{constructor(){super("twitter.com")}static credential(e,t){return hl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Wa.credential(t,r)}catch{return null}}}Wa.TWITTER_SIGN_IN_METHOD="twitter.com";Wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(n,e){return Dd(n,"POST","/v1/accounts:signUp",bo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Yi._fromIdTokenResponse(e,r,s),o=__(r);return new fl({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=__(r);return new fl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function __(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends aa{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new np(e,t,r,s)}}function SE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(n,i,e,r):i})}async function FR(n,e,t=!1){const r=await Vc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TE(n,e,t=!1){const{auth:r}=n;if(As(r.app))return Promise.reject(di(r));const s="reauthenticate";try{const i=await Vc(n,SE(r,s,e,n),t);Je(i.idToken,r,"internal-error");const o=Ky(i.idToken);Je(o,r,"internal-error");const{sub:u}=o;return Je(n.uid===u,r,"user-mismatch"),fl._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Os(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(n,e,t=!1){if(As(n.app))return Promise.reject(di(n));const r="signIn",s=await SE(n,r,e),i=await fl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function VR(n,e){return CE(bl(n),e)}async function jE(n,e){return TE(tn(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(n){const e=bl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UR(n,e,t){if(As(n.app))return Promise.reject(di(n));const r=bl(n),o=await $0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&kE(n),h}),u=await fl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(u.user),u}function $R(n,e,t){return As(n.app)?Promise.reject(di(n)):VR(tn(n),Eo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kE(n),r})}function zR(n,e){const t=tn(n);return As(t.auth.app)?Promise.reject(di(t.auth)):IE(t,e,null)}function BR(n,e){return IE(tn(n),null,e)}async function IE(n,e,t){const{auth:r}=n,i={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(i.email=e),t&&(i.password=t);const o=await Vc(n,kR(r,i));await n._updateTokensIfNecessary(o,!0)}function qR(n,e,t,r){return tn(n).onIdTokenChanged(e,t,r)}function HR(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function WR(n,e,t,r){return tn(n).onAuthStateChanged(e,t,r)}function YR(n){return tn(n).signOut()}const rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rp,"1"),this.storage.removeItem(rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=1e3,QR=10;class PE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,u,h)=>{this.notifyListeners(o,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);uR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const GR=PE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AE.type="SESSION";const DE=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async p=>p(t.origin,i)),h=await XR(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,h)=>{const p=Jy("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(y){const x=y;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(x.data.response);break;default:clearTimeout(g),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function ZR(n){hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function eP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nP(){return ME()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",rP=1,sp="firebaseLocalStorage",LE="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $p(n,e){return n.transaction([sp],e?"readwrite":"readonly").objectStore(sp)}function sP(){const n=indexedDB.deleteDatabase(OE);return new Od(n).toPromise()}function z0(){const n=indexedDB.open(OE,rP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sp,{keyPath:LE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sp)?e(r):(r.close(),await sP(),e(await z0()))})})}async function b_(n,e,t){const r=$p(n,!0).put({[LE]:e,value:t});return new Od(r).toPromise()}async function iP(n,e){const t=$p(n,!1).get(e),r=await new Od(t).toPromise();return r===void 0?null:r.value}function E_(n,e){const t=$p(n,!0).delete(e);return new Od(t).toPromise()}const aP=800,oP=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>oP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Up._getInstance(nP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eP(),!this.activeServiceWorker)return;this.sender=new JR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await z0();return await b_(e,rp,"1"),await E_(e,rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>b_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>iP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>E_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=$p(s,!1).getAll();return new Od(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const lP=FE;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n,e){return e?Ki(e):(Je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends Gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uP(n){return CE(n.auth,new Zy(n),n.bypassAuthState)}function dP(n){const{auth:e,user:t}=n;return Je(t,e,"internal-error"),TE(t,new Zy(n),n.bypassAuthState)}async function hP(n){const{auth:e,user:t}=n;return Je(t,e,"internal-error"),FR(t,new Zy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uP;case"linkViaPopup":case"linkViaRedirect":return hP;case"reauthViaPopup":case"reauthViaRedirect":return dP;default:Os(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Ad(2e3,1e4);class gc extends VE{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,gc.currentPopupAction&&gc.currentPopupAction.cancel(),gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fP.get())};e()}}gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="pendingRedirect",jf=new Map;class mP extends VE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jf.get(this.auth._key());if(!e){try{const r=await gP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jf.set(this.auth._key(),e)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gP(n,e){const t=xP(e),r=vP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function yP(n,e){jf.set(n._key(),e)}function vP(n){return Ki(n._redirectPersistence)}function xP(n){return Cf(pP,n.config.apiKey,n.name)}async function wP(n,e,t=!1){if(As(n.app))return Promise.reject(di(n));const r=bl(n),s=cP(r,e),o=await new mP(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=10*60*1e3;class bP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!UE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_P&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n,e={}){return oa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TP=/^https?/;async function CP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NP(n);for(const t of e)try{if(jP(t))return}catch{}Os(n,"unauthorized-domain")}function jP(n){const e=V0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!TP.test(t))return!1;if(SP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new Ad(3e4,6e4);function S_(){const n=hi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IP(n){return new Promise((e,t)=>{var r,s,i;function o(){S_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S_(),t(ui(n,"network-request-failed"))},timeout:kP.get()})}if(!((s=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=hi().gapi)===null||i===void 0)&&i.load)o();else{const u=xR("iframefcb");return hi()[u]=()=>{gapi.load?o():t(ui(n,"network-request-failed"))},_E(`${vR()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw kf=null,e})}let kf=null;function RP(n){return kf=kf||IP(n),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Ad(5e3,15e3),AP="__/auth/iframe",DP="emulator/auth/iframe",MP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(n){const e=n.config;Je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yy(e,DP):`https://${n.config.authDomain}/${AP}`,r={apiKey:e.apiKey,appName:n.name,v:Zc},s=OP.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Pd(r).slice(1)}`}async function FP(n){const e=await RP(n),t=hi().gapi;return Je(t,n,"internal-error"),e.open({where:document.body,url:LP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ui(n,"network-request-failed"),u=hi().setTimeout(()=>{i(o)},PP.get());function h(){hi().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UP=500,$P=600,zP="_blank",BP="http://localhost";class T_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qP(n,e,t,r=UP,s=$P){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},VP),{width:r.toString(),height:s.toString(),top:i,left:o}),p=lr().toLowerCase();t&&(u=pE(p)?zP:t),hE(p)&&(e=e||BP,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[_,E])=>`${x}${_}=${E},`,"");if(cR(p)&&u!=="_self")return HP(e||"",u),new T_(null);const y=window.open(e||"",u,g);Je(y,n,"popup-blocked");try{y.focus()}catch{}return new T_(y)}function HP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="__/auth/handler",YP="emulator/auth/handler",KP=encodeURIComponent("fac");async function C_(n,e,t,r,s,i){Je(n.config.authDomain,n,"auth-domain-config-required"),Je(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zc,eventId:s};if(e instanceof NE){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",AI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))o[g]=y}if(e instanceof Md){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(o.scopes=g.join(","))}n.tenantId&&(o.tid=n.tenantId);const u=o;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),p=h?`#${KP}=${encodeURIComponent(h)}`:"";return`${QP(n)}?${Pd(u).slice(1)}${p}`}function QP({config:n}){return n.emulator?Yy(n,YP):`https://${n.authDomain}/${WP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="webStorageSupport";class GP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=wP,this._overrideRedirectResult=yP}async _openPopup(e,t,r,s){var i;ta((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await C_(e,t,r,V0(),s);return qP(e,o,Jy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await C_(e,t,r,V0(),s);return ZR(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(ta(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await FP(e),r=new bP(e);return t.register("authEvent",s=>(Je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(n0,{type:n0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[n0];o!==void 0&&t(!!o),Os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xE()||fE()||Qy()}}const XP=GP;var j_="@firebase/auth",k_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eA(n){Fc(new dl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:o,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(n)},p=new mR(r,s,i,h);return SR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fc(new dl("auth-internal",e=>{const t=bl(e.getProvider("auth").getImmediate());return(r=>new JP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oo(j_,k_,ZP(n)),oo(j_,k_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=5*60,nA=Gb("authIdTokenMaxAge")||tA;let I_=null;const rA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>nA)return;const s=t==null?void 0:t.token;I_!==s&&(I_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ev(n=eE()){const e=qy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=NR(n,{popupRedirectResolver:XP,persistence:[lP,GR,DE]}),r=Gb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=rA(i.toString());HR(t,o,()=>o(t.currentUser)),qR(t,u=>o(u))}}const s=Kb("auth");return s&&TR(t,`http://${s}`),t}function sA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}gR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=ui("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",sA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eA("Browser");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ol,$E;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function k(){}k.prototype=T.prototype,R.D=T.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(F,$,U){for(var V=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)V[Pe-2]=arguments[Pe];return T.prototype[$].apply(F,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,T,k){k||(k=0);var F=Array(16);if(typeof T=="string")for(var $=0;16>$;++$)F[$]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for($=0;16>$;++$)F[$]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=R.g[0],k=R.g[1],$=R.g[2];var U=R.g[3],V=T+(U^k&($^U))+F[0]+3614090360&4294967295;T=k+(V<<7&4294967295|V>>>25),V=U+($^T&(k^$))+F[1]+3905402710&4294967295,U=T+(V<<12&4294967295|V>>>20),V=$+(k^U&(T^k))+F[2]+606105819&4294967295,$=U+(V<<17&4294967295|V>>>15),V=k+(T^$&(U^T))+F[3]+3250441966&4294967295,k=$+(V<<22&4294967295|V>>>10),V=T+(U^k&($^U))+F[4]+4118548399&4294967295,T=k+(V<<7&4294967295|V>>>25),V=U+($^T&(k^$))+F[5]+1200080426&4294967295,U=T+(V<<12&4294967295|V>>>20),V=$+(k^U&(T^k))+F[6]+2821735955&4294967295,$=U+(V<<17&4294967295|V>>>15),V=k+(T^$&(U^T))+F[7]+4249261313&4294967295,k=$+(V<<22&4294967295|V>>>10),V=T+(U^k&($^U))+F[8]+1770035416&4294967295,T=k+(V<<7&4294967295|V>>>25),V=U+($^T&(k^$))+F[9]+2336552879&4294967295,U=T+(V<<12&4294967295|V>>>20),V=$+(k^U&(T^k))+F[10]+4294925233&4294967295,$=U+(V<<17&4294967295|V>>>15),V=k+(T^$&(U^T))+F[11]+2304563134&4294967295,k=$+(V<<22&4294967295|V>>>10),V=T+(U^k&($^U))+F[12]+1804603682&4294967295,T=k+(V<<7&4294967295|V>>>25),V=U+($^T&(k^$))+F[13]+4254626195&4294967295,U=T+(V<<12&4294967295|V>>>20),V=$+(k^U&(T^k))+F[14]+2792965006&4294967295,$=U+(V<<17&4294967295|V>>>15),V=k+(T^$&(U^T))+F[15]+1236535329&4294967295,k=$+(V<<22&4294967295|V>>>10),V=T+($^U&(k^$))+F[1]+4129170786&4294967295,T=k+(V<<5&4294967295|V>>>27),V=U+(k^$&(T^k))+F[6]+3225465664&4294967295,U=T+(V<<9&4294967295|V>>>23),V=$+(T^k&(U^T))+F[11]+643717713&4294967295,$=U+(V<<14&4294967295|V>>>18),V=k+(U^T&($^U))+F[0]+3921069994&4294967295,k=$+(V<<20&4294967295|V>>>12),V=T+($^U&(k^$))+F[5]+3593408605&4294967295,T=k+(V<<5&4294967295|V>>>27),V=U+(k^$&(T^k))+F[10]+38016083&4294967295,U=T+(V<<9&4294967295|V>>>23),V=$+(T^k&(U^T))+F[15]+3634488961&4294967295,$=U+(V<<14&4294967295|V>>>18),V=k+(U^T&($^U))+F[4]+3889429448&4294967295,k=$+(V<<20&4294967295|V>>>12),V=T+($^U&(k^$))+F[9]+568446438&4294967295,T=k+(V<<5&4294967295|V>>>27),V=U+(k^$&(T^k))+F[14]+3275163606&4294967295,U=T+(V<<9&4294967295|V>>>23),V=$+(T^k&(U^T))+F[3]+4107603335&4294967295,$=U+(V<<14&4294967295|V>>>18),V=k+(U^T&($^U))+F[8]+1163531501&4294967295,k=$+(V<<20&4294967295|V>>>12),V=T+($^U&(k^$))+F[13]+2850285829&4294967295,T=k+(V<<5&4294967295|V>>>27),V=U+(k^$&(T^k))+F[2]+4243563512&4294967295,U=T+(V<<9&4294967295|V>>>23),V=$+(T^k&(U^T))+F[7]+1735328473&4294967295,$=U+(V<<14&4294967295|V>>>18),V=k+(U^T&($^U))+F[12]+2368359562&4294967295,k=$+(V<<20&4294967295|V>>>12),V=T+(k^$^U)+F[5]+4294588738&4294967295,T=k+(V<<4&4294967295|V>>>28),V=U+(T^k^$)+F[8]+2272392833&4294967295,U=T+(V<<11&4294967295|V>>>21),V=$+(U^T^k)+F[11]+1839030562&4294967295,$=U+(V<<16&4294967295|V>>>16),V=k+($^U^T)+F[14]+4259657740&4294967295,k=$+(V<<23&4294967295|V>>>9),V=T+(k^$^U)+F[1]+2763975236&4294967295,T=k+(V<<4&4294967295|V>>>28),V=U+(T^k^$)+F[4]+1272893353&4294967295,U=T+(V<<11&4294967295|V>>>21),V=$+(U^T^k)+F[7]+4139469664&4294967295,$=U+(V<<16&4294967295|V>>>16),V=k+($^U^T)+F[10]+3200236656&4294967295,k=$+(V<<23&4294967295|V>>>9),V=T+(k^$^U)+F[13]+681279174&4294967295,T=k+(V<<4&4294967295|V>>>28),V=U+(T^k^$)+F[0]+3936430074&4294967295,U=T+(V<<11&4294967295|V>>>21),V=$+(U^T^k)+F[3]+3572445317&4294967295,$=U+(V<<16&4294967295|V>>>16),V=k+($^U^T)+F[6]+76029189&4294967295,k=$+(V<<23&4294967295|V>>>9),V=T+(k^$^U)+F[9]+3654602809&4294967295,T=k+(V<<4&4294967295|V>>>28),V=U+(T^k^$)+F[12]+3873151461&4294967295,U=T+(V<<11&4294967295|V>>>21),V=$+(U^T^k)+F[15]+530742520&4294967295,$=U+(V<<16&4294967295|V>>>16),V=k+($^U^T)+F[2]+3299628645&4294967295,k=$+(V<<23&4294967295|V>>>9),V=T+($^(k|~U))+F[0]+4096336452&4294967295,T=k+(V<<6&4294967295|V>>>26),V=U+(k^(T|~$))+F[7]+1126891415&4294967295,U=T+(V<<10&4294967295|V>>>22),V=$+(T^(U|~k))+F[14]+2878612391&4294967295,$=U+(V<<15&4294967295|V>>>17),V=k+(U^($|~T))+F[5]+4237533241&4294967295,k=$+(V<<21&4294967295|V>>>11),V=T+($^(k|~U))+F[12]+1700485571&4294967295,T=k+(V<<6&4294967295|V>>>26),V=U+(k^(T|~$))+F[3]+2399980690&4294967295,U=T+(V<<10&4294967295|V>>>22),V=$+(T^(U|~k))+F[10]+4293915773&4294967295,$=U+(V<<15&4294967295|V>>>17),V=k+(U^($|~T))+F[1]+2240044497&4294967295,k=$+(V<<21&4294967295|V>>>11),V=T+($^(k|~U))+F[8]+1873313359&4294967295,T=k+(V<<6&4294967295|V>>>26),V=U+(k^(T|~$))+F[15]+4264355552&4294967295,U=T+(V<<10&4294967295|V>>>22),V=$+(T^(U|~k))+F[6]+2734768916&4294967295,$=U+(V<<15&4294967295|V>>>17),V=k+(U^($|~T))+F[13]+1309151649&4294967295,k=$+(V<<21&4294967295|V>>>11),V=T+($^(k|~U))+F[4]+4149444226&4294967295,T=k+(V<<6&4294967295|V>>>26),V=U+(k^(T|~$))+F[11]+3174756917&4294967295,U=T+(V<<10&4294967295|V>>>22),V=$+(T^(U|~k))+F[2]+718787259&4294967295,$=U+(V<<15&4294967295|V>>>17),V=k+(U^($|~T))+F[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+($+(V<<21&4294967295|V>>>11))&4294967295,R.g[2]=R.g[2]+$&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var k=T-this.blockSize,F=this.B,$=this.h,U=0;U<T;){if($==0)for(;U<=k;)s(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<T;)if(F[$++]=R.charCodeAt(U++),$==this.blockSize){s(this,F),$=0;break}}else for(;U<T;)if(F[$++]=R[U++],$==this.blockSize){s(this,F),$=0;break}}this.h=$,this.o+=T},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var k=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=k&255,k/=256;for(this.u(R),R=Array(16),T=k=0;4>T;++T)for(var F=0;32>F;F+=8)R[k++]=this.g[T]>>>F&255;return R};function i(R,T){var k=u;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=T(R)}function o(R,T){this.h=T;for(var k=[],F=!0,$=R.length-1;0<=$;$--){var U=R[$]|0;F&&U==T||(k[$]=U,F=!1)}this.g=k}var u={};function h(R){return-128<=R&&128>R?i(R,function(T){return new o([T|0],0>T?-1:0)}):new o([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return S(p(-R));for(var T=[],k=1,F=0;R>=k;F++)T[F]=R/k|0,k*=4294967296;return new o(T,0)}function g(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return S(g(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(T,8)),F=y,$=0;$<R.length;$+=8){var U=Math.min(8,R.length-$),V=parseInt(R.substring($,$+U),T);8>U?(U=p(Math.pow(T,U)),F=F.j(U).add(p(V))):(F=F.j(k),F=F.add(p(V)))}return F}var y=h(0),x=h(1),_=h(16777216);n=o.prototype,n.m=function(){if(j(this))return-S(this).m();for(var R=0,T=1,k=0;k<this.g.length;k++){var F=this.i(k);R+=(0<=F?F:4294967296+F)*T,T*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(E(this))return"0";if(j(this))return"-"+S(this).toString(R);for(var T=p(Math.pow(R,6)),k=this,F="";;){var $=L(k,T).g;k=A(k,$.j(T));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=$,E(k))return U+F;for(;6>U.length;)U="0"+U;F=U+F}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function E(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function j(R){return R.h==-1}n.l=function(R){return R=A(this,R),j(R)?-1:E(R)?0:1};function S(R){for(var T=R.g.length,k=[],F=0;F<T;F++)k[F]=~R.g[F];return new o(k,~R.h).add(x)}n.abs=function(){return j(this)?S(this):this},n.add=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],F=0,$=0;$<=T;$++){var U=F+(this.i($)&65535)+(R.i($)&65535),V=(U>>>16)+(this.i($)>>>16)+(R.i($)>>>16);F=V>>>16,U&=65535,V&=65535,k[$]=V<<16|U}return new o(k,k[k.length-1]&-2147483648?-1:0)};function A(R,T){return R.add(S(T))}n.j=function(R){if(E(this)||E(R))return y;if(j(this))return j(R)?S(this).j(S(R)):S(S(this).j(R));if(j(R))return S(this.j(S(R)));if(0>this.l(_)&&0>R.l(_))return p(this.m()*R.m());for(var T=this.g.length+R.g.length,k=[],F=0;F<2*T;F++)k[F]=0;for(F=0;F<this.g.length;F++)for(var $=0;$<R.g.length;$++){var U=this.i(F)>>>16,V=this.i(F)&65535,Pe=R.i($)>>>16,we=R.i($)&65535;k[2*F+2*$]+=V*we,M(k,2*F+2*$),k[2*F+2*$+1]+=U*we,M(k,2*F+2*$+1),k[2*F+2*$+1]+=V*Pe,M(k,2*F+2*$+1),k[2*F+2*$+2]+=U*Pe,M(k,2*F+2*$+2)}for(F=0;F<T;F++)k[F]=k[2*F+1]<<16|k[2*F];for(F=T;F<2*T;F++)k[F]=0;return new o(k,0)};function M(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function P(R,T){this.g=R,this.h=T}function L(R,T){if(E(T))throw Error("division by zero");if(E(R))return new P(y,y);if(j(R))return T=L(S(R),T),new P(S(T.g),S(T.h));if(j(T))return T=L(R,S(T)),new P(S(T.g),T.h);if(30<R.g.length){if(j(R)||j(T))throw Error("slowDivide_ only works with positive integers.");for(var k=x,F=T;0>=F.l(R);)k=D(k),F=D(F);var $=B(k,1),U=B(F,1);for(F=B(F,2),k=B(k,2);!E(F);){var V=U.add(F);0>=V.l(R)&&($=$.add(k),U=V),F=B(F,1),k=B(k,1)}return T=A(R,$.j(T)),new P($,T)}for($=y;0<=R.l(T);){for(k=Math.max(1,Math.floor(R.m()/T.m())),F=Math.ceil(Math.log(k)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),U=p(k),V=U.j(T);j(V)||0<V.l(R);)k-=F,U=p(k),V=U.j(T);E(U)&&(U=x),$=$.add(U),R=A(R,V)}return new P($,R)}n.A=function(R){return L(this,R).h},n.and=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],F=0;F<T;F++)k[F]=this.i(F)&R.i(F);return new o(k,this.h&R.h)},n.or=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],F=0;F<T;F++)k[F]=this.i(F)|R.i(F);return new o(k,this.h|R.h)},n.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),k=[],F=0;F<T;F++)k[F]=this.i(F)^R.i(F);return new o(k,this.h^R.h)};function D(R){for(var T=R.g.length+1,k=[],F=0;F<T;F++)k[F]=R.i(F)<<1|R.i(F-1)>>>31;return new o(k,R.h)}function B(R,T){var k=T>>5;T%=32;for(var F=R.g.length-k,$=[],U=0;U<F;U++)$[U]=0<T?R.i(U+k)>>>T|R.i(U+k+1)<<32-T:R.i(U+k);return new o($,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$E=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=p,o.fromString=g,ol=o}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zE,Xu,BE,If,B0,qE,HE,WE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,N){return f==Array.prototype||f==Object.prototype||(f[w]=N.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var w=0;w<f.length;++w){var N=f[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=t(this);function s(f,w){if(w)e:{var N=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var X=f[O];if(!(X in N))break e;N=N[X]}f=f[f.length-1],O=N[f],w=w(O),w!=O&&w!=null&&e(N,f,{configurable:!0,writable:!0,value:w})}}function i(f,w){f instanceof String&&(f+="");var N=0,O=!1,X={next:function(){if(!O&&N<f.length){var ne=N++;return{value:w(ne,f[ne]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(f){return f||function(){return i(this,function(w,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function p(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function g(f,w,N){return f.call.apply(f.bind,arguments)}function y(f,w,N){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),f.apply(w,X)}}return function(){return f.apply(w,arguments)}}function x(f,w,N){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,x.apply(null,arguments)}function _(f,w){var N=Array.prototype.slice.call(arguments,1);return function(){var O=N.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function E(f,w){function N(){}N.prototype=w.prototype,f.aa=w.prototype,f.prototype=new N,f.prototype.constructor=f,f.Qb=function(O,X,ne){for(var ye=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ye[Lt-2]=arguments[Lt];return w.prototype[X].apply(O,ye)}}function j(f){const w=f.length;if(0<w){const N=Array(w);for(let O=0;O<w;O++)N[O]=f[O];return N}return[]}function S(f,w){for(let N=1;N<arguments.length;N++){const O=arguments[N];if(h(O)){const X=f.length||0,ne=O.length||0;f.length=X+ne;for(let ye=0;ye<ne;ye++)f[X+ye]=O[ye]}else f.push(O)}}class A{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function M(f){return/^[\s\xa0]*$/.test(f)}function P(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function L(f){return L[" "](f),f}L[" "]=function(){};var D=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function B(f,w,N){for(const O in f)w.call(N,f[O],O,f)}function R(f,w){for(const N in f)w.call(void 0,f[N],N,f)}function T(f){const w={};for(const N in f)w[N]=f[N];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(f,w){let N,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(N in O)f[N]=O[N];for(let ne=0;ne<k.length;ne++)N=k[ne],Object.prototype.hasOwnProperty.call(O,N)&&(f[N]=O[N])}}function $(f){var w=1;f=f.split(":");const N=[];for(;0<w&&f.length;)N.push(f.shift()),w--;return f.length&&N.push(f.join(":")),N}function U(f){u.setTimeout(()=>{throw f},0)}function V(){var f=le;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class Pe{constructor(){this.h=this.g=null}add(w,N){const O=we.get();O.set(w,N),this.h?this.h.next=O:this.g=O,this.h=O}}var we=new A(()=>new xe,f=>f.reset());class xe{constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Q=!1,le=new Pe,ce=()=>{const f=u.Promise.resolve(void 0);ve=()=>{f.then(Y)}};var Y=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(N){U(N)}var w=we;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}Q=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};u.addEventListener("test",N,w),u.removeEventListener("test",N,w)}catch{}return f}();function ze(f,w){if(Ee.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var N=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(D){e:{try{L(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else N=="mouseover"?w=f.fromElement:N=="mouseout"&&(w=f.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:at[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ze.aa.h.call(this)}}E(ze,Ee);var at={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function Ne(f,w,N,O,X){this.listener=f,this.proxy=null,this.src=w,this.type=N,this.capture=!!O,this.ha=X,this.key=++dt,this.da=this.fa=!1}function Yt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Gr(f){this.src=f,this.g={},this.h=0}Gr.prototype.add=function(f,w,N,O,X){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=Jn(f,w,O,X);return-1<ye?(w=f[ye],N||(w.fa=!1)):(w=new Ne(w,this.src,ne,!!O,X),w.fa=N,f.push(w)),w};function la(f,w){var N=w.type;if(N in f.g){var O=f.g[N],X=Array.prototype.indexOf.call(O,w,void 0),ne;(ne=0<=X)&&Array.prototype.splice.call(O,X,1),ne&&(Yt(w),f.g[N].length==0&&(delete f.g[N],f.h--))}}function Jn(f,w,N,O){for(var X=0;X<f.length;++X){var ne=f[X];if(!ne.da&&ne.listener==w&&ne.capture==!!N&&ne.ha==O)return X}return-1}var Ni="closure_lm_"+(1e6*Math.random()|0),ca={};function ua(f,w,N,O,X){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)ua(f,w[ne],N,O,X);return null}return N=br(N),f&&f[lt]?f.K(w,N,p(O)?!!O.capture:!!O,X):To(f,w,N,!1,O,X)}function To(f,w,N,O,X,ne){if(!w)throw Error("Invalid event type");var ye=p(X)?!!X.capture:!!X,Lt=Si(f);if(Lt||(f[Ni]=Lt=new Gr(f)),N=Lt.add(w,N,O,ye,ne),N.proxy)return N;if(O=Cl(),N.proxy=O,O.src=f,O.listener=N,f.addEventListener)Xe||(X=ye),X===void 0&&(X=!1),f.addEventListener(w.toString(),O,X);else if(f.attachEvent)f.attachEvent(Ln(w.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Cl(){function f(N){return w.call(f.src,f.listener,N)}const w=hs;return f}function da(f,w,N,O,X){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)da(f,w[ne],N,O,X);else O=p(O)?!!O.capture:!!O,N=br(N),f&&f[lt]?(f=f.i,w=String(w).toString(),w in f.g&&(ne=f.g[w],N=Jn(ne,N,O,X),-1<N&&(Yt(ne[N]),Array.prototype.splice.call(ne,N,1),ne.length==0&&(delete f.g[w],f.h--)))):f&&(f=Si(f))&&(w=f.g[w.toString()],f=-1,w&&(f=Jn(w,N,O,X)),(N=-1<f?w[f]:null)&&ds(N))}function ds(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[lt])la(w.i,f);else{var N=f.type,O=f.proxy;w.removeEventListener?w.removeEventListener(N,O,f.capture):w.detachEvent?w.detachEvent(Ln(N),O):w.addListener&&w.removeListener&&w.removeListener(O),(N=Si(w))?(la(N,f),N.h==0&&(N.src=null,w[Ni]=null)):Yt(f)}}}function Ln(f){return f in ca?ca[f]:ca[f]="on"+f}function hs(f,w){if(f.da)f=!0;else{w=new ze(w,this);var N=f.listener,O=f.ha||f.src;f.fa&&ds(f),f=N.call(O,w)}return f}function Si(f){return f=f[Ni],f instanceof Gr?f:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function br(f){return typeof f=="function"?f:(f[Us]||(f[Us]=function(w){return f.handleEvent(w)}),f[Us])}function Ot(){se.call(this),this.i=new Gr(this),this.M=this,this.F=null}E(Ot,se),Ot.prototype[lt]=!0,Ot.prototype.removeEventListener=function(f,w,N,O){da(this,f,w,N,O)};function ln(f,w){var N,O=f.F;if(O)for(N=[];O;O=O.F)N.push(O);if(f=f.M,O=w.type||w,typeof w=="string")w=new Ee(w,f);else if(w instanceof Ee)w.target=w.target||f;else{var X=w;w=new Ee(O,f),F(w,X)}if(X=!0,N)for(var ne=N.length-1;0<=ne;ne--){var ye=w.g=N[ne];X=Or(ye,O,!0,w)&&X}if(ye=w.g=f,X=Or(ye,O,!0,w)&&X,X=Or(ye,O,!1,w)&&X,N)for(ne=0;ne<N.length;ne++)ye=w.g=N[ne],X=Or(ye,O,!1,w)&&X}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var N=f.g[w],O=0;O<N.length;O++)Yt(N[O]);delete f.g[w],f.h--}}this.F=null},Ot.prototype.K=function(f,w,N,O){return this.i.add(String(f),w,!1,N,O)},Ot.prototype.L=function(f,w,N,O){return this.i.add(String(f),w,!0,N,O)};function Or(f,w,N,O){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,ne=0;ne<w.length;++ne){var ye=w[ne];if(ye&&!ye.da&&ye.capture==N){var Lt=ye.listener,bn=ye.ha||ye.src;ye.fa&&la(f.i,ye),X=Lt.call(bn,O)!==!1&&X}}return X&&!O.defaultPrevented}function Co(f,w,N){if(typeof f=="function")N&&(f=x(f,N));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(f,w||0)}function Fn(f){f.g=Co(()=>{f.g=null,f.i&&(f.i=!1,Fn(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class $s extends se{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(f){se.call(this),this.h=f,this.g={}}E(zs,se);var ha=[];function jo(f){B(f.g,function(w,N){this.g.hasOwnProperty(N)&&ds(w)},f),f.g={}}zs.prototype.N=function(){zs.aa.N.call(this),jo(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=u.JSON.stringify,Bs=u.JSON.parse,pa=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function fs(){}fs.prototype.h=null;function ma(f){return f.h||(f.h=f.i())}function Ti(){}var Er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){Ee.call(this,"d")}E(Lr,Ee);function ps(){Ee.call(this,"c")}E(ps,Ee);var ur={},ko=null;function Ci(){return ko=ko||new Ot}ur.La="serverreachability";function H(f){Ee.call(this,ur.La,f)}E(H,Ee);function G(f){const w=Ci();ln(w,new H(w))}ur.STAT_EVENT="statevent";function te(f,w){Ee.call(this,ur.STAT_EVENT,f),this.stat=w}E(te,Ee);function ae(f){const w=Ci();ln(w,new te(w,f))}ur.Ma="timingevent";function Se(f,w){Ee.call(this,ur.Ma,f),this.size=w}E(Se,Ee);function Ae(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function Be(){this.g=!0}Be.prototype.xa=function(){this.g=!1};function Te(f,w,N,O,X,ne){f.info(function(){if(f.g)if(ne)for(var ye="",Lt=ne.split("&"),bn=0;bn<Lt.length;bn++){var wt=Lt[bn].split("=");if(1<wt.length){var jn=wt[0];wt=wt[1];var yn=jn.split("_");ye=2<=yn.length&&yn[1]=="type"?ye+(jn+"="+wt+"&"):ye+(jn+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+w+`
`+N+`
`+ye})}function Me(f,w,N,O,X,ne,ye){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+w+`
`+N+`
`+ne+" "+ye})}function ge(f,w,N,O){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+nt(f,N)+(O?" "+O:"")})}function Qe(f,w){f.info(function(){return"TIMEOUT: "+w})}Be.prototype.info=function(){};function nt(f,w){if(!f.g)return w;if(!w)return null;try{var N=JSON.parse(w);if(N){for(f=0;f<N.length;f++)if(Array.isArray(N[f])){var O=N[f];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var ne=X[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return fa(N)}catch{return w}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pt;function Nt(){}E(Nt,fs),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},pt=new Nt;function It(f,w,N,O){this.j=f,this.i=w,this.l=N,this.R=O||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ms}function ms(){this.i=null,this.g="",this.h=!1}var gs={},Zn={};function Vn(f,w,N){f.L=1,f.v=xa(Fr(w)),f.m=N,f.P=!0,ji(f,null)}function ji(f,w){f.F=Date.now(),Rt(f),f.A=Fr(f.v);var N=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),_a(N.i,"t",O),f.C=0,N=f.j.J,f.h=new ms,f.g=ch(f.j,N?w:null,!f.m),0<f.O&&(f.M=new $s(x(f.Y,f,f.g),f.O)),w=f.U,N=f.g,O=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(ha[0]=X.toString()),X=ha);for(var ne=0;ne<X.length;ne++){var ye=ua(N,X[ne],O||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),G(),Te(f.i,f.u,f.A,f.l,f.R,f.m)}It.prototype.ca=function(f){f=f.target;const w=this.M;w&&Tr(f)==3?w.j():this.Y(f)},It.prototype.Y=function(f){try{if(f==this.g)e:{const yn=Tr(this.g);var w=this.g.Ba();const Jr=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||yn!=4||w==7||(w==8||0>=Jr?G(3):G(2)),xt(this);var N=this.g.Z();this.X=N;t:if(qs(this)){var O=hu(this.g);f="";var X=O.length,ne=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),Kt(this);var ye="";break t}this.h.i=new u.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,f+=this.h.i.decode(O[w],{stream:!(ne&&w==X-1)});O.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=N==200,Me(this.i,this.u,this.A,this.l,this.R,yn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,bn=this.g;if((Lt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Lt)){var wt=Lt;break t}}wt=null}if(N=wt)ge(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,N);else{this.o=!1,this.s=3,ae(12),Un(this),Kt(this);break e}}if(this.P){N=!0;let Ur;for(;!this.J&&this.C<ye.length;)if(Ur=ys(this,ye),Ur==Zn){yn==4&&(this.s=4,ae(14),N=!1),ge(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==gs){this.s=4,ae(15),ge(this.i,this.l,ye,"[Invalid Chunk]"),N=!1;break}else ge(this.i,this.l,Ur,null),vs(this,Ur);if(qs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||ye.length!=0||this.h.h||(this.s=1,ae(16),N=!1),this.o=this.o&&N,!N)ge(this.i,this.l,ye,"[Invalid Chunked Response]"),Un(this),Kt(this);else if(0<ye.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),pu(jn),jn.M=!0,ae(11))}}else ge(this.i,this.l,ye,null),vs(this,ye);yn==4&&Un(this),this.o&&!this.J&&(yn==4?Vl(this.j,this):(this.o=!1,Rt(this)))}else Dl(this.g),N==400&&0<ye.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Un(this),Kt(this)}}}catch{}finally{}};function qs(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ys(f,w){var N=f.C,O=w.indexOf(`
`,N);return O==-1?Zn:(N=Number(w.substring(N,O)),isNaN(N)?gs:(O+=1,O+N>w.length?Zn:(w=w.slice(O,O+N),f.C=O+N,w)))}It.prototype.cancel=function(){this.J=!0,Un(this)};function Rt(f){f.S=Date.now()+f.I,ki(f,f.I)}function ki(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ae(x(f.ba,f),w)}function xt(f){f.B&&(u.clearTimeout(f.B),f.B=null)}It.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Qe(this.i,this.A),this.L!=2&&(G(),ae(17)),Un(this),this.s=2,Kt(this)):ki(this,this.S-f)};function Kt(f){f.j.G==0||f.J||Vl(f.j,f)}function Un(f){xt(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,jo(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function vs(f,w){try{var N=f.j;if(N.G!=0&&(N.g==f||dr(N.h,f))){if(!f.K&&dr(N.h,f)&&N.G==3){try{var O=N.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<f.F)Fl(N),Es(N);else break e;Ll(N),ae(18)}}else N.za=X[1],0<N.za-N.T&&37500>X[2]&&N.F&&N.v==0&&!N.C&&(N.C=Ae(x(N.Za,N),6e3));if(1>=jl(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Di(N,11)}else if((f.K||N.g==f)&&Fl(N),!M(w))for(X=N.Da.g.parse(w),w=0;w<X.length;w++){let wt=X[w];if(N.T=wt[0],wt=wt[1],N.G==2)if(wt[0]=="c"){N.K=wt[1],N.ia=wt[2];const jn=wt[3];jn!=null&&(N.la=jn,N.j.info("VER="+N.la));const yn=wt[4];yn!=null&&(N.Aa=yn,N.j.info("SVER="+N.Aa));const Jr=wt[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(O=1.5*Jr,N.L=O,N.j.info("backChannelRequestTimeoutMs_="+O)),O=N;const Ur=f.g;if(Ur){const Mo=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var ne=O.h;ne.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(lu(ne,ne.h),ne.h=null))}if(O.D){const $l=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;$l&&(O.ya=$l,$t(O.I,O.D,$l))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-f.F,N.j.info("Handshake RTT: "+N.R+"ms")),O=N;var ye=f;if(O.qa=lh(O,O.J?O.ia:null,O.W),ye.K){Gd(O.h,ye);var Lt=ye,bn=O.L;bn&&(Lt.I=bn),Lt.B&&(xt(Lt),Rt(Lt)),O.g=ye}else Do(O);0<N.i.length&&Ks(N)}else wt[0]!="stop"&&wt[0]!="close"||Di(N,7);else N.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Di(N,7):zn(N):wt[0]!="noop"&&N.l&&N.l.ta(wt),N.v=0)}}G(4)}catch{}}var Qt=class{constructor(f,w){this.g=f,this.map=w}};function Nr(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function er(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function jl(f){return f.h?1:f.g?f.g.size:0}function dr(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function lu(f,w){f.g?f.g.add(w):f.h=w}function Gd(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Nr.prototype.cancel=function(){if(this.i=Xd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const N of f.g.values())w=w.concat(N.D);return w}return j(f.i)}function kl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var w=[],N=f.length,O=0;O<N;O++)w.push(f[O]);return w}w=[],N=0;for(O in f)w[N++]=f[O];return w}function Il(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var w=[];f=f.length;for(var N=0;N<f;N++)w.push(N);return w}w=[],N=0;for(const O in f)w[N++]=O;return w}}}function ga(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var N=Il(f),O=kl(f),X=O.length,ne=0;ne<X;ne++)w.call(void 0,O[ne],N&&N[ne],f)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gm(f,w){if(f){f=f.split("&");for(var N=0;N<f.length;N++){var O=f[N].indexOf("="),X=null;if(0<=O){var ne=f[N].substring(0,O);X=f[N].substring(O+1)}else ne=f[N];w(ne,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Ii(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ii){this.h=f.h,Ro(this,f.j),this.o=f.o,this.g=f.g,ya(this,f.s),this.l=f.l;var w=f.i,N=new Hs;N.i=w.i,w.g&&(N.g=new Map(w.g),N.h=w.h),va(this,N),this.m=f.m}else f&&(w=String(f).match(Io))?(this.h=!1,Ro(this,w[1]||"",!0),this.o=mt(w[2]||""),this.g=mt(w[3]||"",!0),ya(this,w[4]),this.l=mt(w[5]||"",!0),va(this,w[6]||"",!0),this.m=mt(w[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}Ii.prototype.toString=function(){var f=[],w=this.j;w&&f.push(wa(w,Rl,!0),":");var N=this.g;return(N||w=="file")&&(f.push("//"),(w=this.o)&&f.push(wa(w,Rl,!0),"@"),f.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&f.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(wa(N,N.charAt(0)=="/"?eh:Zd,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",wa(N,cu)),f.join("")};function Fr(f){return new Ii(f)}function Ro(f,w,N){f.j=N?mt(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function ya(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function va(f,w,N){w instanceof Hs?(f.i=w,Ws(f.i,f.h)):(N||(w=wa(w,th)),f.i=new Hs(w,f.h))}function $t(f,w,N){f.i.set(w,N)}function xa(f){return $t(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function mt(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function wa(f,w,N){return typeof f=="string"?(f=encodeURI(f).replace(w,Jd),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Jd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Rl=/[#\/\?@]/g,Zd=/[#\?:]/g,eh=/[#\?]/g,th=/[#\?@]/g,cu=/#/g;function Hs(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function $n(f){f.g||(f.g=new Map,f.h=0,f.i&&gm(f.i,function(w,N){f.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}n=Hs.prototype,n.add=function(f,w){$n(this),this.i=null,f=Xr(this,f);var N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(w),this.h+=1,this};function xs(f,w){$n(f),w=Xr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function ws(f,w){return $n(f),w=Xr(f,w),f.g.has(w)}n.forEach=function(f,w){$n(this),this.g.forEach(function(N,O){N.forEach(function(X){f.call(w,X,O,this)},this)},this)},n.na=function(){$n(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),N=[];for(let O=0;O<w.length;O++){const X=f[O];for(let ne=0;ne<X.length;ne++)N.push(w[O])}return N},n.V=function(f){$n(this);let w=[];if(typeof f=="string")ws(this,f)&&(w=w.concat(this.g.get(Xr(this,f))));else{f=Array.from(this.g.values());for(let N=0;N<f.length;N++)w=w.concat(f[N])}return w},n.set=function(f,w){return $n(this),this.i=null,f=Xr(this,f),ws(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},n.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function _a(f,w,N){xs(f,w),0<N.length&&(f.i=null,f.g.set(Xr(f,w),j(N)),f.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var N=0;N<w.length;N++){var O=w[N];const ne=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var X=ne;ye[O]!==""&&(X+="="+encodeURIComponent(String(ye[O]))),f.push(X)}}return this.i=f.join("&")};function Xr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Ws(f,w){w&&!f.j&&($n(f),f.i=null,f.g.forEach(function(N,O){var X=O.toLowerCase();O!=X&&(xs(this,O),_a(this,X,N))},f)),f.j=w}function ym(f,w){const N=new Be;if(u.Image){const O=new Image;O.onload=_(Sr,N,"TestLoadImage: loaded",!0,w,O),O.onerror=_(Sr,N,"TestLoadImage: error",!1,w,O),O.onabort=_(Sr,N,"TestLoadImage: abort",!1,w,O),O.ontimeout=_(Sr,N,"TestLoadImage: timeout",!1,w,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else w(!1)}function nh(f,w){const N=new Be,O=new AbortController,X=setTimeout(()=>{O.abort(),Sr(N,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:O.signal}).then(ne=>{clearTimeout(X),ne.ok?Sr(N,"TestPingServer: ok",!0,w):Sr(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),Sr(N,"TestPingServer: error",!1,w)})}function Sr(f,w,N,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(N)}catch{}}function vm(){this.g=new pa}function rh(f,w,N){const O=N||"";try{ga(f,function(X,ne){let ye=X;p(X)&&(ye=fa(X)),w.push(O+ne+"="+encodeURIComponent(ye))})}catch(X){throw w.push(O+"type="+encodeURIComponent("_badmap")),X}}function Ri(f){this.l=f.Ub||null,this.j=f.eb||!1}E(Ri,fs),Ri.prototype.g=function(){return new Po(this.l,this.j)},Ri.prototype.i=function(f){return function(){return f}}({});function Po(f,w){Ot.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Po,Ot),n=Po.prototype,n.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,bs(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function sh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?_s(this):bs(this),this.readyState==3&&sh(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,_s(this))},n.Qa=function(f){this.g&&(this.response=f,_s(this))},n.ga=function(){this.g&&_s(this)};function _s(f){f.readyState=4,f.l=null,f.j=null,f.v=null,bs(f)}n.setRequestHeader=function(f,w){this.u.append(f,w)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=w.next();return f.join(`\r
`)};function bs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Pi(f){let w="";return B(f,function(N,O){w+=O,w+=":",w+=N,w+=`\r
`}),w}function ba(f,w,N){e:{for(O in N){var O=!1;break e}O=!0}O||(N=Pi(N),typeof f=="string"?N!=null&&encodeURIComponent(String(N)):$t(f,w,N))}function Zt(f){Ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Zt,Ot);var xm=/^https?$/i,uu=["POST","PUT"];n=Zt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,w,N,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pt.g(),this.v=this.o?ma(this.o):ma(pt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ne){Ao(this,ne);return}if(f=N||"",N=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)N.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ne of O.keys())N.set(ne,O.get(ne));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(N.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(uu,w,void 0))||O||X||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of N)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Al(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){Ao(this,ne)}};function Ao(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Pl(f),Vr(f)}function Pl(f){f.A||(f.A=!0,ln(f,"complete"),ln(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ln(this,"complete"),ln(this,"abort"),Vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Zt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},n.bb=function(){du(this)};function du(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Tr(f)!=4||f.Z()!=2)){if(f.u&&Tr(f)==4)Co(f.Ea,0,f);else if(ln(f,"readystatechange"),Tr(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var O;if(O=ye===0){var X=String(f.D).match(Io)[1]||null;!X&&u.self&&u.self.location&&(X=u.self.location.protocol.slice(0,-1)),O=!xm.test(X?X.toLowerCase():"")}N=O}if(N)ln(f,"complete"),ln(f,"success");else{f.m=6;try{var ne=2<Tr(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Pl(f)}}finally{Vr(f)}}}}function Vr(f,w){if(f.g){Al(f);const N=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||ln(f,"ready");try{N.onreadystatechange=O}catch{}}}function Al(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Tr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Bs(w)}};function hu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(f){const w={};f=(f.g&&2<=Tr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(M(f[O]))continue;var N=$(f[O]);const X=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ne=w[X]||[];w[X]=ne,ne.push(N)}R(w,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(f,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||w}function fu(f){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,f),this.cb=Ys("retryDelaySeedMs",1e4,f),this.Wa=Ys("forwardChannelMaxRetries",2,f),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(f&&f.concurrentRequestLimit),this.Da=new vm,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fu.prototype,n.la=8,n.G=1,n.connect=function(f,w,N,O){ae(0),this.W=f,this.H=w||{},N&&O!==void 0&&(this.H.OSID=N,this.H.OAID=O),this.F=this.X,this.I=lh(this,null,this.W),Ks(this)};function zn(f){if(Ml(f),f.G==3){var w=f.U++,N=Fr(f.I);if($t(N,"SID",f.K),$t(N,"RID",w),$t(N,"TYPE","terminate"),Ai(f,N),w=new It(f,f.j,w),w.L=2,w.v=xa(Fr(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!N&&u.Image&&(new Image().src=w.v,N=!0),N||(w.g=ch(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Rt(w)}oh(f)}function Es(f){f.g&&(pu(f),f.g.cancel(),f.g=null)}function Ml(f){Es(f),f.u&&(u.clearTimeout(f.u),f.u=null),Fl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Ks(f){if(!er(f.h)&&!f.s){f.s=!0;var w=f.Ga;ve||ce(),Q||(ve(),Q=!0),le.add(w,f),f.B=0}}function wm(f,w){return jl(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ae(x(f.Ga,f,w),ah(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new It(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=T(ne),F(ne,this.S)):ne=this.S),this.m!==null||this.O||(X.H=ne,ne=null),this.P)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var O=this.i[N];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=Ea(this,X,w),N=Fr(this.I),$t(N,"RID",f),$t(N,"CVER",22),this.D&&$t(N,"X-HTTP-Session-Id",this.D),Ai(this,N),ne&&(this.O?w="headers="+encodeURIComponent(String(Pi(ne)))+"&"+w:this.m&&ba(N,this.m,ne)),lu(this.h,X),this.Ua&&$t(N,"TYPE","init"),this.P?($t(N,"$req",w),$t(N,"SID","null"),X.T=!0,Vn(X,N,null)):Vn(X,N,w),this.G=2}}else this.G==3&&(f?Ol(this,f):this.i.length==0||er(this.h)||Ol(this))};function Ol(f,w){var N;w?N=w.l:N=f.U++;const O=Fr(f.I);$t(O,"SID",f.K),$t(O,"RID",N),$t(O,"AID",f.T),Ai(f,O),f.m&&f.o&&ba(O,f.m,f.o),N=new It(f,f.j,N,f.B+1),f.m===null&&(N.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Ea(f,N,1e3),N.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),lu(f.h,N),Vn(N,O,w)}function Ai(f,w){f.H&&B(f.H,function(N,O){$t(w,O,N)}),f.l&&ga({},function(N,O){$t(w,O,N)})}function Ea(f,w,N){N=Math.min(f.i.length,N);var O=f.l?x(f.l.Na,f.l,f):null;e:{var X=f.i;let ne=-1;for(;;){const ye=["count="+N];ne==-1?0<N?(ne=X[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let Lt=!0;for(let bn=0;bn<N;bn++){let wt=X[bn].g;const jn=X[bn].map;if(wt-=ne,0>wt)ne=Math.max(0,X[bn].g-100),Lt=!1;else try{rh(jn,ye,"req"+wt+"_")}catch{O&&O(jn)}}if(Lt){O=ye.join("&");break e}}}return f=f.i.splice(0,N),w.D=f,O}function Do(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;ve||ce(),Q||(ve(),Q=!0),le.add(w,f),f.v=0}}function Ll(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ae(x(f.Fa,f),ah(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ae(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Es(this),ih(this))};function pu(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function ih(f){f.g=new It(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Fr(f.qa);$t(w,"RID","rpc"),$t(w,"SID",f.K),$t(w,"AID",f.T),$t(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&$t(w,"TO",f.ja),$t(w,"TYPE","xmlhttp"),Ai(f,w),f.m&&f.o&&ba(w,f.m,f.o),f.L&&(f.g.I=f.L);var N=f.g;f=f.ia,N.L=1,N.v=xa(Fr(w)),N.m=null,N.P=!0,ji(N,f)}n.Za=function(){this.C!=null&&(this.C=null,Es(this),Ll(this),ae(19))};function Fl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Vl(f,w){var N=null;if(f.g==w){Fl(f),pu(f),f.g=null;var O=2}else if(dr(f.h,w))N=w.D,Gd(f.h,w),O=1;else return;if(f.G!=0){if(w.o)if(O==1){N=w.m?w.m.length:0,w=Date.now()-w.F;var X=f.B;O=Ci(),ln(O,new Se(O,N)),Ks(f)}else Do(f);else if(X=w.s,X==3||X==0&&0<w.X||!(O==1&&wm(f,w)||O==2&&Ll(f)))switch(N&&0<N.length&&(w=f.h,w.i=w.i.concat(N)),X){case 1:Di(f,5);break;case 4:Di(f,10);break;case 3:Di(f,6);break;default:Di(f,2)}}}function ah(f,w){let N=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(N*=2),N*w}function Di(f,w){if(f.j.info("Error code "+w),w==2){var N=x(f.fb,f),O=f.Xa;const X=!O;O=new Ii(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ro(O,"https"),xa(O),X?ym(O.toString(),N):nh(O.toString(),N)}else ae(2);f.G=0,f.l&&f.l.sa(w),oh(f),Ml(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function oh(f){if(f.G=0,f.ka=[],f.l){const w=Xd(f.h);(w.length!=0||f.i.length!=0)&&(S(f.ka,w),S(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function lh(f,w,N){var O=N instanceof Ii?Fr(N):new Ii(N);if(O.g!="")w&&(O.g=w+"."+O.g),ya(O,O.s);else{var X=u.location;O=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var ne=new Ii(null);O&&Ro(ne,O),w&&(ne.g=w),X&&ya(ne,X),N&&(ne.l=N),O=ne}return N=f.D,w=f.ya,N&&w&&$t(O,N,w),$t(O,"VER",f.la),Ai(f,O),O}function ch(f,w,N){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Zt(new Ri({eb:N})):new Zt(f.pa),w.Ha(f.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}n=mu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ul(){}Ul.prototype.g=function(f,w){return new hr(f,w)};function hr(f,w){Ot.call(this),this.g=new fu(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!M(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Qs(this)}E(hr,Ot),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){zn(this.g)},hr.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.u&&(N={},N.__data__=fa(f),f=N);w.i.push(new Qt(w.Ya++,f)),w.G==3&&Ks(w)},hr.prototype.N=function(){this.g.l=null,delete this.j,zn(this.g),delete this.g,hr.aa.N.call(this)};function uh(f){Lr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const N in w){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}E(uh,Lr);function dh(){ps.call(this),this.status=1}E(dh,ps);function Qs(f){this.g=f}E(Qs,mu),Qs.prototype.ua=function(){ln(this.g,"a")},Qs.prototype.ta=function(f){ln(this.g,new uh(f))},Qs.prototype.sa=function(f){ln(this.g,new dh)},Qs.prototype.ra=function(){ln(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,WE=function(){return new Ul},HE=function(){return Ci()},qE=ur,B0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,If=kt,cn.COMPLETE="complete",BE=cn,Ti.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Xu=Ti,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,zE=Zt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new zy("@firebase/firestore");function uc(){return pl.logLevel}function Re(n,...e){if(pl.logLevel<=ht.DEBUG){const t=e.map(tv);pl.debug(`Firestore (${eu}): ${n}`,...t)}}function na(n,...e){if(pl.logLevel<=ht.ERROR){const t=e.map(tv);pl.error(`Firestore (${eu}): ${n}`,...t)}}function Uc(n,...e){if(pl.logLevel<=ht.WARN){const t=e.map(tv);pl.warn(`Firestore (${eu}): ${n}`,...t)}}function tv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(n="Unexpected state"){const e=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+n;throw na(e),new Error(e)}function Et(n,e){n||Ke()}function et(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends aa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(or.UNAUTHENTICATED))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oA{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Et(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const h=i;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fi)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new YE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new or(e)}}class lA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=or.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cA{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new lA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Et(this.o===void 0);const r=i=>{i.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et(typeof t.token=="string"),this.R=t.token,new uA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=hA(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function $c(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Ct(0,0))}static max(){return new Ge(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ke(),r===void 0?r=e.length-t:r>e.length-t&&Ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fd.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),o=t.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends fd{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const fA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends fd{construct(e,t,r){return new Yn(e,t,r)}static isValidIdentifier(e){return fA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(t)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(zt.fromString(e))}static fromName(e){return new $e(zt.fromString(e).popFirst(5))}static empty(){return new $e(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new zt(e.slice()))}}function pA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new ho(s,$e.empty(),e)}function mA(n){return new ho(n.readTime,n.key,-1)}class ho{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ho(Ge.min(),$e.empty(),-1)}static max(){return new ho(Ge.max(),$e.empty(),-1)}}function gA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==yA)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let s=0,i=0,o=!1;e.forEach(u=>{++s,u.next(()=>{++i,o&&i===s&&t()},h=>r(h))}),o=!0,i===s&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(s=>s?ue.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let h=0;h<i;h++){const p=h;t(e[p]).next(g=>{o[p]=g,++u,u===i&&r(o)},g=>s(g))}})}static doWhile(e,t){return new ue((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function xA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zp.oe=-1;function Ld(n){return n==null}function ip(n){return n===0&&1/n==-1/0}function wA(n){return typeof n=="number"&&Number.isInteger(n)&&!ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=A_(e)),e=bA(n.get(t),e);return A_(e)}function bA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case"":t+="";break;default:t+=i}}return t}function A_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function No(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Wn.RED,this.left=s??Wn.EMPTY,this.right=i??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Wn(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Wn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,t,r,s,i){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tn(this.comparator);return t.data=e,t}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Yr([])}unionWith(e){let t=new Tn(Yn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GE("Invalid base64 string: "+i):i}}(e);return new Xn(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const EA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(n){if(Et(!!n),typeof n=="string"){let e=0;const t=EA.exec(n);if(Et(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function po(n){return typeof n=="string"?Xn.fromBase64String(n):Xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Bp(n){const e=n.mapValue.fields.__previous_value__;return nv(e)?Bp(e):e}function pd(n){const e=fo(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,r,s,i,o,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}class md{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new md("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof md&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nv(n)?4:TA(n)?9007199254740991:SA(n)?10:11:Ke()}function vi(n,e){if(n===e)return!0;const t=mo(n);if(t!==mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pd(n).isEqual(pd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=fo(s.timestampValue),u=fo(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return po(s.bytesValue).isEqual(po(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return pn(s.geoPointValue.latitude)===pn(i.geoPointValue.latitude)&&pn(s.geoPointValue.longitude)===pn(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return pn(s.integerValue)===pn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=pn(s.doubleValue),u=pn(i.doubleValue);return o===u?ip(o)===ip(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return $c(n.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(D_(o)!==D_(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(u[h]===void 0||!vi(o[h],u[h])))return!1;return!0}(n,e);default:return Ke()}}function gd(n,e){return(n.values||[]).find(t=>vi(t,e))!==void 0}function zc(n,e){if(n===e)return 0;const t=mo(n),r=mo(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(i,o){const u=pn(i.integerValue||i.doubleValue),h=pn(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return O_(n.timestampValue,e.timestampValue);case 4:return O_(pd(n),pd(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(i,o){const u=po(i),h=po(o);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),h=o.split("/");for(let p=0;p<u.length&&p<h.length;p++){const g=yt(u[p],h[p]);if(g!==0)return g}return yt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const u=yt(pn(i.latitude),pn(o.latitude));return u!==0?u:yt(pn(i.longitude),pn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return L_(n.arrayValue,e.arrayValue);case 10:return function(i,o){var u,h,p,g;const y=i.fields||{},x=o.fields||{},_=(u=y.value)===null||u===void 0?void 0:u.arrayValue,E=(h=x.value)===null||h===void 0?void 0:h.arrayValue,j=yt(((p=_==null?void 0:_.values)===null||p===void 0?void 0:p.length)||0,((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0);return j!==0?j:L_(_,E)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===hf.mapValue&&o===hf.mapValue)return 0;if(i===hf.mapValue)return 1;if(o===hf.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=o.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const x=yt(h[y],g[y]);if(x!==0)return x;const _=zc(u[h[y]],p[g[y]]);if(_!==0)return _}return yt(h.length,g.length)}(n.mapValue,e.mapValue);default:throw Ke()}}function O_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=fo(n),r=fo(e),s=yt(t.seconds,r.seconds);return s!==0?s:yt(t.nanos,r.nanos)}function L_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=zc(t[s],r[s]);if(i)return i}return yt(t.length,r.length)}function Bc(n){return q0(n)}function q0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=fo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return po(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=q0(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${q0(t.fields[o])}`;return s+"}"}(n.mapValue):Ke()}function Rf(n){switch(mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bp(n);return e?16+Rf(e):16;case 5:return 2*n.stringValue.length;case 6:return po(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rf(i),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return No(r.fields,(i,o)=>{s+=i.length+Rf(o)}),s}(n.mapValue);default:throw Ke()}}function F_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function H0(n){return!!n&&"integerValue"in n}function rv(n){return!!n&&"arrayValue"in n}function V_(n){return!!n&&"nullValue"in n}function U_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pf(n){return!!n&&"mapValue"in n}function SA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function sd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return No(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(t)}setAll(e){let t=Yn.emptyPath(),r={},s=[];e.forEach((o,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}o?r[u.lastSegment()]=sd(o):s.push(u.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){No(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new vr(sd(this.value))}}function XE(n){const e=[];return No(n.fields,(t,r)=>{const s=new Yn([t]);if(Pf(r)){const i=XE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t,r,s,i,o,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new An(e,0,Ge.min(),Ge.min(),Ge.min(),vr.empty(),0)}static newFoundDocument(e,t,r,s){return new An(e,1,t,Ge.min(),r,s,0)}static newNoDocument(e,t){return new An(e,2,t,Ge.min(),Ge.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Ge.min(),Ge.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t){this.position=e,this.inclusive=t}}function $_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=$e.comparator($e.fromName(o.referenceValue),t.key):r=zc(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function CA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{}class wn extends JE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kA(e,t,r):t==="array-contains"?new PA(e,r):t==="in"?new AA(e,r):t==="not-in"?new DA(e,r):t==="array-contains-any"?new MA(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new IA(e,r):new RA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zc(t,this.value)):t!==null&&mo(this.value)===mo(t)&&this.matchesComparison(zc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends JE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ls(e,t)}matches(e){return ZE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZE(n){return n.op==="and"}function eN(n){return jA(n)&&ZE(n)}function jA(n){for(const e of n.filters)if(e instanceof Ls)return!1;return!0}function W0(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+Bc(n.value);if(eN(n))return n.filters.map(e=>W0(e)).join(",");{const e=n.filters.map(t=>W0(t)).join(",");return`${n.op}(${e})`}}function tN(n,e){return n instanceof wn?function(r,s){return s instanceof wn&&r.op===s.op&&r.field.isEqual(s.field)&&vi(r.value,s.value)}(n,e):n instanceof Ls?function(r,s){return s instanceof Ls&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,u)=>i&&tN(o,s.filters[u]),!0):!1}(n,e):void Ke()}function nN(n){return n instanceof wn?function(t){return`${t.field.canonicalString()} ${t.op} ${Bc(t.value)}`}(n):n instanceof Ls?function(t){return t.op.toString()+" {"+t.getFilters().map(nN).join(" ,")+"}"}(n):"Filter"}class kA extends wn{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class IA extends wn{constructor(e,t){super(e,"in",t),this.keys=rN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RA extends wn{constructor(e,t){super(e,"not-in",t),this.keys=rN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class PA extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rv(t)&&gd(t.arrayValue,this.value)}}class AA extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class DA extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gd(this.value.arrayValue,t)}}class MA extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.ue=null}}function B_(n,e=null,t=[],r=[],s=null,i=null,o=null){return new OA(n,e,t,r,s,i,o)}function sv(n){const e=et(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>W0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bc(r)).join(",")),e.ue=t}return e.ue}function iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z_(n.startAt,e.startAt)&&z_(n.endAt,e.endAt)}function Y0(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t=null,r=[],s=[],i=null,o="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LA(n,e,t,r,s,i,o,u){return new ru(n,e,t,r,s,i,o,u)}function av(n){return new ru(n)}function q_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sN(n){return n.collectionGroup!==null}function id(n){const e=et(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Tn(Yn.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new yd(i,r))}),t.has(Yn.keyField().canonicalString())||e.ce.push(new yd(Yn.keyField(),r))}return e.ce}function pi(n){const e=et(n);return e.le||(e.le=FA(e,id(n))),e.le}function FA(n,e){if(n.limitType==="F")return B_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yd(s.field,i)});const t=n.endAt?new ap(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ap(n.startAt.position,n.startAt.inclusive):null;return B_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function K0(n,e){const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Q0(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qp(n,e){return iv(pi(n),pi(e))&&n.limitType===e.limitType}function iN(n){return`${sv(pi(n))}|lt:${n.limitType}`}function dc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>nN(s)).join(", ")}]`),Ld(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Bc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Bc(s)).join(",")),`Target(${r})`}(pi(n))}; limitType=${n.limitType})`}function Hp(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):$e.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of id(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,u,h){const p=$_(o,u,h);return o.inclusive?p<=0:p<0}(r.startAt,id(r),s)||r.endAt&&!function(o,u,h){const p=$_(o,u,h);return o.inclusive?p>=0:p>0}(r.endAt,id(r),s))}(n,e)}function VA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aN(n){return(e,t)=>{let r=!1;for(const s of id(n)){const i=UA(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function UA(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,o,u){const h=o.data.field(i),p=u.data.field(i);return h!==null&&p!==null?zc(h,p):Ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new an($e.comparator);function ra(){return $A}const oN=new an($e.comparator);function Ju(...n){let e=oN;for(const t of n)e=e.insert(t.key,t);return e}function lN(n){let e=oN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Jo(){return ad()}function cN(){return ad()}function ad(){return new El(n=>n.toString(),(n,e)=>n.isEqual(e))}const zA=new an($e.comparator),BA=new Tn($e.comparator);function ft(...n){let e=BA;for(const t of n)e=e.add(t);return e}const qA=new Tn(yt);function HA(){return qA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function uN(n){return{integerValue:""+n}}function WA(n,e){return wA(e)?uN(e):ov(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this._=void 0}}function YA(n,e,t){return n instanceof op?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nv(i)&&(i=Bp(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof vd?hN(n,e):n instanceof xd?fN(n,e):function(s,i){const o=dN(s,i),u=H_(o)+H_(s.Pe);return H0(o)&&H0(s.Pe)?uN(u):ov(s.serializer,u)}(n,e)}function KA(n,e,t){return n instanceof vd?hN(n,e):n instanceof xd?fN(n,e):t}function dN(n,e){return n instanceof lp?function(r){return H0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class op extends Wp{}class vd extends Wp{constructor(e){super(),this.elements=e}}function hN(n,e){const t=pN(e);for(const r of n.elements)t.some(s=>vi(s,r))||t.push(r);return{arrayValue:{values:t}}}class xd extends Wp{constructor(e){super(),this.elements=e}}function fN(n,e){let t=pN(e);for(const r of n.elements)t=t.filter(s=>!vi(s,r));return{arrayValue:{values:t}}}class lp extends Wp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function H_(n){return pn(n.integerValue||n.doubleValue)}function pN(n){return rv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function QA(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof vd&&s instanceof vd||r instanceof xd&&s instanceof xd?$c(r.elements,s.elements,vi):r instanceof lp&&s instanceof lp?vi(r.Pe,s.Pe):r instanceof op&&s instanceof op}(n.transform,e.transform)}class GA{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let Yp=class{};function mN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kp(n.key,Dn.none()):new Fd(n.key,n.data,Dn.none());{const t=n.data,r=vr.empty();let s=new Tn(Yn.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new So(n.key,r,new Yr(s.toArray()),Dn.none())}}function XA(n,e,t){n instanceof Fd?function(s,i,o){const u=s.value.clone(),h=Y_(s.fieldTransforms,i,o.transformResults);u.setAll(h),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof So?function(s,i,o){if(!Af(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=Y_(s.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(gN(s)),h.setAll(u),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function od(n,e,t,r){return n instanceof Fd?function(i,o,u,h){if(!Af(i.precondition,o))return u;const p=i.value.clone(),g=K_(i.fieldTransforms,h,o);return p.setAll(g),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof So?function(i,o,u,h){if(!Af(i.precondition,o))return u;const p=K_(i.fieldTransforms,h,o),g=o.data;return g.setAll(gN(i)),g.setAll(p),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(i,o,u){return Af(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(n,e,t)}function JA(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=dN(r.transform,s||null);i!=null&&(t===null&&(t=vr.empty()),t.set(r.field,i))}return t||null}function W_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$c(r,s,(i,o)=>QA(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fd extends Yp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class So extends Yp{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Y_(n,e,t){const r=new Map;Et(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,KA(o,u,t[s]))}return r}function K_(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,YA(i,o,e))}return r}class Kp extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yN extends Yp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&XA(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=od(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=od(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=t.has(s.key)?null:u;const h=mN(o,u);h!==null&&r.set(s.key,h),o.isValidDocument()||o.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ft())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,(t,r)=>W_(t,r))&&$c(this.baseMutations,e.baseMutations,(t,r)=>W_(t,r))}}class lv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Et(e.mutations.length===r.length);let s=function(){return zA}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new lv(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,_t;function vN(n){switch(n){default:return Ke();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function xN(n){if(n===void 0)return na("GRPC error has no .code"),oe.UNKNOWN;switch(n){case xn.OK:return oe.OK;case xn.CANCELLED:return oe.CANCELLED;case xn.UNKNOWN:return oe.UNKNOWN;case xn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case xn.INTERNAL:return oe.INTERNAL;case xn.UNAVAILABLE:return oe.UNAVAILABLE;case xn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case xn.NOT_FOUND:return oe.NOT_FOUND;case xn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case xn.ABORTED:return oe.ABORTED;case xn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case xn.DATA_LOSS:return oe.DATA_LOSS;default:return Ke()}}(_t=xn||(xn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new ol([4294967295,4294967295],0);function Q_(n){const e=nD().encode(n),t=new $E;return t.update(e),new Uint8Array(t.digest())}function G_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ol([t,r],0),new ol([s,i],0)]}class cv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zu(`Invalid padding: ${t}`);if(r<0)throw new Zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ol.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(ol.fromNumber(r)));return s.compare(rD)===1&&(s=new ol([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Q_(e),[r,s]=G_(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new cv(i,s,t);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Te===0)return;const t=Q_(e),[r,s]=G_(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Qp(Ge.min(),s,new an(yt),ra(),ft())}}class Vd{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vd(r,t,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class wN{constructor(e,t){this.targetId=e,this.me=t}}class _N{constructor(e,t,r=Xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class X_{constructor(){this.fe=0,this.ge=J_(),this.pe=Xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ft(),t=ft(),r=ft();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ke()}}),new Vd(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=J_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ra(),this.qe=ff(),this.Qe=ff(),this.Ke=new an(yt)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const i=s.target;if(Y0(i))if(r===0){const o=new $e(i.path);this.We(t,o,An.newNoDocument(o,Ge.min()))}else Et(r===1);else{const o=this.Ze(t);if(o!==r){const u=this.Xe(e),h=u?this.et(u,e,o):1;if(h!==0){this.He(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,u;try{o=po(r).toUint8Array()}catch(h){if(h instanceof GE)return Uc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new cv(o,s,i)}catch(h){return Uc(h instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Te===0?null:u}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.Le.nt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.We(t,i,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((i,o)=>{const u=this.Ye(o);if(u){if(i.current&&Y0(u.target)){const h=new $e(u.target.path);this.st(h).has(o)||this.ot(o,h)||this.We(o,h,An.newNoDocument(h,e))}i.be&&(t.set(o,i.ve()),i.Ce())}});let r=ft();this.Qe.forEach((i,o)=>{let u=!0;o.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Qp(e,t,this.Ke,this.ke,r);return this.ke=ra(),this.qe=ff(),this.Qe=ff(),this.Ke=new an(yt),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new X_,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Tn(yt),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Tn(yt),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new X_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ff(){return new an($e.comparator)}function J_(){return new an($e.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G0(n,e){return n.useProto3Json||Ld(e)?e:{value:e}}function cp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cD(n,e){return cp(n,e.toTimestamp())}function Kr(n){return Et(!!n),Ge.fromTimestamp(function(t){const r=fo(t);return new Ct(r.seconds,r.nanos)}(n))}function uv(n,e){return X0(n,e).canonicalString()}function X0(n,e){const t=function(s){return new zt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function EN(n){const e=zt.fromString(n);return Et(kN(e)),e}function up(n,e){return uv(n.databaseId,e.path)}function ld(n,e){const t=EN(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(SN(t))}function NN(n,e){return uv(n.databaseId,e)}function uD(n){const e=EN(n);return e.length===4?zt.emptyPath():SN(e)}function J0(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SN(n){return Et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Z_(n,e,t){return{name:up(n,e),fields:t.value.mapValue.fields}}function dD(n,e){return"found"in e?function(r,s){Et(!!s.found),s.found.name,s.found.updateTime;const i=ld(r,s.found.name),o=Kr(s.found.updateTime),u=s.found.createTime?Kr(s.found.createTime):Ge.min(),h=new vr({mapValue:{fields:s.found.fields}});return An.newFoundDocument(i,o,u,h)}(n,e):"missing"in e?function(r,s){Et(!!s.missing),Et(!!s.readTime);const i=ld(r,s.missing),o=Kr(s.readTime);return An.newNoDocument(i,o)}(n,e):Ke()}function hD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(p,g){return p.useProto3Json?(Et(g===void 0||typeof g=="string"),Xn.fromBase64String(g||"")):(Et(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Xn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(p){const g=p.code===void 0?oe.UNKNOWN:xN(p.code);return new _e(g,p.message||"")}(o);t=new _N(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ld(n,r.document.name),i=Kr(r.document.updateTime),o=r.document.createTime?Kr(r.document.createTime):Ge.min(),u=new vr({mapValue:{fields:r.document.fields}}),h=An.newFoundDocument(s,i,o,u),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Df(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ld(n,r.document),i=r.readTime?Kr(r.readTime):Ge.min(),o=An.newNoDocument(s,i),u=r.removedTargetIds||[];t=new Df([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ld(n,r.document),i=r.removedTargetIds||[];t=new Df([],i,s,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tD(s,i),u=r.targetId;t=new wN(u,o)}}return t}function TN(n,e){let t;if(e instanceof Fd)t={update:Z_(n,e.key,e.value)};else if(e instanceof Kp)t={delete:up(n,e.key)};else if(e instanceof So)t={update:Z_(n,e.key,e.data),updateMask:_D(e.fieldMask)};else{if(!(e instanceof yN))return Ke();t={verify:up(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof op)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof vd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof lp)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw Ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:cD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke()}(n,e.precondition)),t}function fD(n,e){return n&&n.length>0?(Et(e!==void 0),n.map(t=>function(s,i){let o=s.updateTime?Kr(s.updateTime):Kr(i);return o.isEqual(Ge.min())&&(o=Kr(i)),new GA(o,s.transformResults||[])}(t,e))):[]}function pD(n,e){return{documents:[NN(n,e.path)]}}function mD(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NN(n,s);const i=function(p){if(p.length!==0)return jN(Ls.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(p){if(p.length!==0)return p.map(g=>function(x){return{field:hc(x.field),direction:vD(x.dir)}}(g))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=G0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function gD(n){let e=uD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Et(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];t.where&&(i=function(y){const x=CN(y);return x instanceof Ls&&eN(x)?x.getFilters():[x]}(t.where));let o=[];t.orderBy&&(o=function(y){return y.map(x=>function(E){return new yd(fc(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(y){let x;return x=typeof y=="object"?y.value:y,Ld(x)?null:x}(t.limit));let h=null;t.startAt&&(h=function(y){const x=!!y.before,_=y.values||[];return new ap(_,x)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const x=!y.before,_=y.values||[];return new ap(_,x)}(t.endAt)),LA(e,s,o,i,u,"F",h,p)}function yD(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fc(t.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fc(t.unaryFilter.field);return wn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fc(t.unaryFilter.field);return wn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fc(t.unaryFilter.field);return wn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(n):n.fieldFilter!==void 0?function(t){return wn.create(fc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ls.create(t.compositeFilter.filters.map(r=>CN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ke()}}(t.compositeFilter.op))}(n):Ke()}function vD(n){return iD[n]}function xD(n){return aD[n]}function wD(n){return oD[n]}function hc(n){return{fieldPath:n.canonicalString()}}function fc(n){return Yn.fromServerFormat(n.fieldPath)}function jN(n){return n instanceof wn?function(t){if(t.op==="=="){if(U_(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NAN"}};if(V_(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(U_(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NAN"}};if(V_(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(t.field),op:xD(t.op),value:t.value}}}(n):n instanceof Ls?function(t){const r=t.getFilters().map(s=>jN(s));return r.length===1?r[0]:{compositeFilter:{op:wD(t.op),filters:r}}}(n):Ke()}function _D(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t,r,s,i=Ge.min(),o=Ge.min(),u=Xn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.ht=e}}function ED(n){const e=gD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Q0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.ln=new SD}addToCollectionParentIndex(e,t){return this.ln.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ho.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class SD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Tn(zt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new qc(0)}static Qn(){return new qc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2([n,e],[t,r]){const s=yt(n,t);return s===0?yt(e,r):s}class TD{constructor(e){this.Gn=e,this.buffer=new Tn(t2),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();t2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nu(t)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await tu(t)}await this.Yn(3e5)})}}class jD{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(zp.oe);const r=new TD(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(e2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e2):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,i,o,u,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,o=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(i=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),uc()<=ht.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-g}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:y})))}}function kD(n,e){return new jD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.changes=new El(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&od(r.mutation,s,Yr.empty(),Ct.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ft()){const s=Jo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=Ju();return i.forEach((u,h)=>{o=o.insert(u,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ft()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,u)=>{t.set(o,u)})})}computeViews(e,t,r,s){let i=ra();const o=ad(),u=function(){return ad()}();return t.forEach((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof So)?i=i.insert(p.key,p):g!==void 0?(o.set(p.key,g.mutation.getFieldMask()),od(g.mutation,p,g.mutation.getFieldMask(),Ct.now())):o.set(p.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,i).next(h=>(h.forEach((p,g)=>o.set(p,g)),t.forEach((p,g)=>{var y;return u.set(p,new RD(g,(y=o.get(p))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=ad();let s=new an((o,u)=>o-u),i=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const u of o)u.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||Yr.empty();g=u.applyToLocalView(p,g),r.set(h,g);const y=(s.get(u.batchId)||ft()).add(h);s=s.insert(u.batchId,y)})}).next(()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,g=h.value,y=cN();g.forEach(x=>{if(!i.has(x)){const _=mN(t.get(x),r.get(x));_!==null&&y.set(x,_),i=i.add(x)}}),o.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ue.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):ue.resolve(Jo());let u=-1,h=i;return o.next(p=>ue.forEach(p,(g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),i.get(g)?ue.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{h=h.insert(g,x)}))).next(()=>this.populateOverlays(e,p,i)).next(()=>this.computeViews(e,h,p,ft())).next(g=>({batchId:u,changes:lN(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let s=Ju();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Ju();return this.indexManager.getCollectionParents(e,i).next(u=>ue.forEach(u,h=>{const p=function(y,x){return new ru(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((y,x)=>{o=o.insert(y,x)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((h,p)=>{const g=p.getKey();o.get(g)===null&&(o=o.insert(g,An.newInvalidDocument(g)))});let u=Ju();return o.forEach((h,p)=>{const g=i.get(h);g!==void 0&&od(g.mutation,p,Yr.empty(),Ct.now()),Hp(t,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ue.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Kr(s.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:ED(s.bundledQuery),readTime:Kr(s.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.overlays=new an($e.comparator),this.Er=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Jo();return ue.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.Tt(e,t,i)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Er.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const s=Jo(),i=t.length+1,o=new $e(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new an((p,g)=>p-g);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=i.get(p.largestBatchId);g===null&&(g=Jo(),i=i.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const u=Jo(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>u.set(p,g)),!(u.size()>=s)););return ue.resolve(u)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eD(t,r));let i=this.Er.get(t);i===void 0&&(i=ft(),this.Er.set(t,i)),this.Er.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.dr=new Tn(Pn.Ar),this.Rr=new Tn(Pn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Pn(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Pn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new $e(new zt([])),r=new Pn(t,e),s=new Pn(t,e+1),i=[];return this.Rr.forEachInRange([r,s],o=>{this.gr(o),i.push(o.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new $e(new zt([])),r=new Pn(t,e),s=new Pn(t,e+1);let i=ft();return this.Rr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new Pn(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return $e.comparator(e.key,t.key)||yt(e.br,t.br)}static Vr(e,t){return yt(e.br,t.br)||$e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Tn(Pn.Ar)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZA(i,t,r,s);this.mutationQueue.push(o);for(const u of s)this.vr=this.vr.add(new Pn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ue.resolve(o)}lookupMutationBatch(e,t){return ue.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),i=s<0?0:s;return ue.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pn(t,0),s=new Pn(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,s],o=>{const u=this.Cr(o.br);i.push(u)}),ue.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tn(yt);return t.forEach(s=>{const i=new Pn(s,0),o=new Pn(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([i,o],u=>{r=r.add(u.br)})}),ue.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;$e.isDocumentKey(i)||(i=i.child(""));const o=new Pn(new $e(i),0);let u=new Tn(yt);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.br)),!0)},o),ue.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Et(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ue.forEach(t.mutations,s=>{const i=new Pn(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Pn(t,0),s=this.vr.firstAfterOrEqual(r);return ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Nr=e,this.docs=function(){return new an($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=ra();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():An.newInvalidDocument(s))}),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=ra();const o=t.path,u=new $e(o.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!o.isPrefixOf(p.path))break;p.path.length>o.length+1||gA(mA(g),r)<=0||(s.has(g.key)||Hp(t,g))&&(i=i.insert(g.key,g.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Ke()}Lr(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FD(this)}getSize(e){return ue.resolve(this.size)}}class FD extends ID{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.persistence=e,this.Br=new El(t=>sv(t),iv),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.kr=0,this.qr=new dv,this.targetCount=0,this.Qr=qc.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ue.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new qc(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Un(t),ue.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Br.forEach((o,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),ue.waitFor(i).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ue.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.Kr={},this.overlays={},this.$r=new zp(0),this.Ur=!1,this.Ur=!0,this.Wr=new MD,this.referenceDelegate=e(this),this.Gr=new VD(this),this.indexManager=new ND,this.remoteDocumentCache=function(s){return new LD(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new bD(t),this.jr=new AD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new OD(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const s=new UD(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(i=>this.referenceDelegate.Jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Yr(e,t){return ue.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class UD extends vA{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Zr=new dv,this.Xr=null}static ei(e){return new hv(e)}get ti(){if(this.Xr)return this.Xr;throw Ke()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.ti.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ti,r=>{const s=$e.fromPath(r);return this.ni(e,s).next(i=>{i||t.removeEntry(s,Ge.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ue.or([()=>ue.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class dp{constructor(e,t){this.persistence=e,this.ri=new El(r=>_A(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kD(this,t)}static ei(e,t){return new dp(e,t)}Hr(){}Jr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ue.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(i=>i?ue.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Lr(e,o=>this.ir(e,o,t).next(u=>{u||(r++,i.removeEntry(o,Ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ue.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rf(e.data.value)),t}ir(e,t,r){return ue.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return ue.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=ft(),s=ft();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new fv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return CI()?8:xA(lr())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Xi(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.es(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new $D;return this.ts(e,t,o).next(u=>{if(i.result=u,this.Hi)return this.ns(e,t,o,u.size)})}).next(()=>i.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(uc()<=ht.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",dc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ue.resolve()):(uc()<=ht.DEBUG&&Re("QueryEngine","Query:",dc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(uc()<=ht.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",dc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(t))):ue.resolve())}Xi(e,t){if(q_(t))return ue.resolve(null);let r=pi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Q0(t,null,"F"),r=pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ft(...i);return this.Zi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(t,u);return this.ss(t,p,o,h.readTime)?this.Xi(e,Q0(t,null,"F")):this.os(e,p,t,h)}))})))}es(e,t,r,s){return q_(t)||s.isEqual(Ge.min())?ue.resolve(null):this.Zi.getDocuments(e,r).next(i=>{const o=this.rs(t,i);return this.ss(t,o,r,s)?ue.resolve(null):(uc()<=ht.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),dc(t)),this.os(e,o,t,pA(s,-1)).next(u=>u))})}rs(e,t){let r=new Tn(aN(e));return t.forEach((s,i)=>{Hp(e,i)&&(r=r.add(i))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ts(e,t,r){return uc()<=ht.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",dc(t)),this.Zi.getDocumentsMatchingQuery(e,t,ho.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new an(yt),this.cs=new El(i=>sv(i),iv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function qD(n,e,t,r){return new BD(n,e,t,r)}async function RN(n,e){const t=et(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],u=[];let h=ft();for(const p of s){o.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of i){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:o,addedBatchIds:u}))})})}function HD(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,h,p,g){const y=p.batch,x=y.keys();let _=ue.resolve();return x.forEach(E=>{_=_.next(()=>g.getEntry(h,E)).next(j=>{const S=p.docVersions.get(E);Et(S!==null),j.version.compareTo(S)<0&&(y.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),g.addEntry(j)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=ft();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function PN(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function WD(n,e){const t=et(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const u=[];e.targetChanges.forEach((g,y)=>{const x=s.get(y);if(!x)return;u.push(t.Gr.removeMatchingKeys(i,g.removedDocuments,y).next(()=>t.Gr.addMatchingKeys(i,g.addedDocuments,y)));let _=x.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Xn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),s=s.insert(y,_),function(j,S,A){return j.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(x,_,g)&&u.push(t.Gr.updateTargetData(i,_))});let h=ra(),p=ft();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,g))}),u.push(YD(i,o,e.documentUpdates).next(g=>{h=g.Is,p=g.Es})),!r.isEqual(Ge.min())){const g=t.Gr.getLastRemoteSnapshotVersion(i).next(y=>t.Gr.setTargetsMetadata(i,i.currentSequenceNumber,r));u.push(g)}return ue.waitFor(u).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,h,p)).next(()=>h)}).then(i=>(t.us=s,i))}function YD(n,e,t){let r=ft(),s=ft();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=ra();return t.forEach((u,h)=>{const p=i.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ge.min())?(e.removeEntry(u,h.readTime),o=o.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),o=o.insert(u,h)):Re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{Is:o,Es:s}})}function KD(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QD(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(i=>i?(s=i,ue.resolve(s)):t.Gr.allocateTargetId(r).next(o=>(s=new ro(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Z0(n,e,t){const r=et(n),s=r.us.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nu(o))throw o;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function n2(n,e,t){const r=et(n);let s=Ge.min(),i=ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(h,p,g){const y=et(h),x=y.cs.get(g);return x!==void 0?ue.resolve(y.us.get(x)):y.Gr.getTargetData(p,g)}(r,o,pi(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,u.targetId).next(h=>{i=h})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,t?s:Ge.min(),t?i:ft())).next(u=>(GD(r,VA(e),u),{documents:u,ds:i})))}function GD(n,e,t){let r=n.ls.get(e)||Ge.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.ls.set(e,r)}class r2{constructor(){this.activeTargetIds=HA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XD{constructor(){this._o=new r2,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new r2,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function r0(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="WebChannelConnection";class t3 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${i}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Oo(t,r,s,i,o){const u=r0(),h=this.No(t,r.toUriEncodedString());Re("RestConnection",`Sending RPC '${t}' ${u}:`,h,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,i,o),this.Bo(t,h,p,s).then(g=>(Re("RestConnection",`Received RPC '${t}' ${u}: `,g),g),g=>{throw Uc("RestConnection",`RPC '${t}' ${u} failed with error: `,g,"url: ",h,"request:",s),g})}ko(t,r,s,i,o,u){return this.Oo(t,r,s,i,o)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),s&&s.headers.forEach((i,o)=>t[o]=i)}No(t,r){const s=ZD[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const i=r0();return new Promise((o,u)=>{const h=new zE;h.setWithCredentials(!0),h.listenOnce(BE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case If.NO_ERROR:const g=h.getResponseJson();Re(ir,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(g)),o(g);break;case If.TIMEOUT:Re(ir,`RPC '${e}' ${i} timed out`),u(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const y=h.getStatus();if(Re(ir,`RPC '${e}' ${i} failed with status:`,y,"response text:",h.getResponseText()),y>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const E=function(S){const A=S.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(A)>=0?A:oe.UNKNOWN}(_.status);u(new _e(E,_.message))}else u(new _e(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Re(ir,`RPC '${e}' ${i} completed.`)}});const p=JSON.stringify(s);Re(ir,`RPC '${e}' ${i} sending request:`,s),h.send(t,"POST",p,r,15)})}qo(e,t,r){const s=r0(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WE(),u=HE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");Re(ir,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=o.createWebChannel(g,h);let x=!1,_=!1;const E=new e3({Eo:S=>{_?Re(ir,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(x||(Re(ir,`Opening RPC '${e}' stream ${s} transport.`),y.open(),x=!0),Re(ir,`RPC '${e}' stream ${s} sending:`,S),y.send(S))},Ao:()=>y.close()}),j=(S,A,M)=>{S.listen(A,P=>{try{M(P)}catch(L){setTimeout(()=>{throw L},0)}})};return j(y,Xu.EventType.OPEN,()=>{_||(Re(ir,`RPC '${e}' stream ${s} transport opened.`),E.So())}),j(y,Xu.EventType.CLOSE,()=>{_||(_=!0,Re(ir,`RPC '${e}' stream ${s} transport closed`),E.Do())}),j(y,Xu.EventType.ERROR,S=>{_||(_=!0,Uc(ir,`RPC '${e}' stream ${s} transport errored:`,S),E.Do(new _e(oe.UNAVAILABLE,"The operation could not be completed")))}),j(y,Xu.EventType.MESSAGE,S=>{var A;if(!_){const M=S.data[0];Et(!!M);const P=M,L=(P==null?void 0:P.error)||((A=P[0])===null||A===void 0?void 0:A.error);if(L){Re(ir,`RPC '${e}' stream ${s} received error:`,L);const D=L.status;let B=function(k){const F=xn[k];if(F!==void 0)return xN(F)}(D),R=L.message;B===void 0&&(B=oe.INTERNAL,R="Unknown error status: "+D+" with message "+L.message),_=!0,E.Do(new _e(B,R)),y.close()}else Re(ir,`RPC '${e}' stream ${s} received:`,M),E.vo(M)}}),j(u,qE.STAT_EVENT,S=>{S.stat===B0.PROXY?Re(ir,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===B0.NOPROXY&&Re(ir,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.bo()},0),E}}function s0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n){return new lD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t,r=1e3,s=1.5,i=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&Re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t,r,s,i,o,u,h){this.li=e,this.Yo=r,this.Zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new pv(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(na(t.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new _e(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n3 extends AN{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=hD(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ge.min():o.readTime?Kr(o.readTime):Ge.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=J0(this.serializer),t.addTarget=function(i,o){let u;const h=o.target;if(u=Y0(h)?{documents:pD(i,h)}:{query:mD(i,h).ct},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=bN(i,o.resumeToken);const p=G0(i,o.expectedCount);p!==null&&(u.expectedCount=p)}else if(o.snapshotVersion.compareTo(Ge.min())>0){u.readTime=cp(i,o.snapshotVersion.toTimestamp());const p=G0(i,o.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=yD(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=J0(this.serializer),t.removeTarget=e,this.c_(t)}}class r3 extends AN{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=fD(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=J0(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>TN(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Oo(e,X0(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(oe.UNKNOWN,i.toString())})}ko(e,t,r,s,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.ko(e,X0(t,r),s,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(oe.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class i3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(na(t),this.C_=!1):Re("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Nl(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=et(h);p.k_.add(4),await Ud(p),p.K_.set("Unknown"),p.k_.delete(4),await Xp(p)}(this))})}),this.K_=new i3(r,s)}}async function Xp(n){if(Nl(n))for(const e of n.q_)await e(!0)}async function Ud(n){for(const e of n.q_)await e(!1)}function DN(n,e){const t=et(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),vv(t)?yv(t):su(t).s_()&&gv(t,e))}function mv(n,e){const t=et(n),r=su(t);t.B_.delete(e),r.s_()&&MN(t,e),t.B_.size===0&&(r.s_()?r.a_():Nl(t)&&t.K_.set("Unknown"))}function gv(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}su(n).V_(e)}function MN(n,e){n.U_.xe(e),su(n).m_(e)}function yv(n){n.U_=new sD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),su(n).start(),n.K_.F_()}function vv(n){return Nl(n)&&!su(n).i_()&&n.B_.size>0}function Nl(n){return et(n).k_.size===0}function ON(n){n.U_=void 0}async function o3(n){n.K_.set("Online")}async function l3(n){n.B_.forEach((e,t)=>{gv(n,e)})}async function c3(n,e){ON(n),vv(n)?(n.K_.O_(e),yv(n)):n.K_.set("Unknown")}async function u3(n,e,t){if(n.K_.set("Online"),e instanceof _N&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const u of i.targetIds)s.B_.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.B_.delete(u),s.U_.removeTarget(u))}(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(n,r)}else if(e instanceof Df?n.U_.$e(e):e instanceof wN?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ge.min()))try{const r=await PN(n.localStore);t.compareTo(r)>=0&&await function(i,o){const u=i.U_.it(o);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.B_.get(p);g&&i.B_.set(p,g.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach((h,p)=>{const g=i.B_.get(h);if(!g)return;i.B_.set(h,g.withResumeToken(Xn.EMPTY_BYTE_STRING,g.snapshotVersion)),MN(i,h);const y=new ro(g.target,h,p,g.sequenceNumber);gv(i,y)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),await hp(n,r)}}async function hp(n,e,t){if(!nu(e))throw e;n.k_.add(1),await Ud(n),n.K_.set("Offline"),t||(t=()=>PN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Xp(n)})}function LN(n,e){return e().catch(t=>hp(n,t,e))}async function Jp(n){const e=et(n),t=go(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;d3(e);)try{const s=await KD(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,h3(e,s)}catch(s){await hp(e,s)}FN(e)&&VN(e)}function d3(n){return Nl(n)&&n.L_.length<10}function h3(n,e){n.L_.push(e);const t=go(n);t.s_()&&t.f_&&t.g_(e.mutations)}function FN(n){return Nl(n)&&!go(n).i_()&&n.L_.length>0}function VN(n){go(n).start()}async function f3(n){go(n).w_()}async function p3(n){const e=go(n);for(const t of n.L_)e.g_(t.mutations)}async function m3(n,e,t){const r=n.L_.shift(),s=lv.from(r,e,t);await LN(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Jp(n)}async function g3(n,e){e&&go(n).f_&&await async function(r,s){if(function(o){return vN(o)&&o!==oe.ABORTED}(s.code)){const i=r.L_.shift();go(r).__(),await LN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Jp(r)}}(n,e),FN(n)&&VN(n)}async function i2(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Nl(t);t.k_.add(3),await Ud(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Xp(t)}async function y3(n,e){const t=et(n);e?(t.k_.delete(2),await Xp(t)):e||(t.k_.add(2),await Ud(t),t.K_.set("Unknown"))}function su(n){return n.W_||(n.W_=function(t,r,s){const i=et(t);return i.b_(),new n3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Ro:o3.bind(null,n),mo:l3.bind(null,n),po:c3.bind(null,n),R_:u3.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),vv(n)?yv(n):n.K_.set("Unknown")):(await n.W_.stop(),ON(n))})),n.W_}function go(n){return n.G_||(n.G_=function(t,r,s){const i=et(t);return i.b_(),new r3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:f3.bind(null,n),po:g3.bind(null,n),p_:p3.bind(null,n),y_:m3.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Jp(n)):(await n.G_.stop(),n.L_.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,u=new xv(e,t,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(n,e){if(na("AsyncQueue",`${e}: ${n}`),nu(n))return new _e(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{static emptySet(e){return new _c(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=Ju(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new _c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.z_=new an($e.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hc{constructor(e,t,r,s,i,o,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new Hc(e,t,_c.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class x3{constructor(){this.queries=o2(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=et(t),i=s.queries;s.queries=o2(),i.forEach((o,u)=>{for(const h of u.J_)h.onError(r)})})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function o2(){return new El(n=>iN(n),qp)}async function UN(n,e){const t=et(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.Y_()&&e.Z_()&&(r=2):(i=new v3,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await t.onListen(s,!0);break;case 1:i.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const u=wv(o,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.J_.push(e),e.ea(t.onlineState),i.H_&&e.ta(i.H_)&&_v(t)}async function $N(n,e){const t=et(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.J_.indexOf(e);o>=0&&(i.J_.splice(o,1),i.J_.length===0?s=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function w3(n,e){const t=et(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const u of o.J_)u.ta(s)&&(r=!0);o.H_=s}}r&&_v(t)}function _3(n,e,t){const r=et(n),s=r.queries.get(e);if(s)for(const i of s.J_)i.onError(t);r.queries.delete(e)}function _v(n){n.X_.forEach(e=>{e.next()})}var ey,l2;(l2=ey||(ey={})).na="default",l2.Cache="cache";class zN{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.key=e}}class qN{constructor(e){this.key=e}}class b3{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ft(),this.mutatedKeys=ft(),this.Va=aN(e),this.ma=new _c(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new a2,s=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,y)=>{const x=s.get(g),_=Hp(this.query,y)?y:null,E=!!x&&this.mutatedKeys.has(x.key),j=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;x&&_?x.data.isEqual(_.data)?E!==j&&(r.track({type:3,doc:_}),S=!0):this.ya(x,_)||(r.track({type:2,doc:_}),S=!0,(h&&this.Va(_,h)>0||p&&this.Va(_,p)<0)&&(u=!0)):!x&&_?(r.track({type:0,doc:_}),S=!0):x&&!_&&(r.track({type:1,doc:x}),S=!0,(h||p)&&(u=!0)),S&&(_?(o=o.add(_),i=j?i.add(g):i.delete(g)):(o=o.delete(g),i=i.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),i=i.delete(g.key),r.track({type:1,doc:g})}return{ma:o,pa:r,ss:u,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((g,y)=>function(_,E){const j=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return j(_)-j(E)}(g.type,y.type)||this.Va(g.doc,y.doc)),this.wa(r),s=s!=null&&s;const u=t&&!s?this.Sa():[],h=this.Ra.size===0&&this.current&&!s?1:0,p=h!==this.Aa;return this.Aa=h,o.length!==0||p?{snapshot:new Hc(this.query,e.ma,i,o,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new a2,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ft(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new qN(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new BN(r))}),t}va(e){this.da=e.ds,this.Ra=ft();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Hc.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class E3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class N3{constructor(e){this.key=e,this.Fa=!1}}class S3{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new El(u=>iN(u),qp),this.Oa=new Map,this.Na=new Set,this.La=new an($e.comparator),this.Ba=new Map,this.ka=new dv,this.qa={},this.Qa=new Map,this.Ka=qc.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function T3(n,e,t=!0){const r=GN(n);let s;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await HN(r,e,t,!0),s}async function C3(n,e){const t=GN(n);await HN(t,e,!0,!1)}async function HN(n,e,t,r){const s=await QD(n.localStore,pi(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await j3(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&DN(n.remoteStore,s),u}async function j3(n,e,t,r,s){n.Ua=(y,x,_)=>async function(j,S,A,M){let P=S.view.ga(A);P.ss&&(P=await n2(j.localStore,S.query,!1).then(({documents:R})=>S.view.ga(R,P)));const L=M&&M.targetChanges.get(S.targetId),D=M&&M.targetMismatches.get(S.targetId)!=null,B=S.view.applyChanges(P,j.isPrimaryClient,L,D);return u2(j,S.targetId,B.ba),B.snapshot}(n,y,x,_);const i=await n2(n.localStore,e,!0),o=new b3(e,i.ds),u=o.ga(i.documents),h=Vd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=o.applyChanges(u,n.isPrimaryClient,h);u2(n,t,p.ba);const g=new E3(e,t,o);return n.xa.set(e,g),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function k3(n,e,t){const r=et(n),s=r.xa.get(e),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter(o=>!qp(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Z0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&mv(r.remoteStore,s.targetId),ty(r,s.targetId)}).catch(tu)):(ty(r,s.targetId),await Z0(r.localStore,s.targetId,!0))}async function I3(n,e){const t=et(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mv(t.remoteStore,r.targetId))}async function R3(n,e,t){const r=F3(n);try{const s=await function(o,u){const h=et(o),p=Ct.now(),g=u.reduce((_,E)=>_.add(E.key),ft());let y,x;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ra(),j=ft();return h.hs.getEntries(_,g).next(S=>{E=S,E.forEach((A,M)=>{M.isValidDocument()||(j=j.add(A))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,E)).next(S=>{y=S;const A=[];for(const M of u){const P=JA(M,y.get(M.key).overlayedDocument);P!=null&&A.push(new So(M.key,P,XE(P.value.mapValue),Dn.exists(!0)))}return h.mutationQueue.addMutationBatch(_,p,A,u)}).next(S=>{x=S;const A=S.applyToLocalDocumentSet(y,j);return h.documentOverlayCache.saveOverlays(_,S.batchId,A)})}).then(()=>({batchId:x.batchId,changes:lN(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,u,h){let p=o.qa[o.currentUser.toKey()];p||(p=new an(yt)),p=p.insert(u,h),o.qa[o.currentUser.toKey()]=p}(r,s.batchId,t),await $d(r,s.changes),await Jp(r.remoteStore)}catch(s){const i=wv(s,"Failed to persist write");t.reject(i)}}async function WN(n,e){const t=et(n);try{const r=await WD(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Ba.get(i);o&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Fa=!0:s.modifiedDocuments.size>0?Et(o.Fa):s.removedDocuments.size>0&&(Et(o.Fa),o.Fa=!1))}),await $d(t,r,e)}catch(r){await tu(r)}}function c2(n,e,t){const r=et(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((i,o)=>{const u=o.view.ea(e);u.snapshot&&s.push(u.snapshot)}),function(o,u){const h=et(o);h.onlineState=u;let p=!1;h.queries.forEach((g,y)=>{for(const x of y.J_)x.ea(u)&&(p=!0)}),p&&_v(h)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P3(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),i=s&&s.key;if(i){let o=new an($e.comparator);o=o.insert(i,An.newNoDocument(i,Ge.min()));const u=ft().add(i),h=new Qp(Ge.min(),new Map,new an(yt),o,u);await WN(r,h),r.La=r.La.remove(i),r.Ba.delete(e),bv(r)}else await Z0(r.localStore,e,!1).then(()=>ty(r,e,t)).catch(tu)}async function A3(n,e){const t=et(n),r=e.batch.batchId;try{const s=await HD(t.localStore,e);KN(t,r,null),YN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await $d(t,s)}catch(s){await tu(s)}}async function D3(n,e,t){const r=et(n);try{const s=await function(o,u){const h=et(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,u).next(y=>(Et(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(p,y))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);KN(r,e,t),YN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await $d(r,s)}catch(s){await tu(s)}}function YN(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function KN(n,e,t){const r=et(n);let s=r.qa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function ty(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||QN(n,r)})}function QN(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(mv(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),bv(n))}function u2(n,e,t){for(const r of t)r instanceof BN?(n.ka.addReference(r.key,e),M3(n,r)):r instanceof qN?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||QN(n,r.key)):Ke()}function M3(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.Na.add(r),bv(n))}function bv(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new $e(zt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new N3(t)),n.La=n.La.insert(t,r),DN(n.remoteStore,new ro(pi(av(t.path)),r,"TargetPurposeLimboResolution",zp.oe))}}async function $d(n,e,t){const r=et(n),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach((u,h)=>{o.push(r.Ua(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){s.push(p);const y=fv.zi(h.targetId,p);i.push(y)}}))}),await Promise.all(o),r.Ma.R_(s),await async function(h,p){const g=et(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ue.forEach(p,x=>ue.forEach(x.Wi,_=>g.persistence.referenceDelegate.addReference(y,x.targetId,_)).next(()=>ue.forEach(x.Gi,_=>g.persistence.referenceDelegate.removeReference(y,x.targetId,_)))))}catch(y){if(!nu(y))throw y;Re("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const x=y.targetId;if(!y.fromCache){const _=g.us.get(x),E=_.snapshotVersion,j=_.withLastLimboFreeSnapshotVersion(E);g.us=g.us.insert(x,j)}}}(r.localStore,i))}async function O3(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=await RN(t.localStore,e);t.currentUser=e,function(i,o){i.Qa.forEach(u=>{u.forEach(h=>{h.reject(new _e(oe.CANCELLED,o))})}),i.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $d(t,r.Ts)}}function L3(n,e){const t=et(n),r=t.Ba.get(e);if(r&&r.Fa)return ft().add(r.key);{let s=ft();const i=t.Oa.get(e);if(!i)return s;for(const o of i){const u=t.xa.get(o);s=s.unionWith(u.view.fa)}return s}}function GN(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P3.bind(null,e),e.Ma.R_=w3.bind(null,e.eventManager),e.Ma.Wa=_3.bind(null,e.eventManager),e}function F3(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D3.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gp(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return qD(this.persistence,new zD,e.initialUser,this.serializer)}ja(e){return new IN(hv.ei,this.serializer)}za(e){return new XD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class V3 extends fp{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Et(this.persistence.referenceDelegate instanceof dp);const r=this.persistence.referenceDelegate.garbageCollector;return new CD(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new IN(r=>dp.ei(r,t),this.serializer)}}class ny{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O3.bind(null,this.syncEngine),await y3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x3}()}createDatastore(e){const t=Gp(e.databaseInfo.databaseId),r=function(i){return new t3(i)}(e.databaseInfo);return function(i,o,u,h){return new s3(i,o,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,u){return new a3(r,s,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,t=>c2(this.syncEngine,t,0),function(){return s2.p()?new s2:new JD}())}createSyncEngine(e,t){return function(s,i,o,u,h,p,g){const y=new S3(s,i,o,u,h,p);return g&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=et(s);Re("RemoteStore","RemoteStore shutting down."),i.k_.add(5),await Ud(i),i.Q_.shutdown(),i.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ny.provider={build:()=>new ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new _e(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,i){const o=et(s),u={documents:i.map(y=>up(o.serializer,y))},h=await o.ko("BatchGetDocuments",o.serializer.databaseId,zt.emptyPath(),u,i.length),p=new Map;h.forEach(y=>{const x=dD(o.serializer,y);p.set(x.key.toString(),x)});const g=[];return i.forEach(y=>{const x=p.get(y.toString());Et(!!x),g.push(x)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const s=$e.fromPath(r);this.mutations.push(new yN(s,this.precondition(s)))}),await async function(r,s){const i=et(r),o={writes:s.map(u=>TN(i.serializer,u))};await i.Oo("Commit",i.serializer.databaseId,zt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ke();t=Ge.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new _e(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ge.min())?Dn.exists(!1):Dn.updateTime(t):Dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ge.min()))throw new _e(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(t)}return Dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t,r,s,i){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=i,this.uu=r.maxAttempts,this.r_=new pv(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo(async()=>{const e=new U3(this.datastore),t=this.hu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Pu(s)}))}).catch(r=>{this.Pu(r)})})}hu(e){try{const t=this.updateFunction(e);return!Ld(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget(()=>(this.lu(),Promise.resolve()))):this.deferred.reject(e)}Tu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!vN(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=or.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=wv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function i0(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function d2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await B3(n);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>i2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>i2(e.remoteStore,s)),n._onlineComponents=e}async function B3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await i0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Uc("Error using user provided cache. Falling back to memory cache: "+t),await i0(n,new fp)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await i0(n,new V3(void 0));return n._offlineComponents}async function Ev(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await d2(n,n._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await d2(n,new ny))),n._onlineComponents}function q3(n){return Ev(n).then(e=>e.syncEngine)}function H3(n){return Ev(n).then(e=>e.datastore)}async function JN(n){const e=await Ev(n),t=e.eventManager;return t.onListen=T3.bind(null,e.syncEngine),t.onUnlisten=k3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=C3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I3.bind(null,e.syncEngine),t}function W3(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,u,h,p){const g=new XN({next:x=>{g.eu(),o.enqueueAndForget(()=>$N(i,y));const _=x.docs.has(u);!_&&x.fromCache?p.reject(new _e(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&h&&h.source==="server"?p.reject(new _e(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),y=new zN(av(u.path),g,{includeMetadataChanges:!0,ua:!0});return UN(i,y)}(await JN(n),n.asyncQueue,e,t,r)),r.promise}function Y3(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,u,h,p){const g=new XN({next:x=>{g.eu(),o.enqueueAndForget(()=>$N(i,y)),x.fromCache&&h.source==="server"?p.reject(new _e(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),y=new zN(u,g,{includeMetadataChanges:!0,ua:!0});return UN(i,y)}(await JN(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n,e,t){if(!t)throw new _e(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K3(n,e,t,r){if(e===!0&&r===!0)throw new _e(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f2(n){if(!$e.isDocumentKey(n))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p2(n){if($e.isDocumentKey(n))throw new _e(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ke()}function xi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zp(n);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iA;switch(r.type){case"firstParty":return new cA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=h2.get(t);r&&(Re("ComponentProvider","Removing Datastore"),h2.delete(t),r.terminate())}(this),Promise.resolve()}}function Q3(n,e,t,r={}){var s;const i=(n=xi(n,em))._getSettings(),o=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=or.MOCK_USER;else{u=wI(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new or(p)}n._authCredentials=new aA(new YE(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=class tS{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tS(this.firestore,e,this._query)}};class _r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class lo extends zd{constructor(e,t,r){super(e,t,av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new $e(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function rt(n,e,...t){if(n=tn(n),eS("collection","path",e),n instanceof em){const r=zt.fromString(e,...t);return p2(r),new lo(n,null,r)}{if(!(n instanceof _r||n instanceof lo))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return p2(r),new lo(n.firestore,null,r)}}function Ue(n,e,...t){if(n=tn(n),arguments.length===1&&(e=KE.newId()),eS("doc","path",e),n instanceof em){const r=zt.fromString(e,...t);return f2(r),new _r(n,null,new $e(r))}{if(!(n instanceof _r||n instanceof lo))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return f2(r),new _r(n.firestore,n instanceof lo?n.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new pv(this,"async_queue_retry"),this.fu=()=>{const r=s0();r&&Re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=s0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=s0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new fi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!nu(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw na("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=xv.createAndSchedule(this,e,t,r,i=>this.Su(i));return this.du.push(s),s}pu(){this.Au&&Ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Sl extends em{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new g2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g2(e),this._firestoreClient=void 0,await e}}}function G3(n,e){const t=typeof n=="object"?n:eE(),r=typeof n=="string"?n:"(default)",s=qy(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=vI("firestore");i&&Q3(s,...i)}return s}function Bd(n){if(n._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X3(n),n._firestoreClient}function X3(n){var e,t,r;const s=n._freezeSettings(),i=function(u,h,p,g){return new NA(u,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ZN(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new z3(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Xn.fromBase64String(e))}catch(t){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=/^__.*__$/;class Z3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new So(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fd(e,this.data,t,this.fieldTransforms)}}class nS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new So(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class Cv{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return pp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(rS(this.Mu)&&J3.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class e5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gp(e)}$u(e,t,r,s=!1){return new Cv({Mu:e,methodName:t,Ku:r,path:Yn.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(n){const e=n._freezeSettings(),t=Gp(n._databaseId);return new e5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jv(n,e,t,r,s,i={}){const o=n.$u(i.merge||i.mergeFields?2:0,e,t,s);Rv("Data must be an object, but it was:",o,r);const u=sS(r,o);let h,p;if(i.merge)h=new Yr(o.fieldMask),p=o.fieldTransforms;else if(i.mergeFields){const g=[];for(const y of i.mergeFields){const x=ry(e,y,t);if(!o.contains(x))throw new _e(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);aS(g,x)||g.push(x)}h=new Yr(g),p=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,p=o.fieldTransforms;return new Z3(new vr(u),h,p)}class tm extends Nv{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function kv(n,e,t,r){const s=n.$u(1,e,t);Rv("Data must be an object, but it was:",s,r);const i=[],o=vr.empty();No(r,(h,p)=>{const g=Pv(e,h,t);p=tn(p);const y=s.Bu(g);if(p instanceof tm)i.push(g);else{const x=Hd(p,y);x!=null&&(i.push(g),o.set(g,x))}});const u=new Yr(i);return new nS(o,u,s.fieldTransforms)}function Iv(n,e,t,r,s,i){const o=n.$u(1,e,t),u=[ry(e,r,t)],h=[s];if(i.length%2!=0)throw new _e(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<i.length;x+=2)u.push(ry(e,i[x])),h.push(i[x+1]);const p=[],g=vr.empty();for(let x=u.length-1;x>=0;--x)if(!aS(p,u[x])){const _=u[x];let E=h[x];E=tn(E);const j=o.Bu(_);if(E instanceof tm)p.push(_);else{const S=Hd(E,j);S!=null&&(p.push(_),g.set(_,S))}}const y=new Yr(p);return new nS(g,y,o.fieldTransforms)}function t5(n,e,t,r=!1){return Hd(t,n.$u(r?4:3,e))}function Hd(n,e){if(iS(n=tn(n)))return Rv("Unsupported field value:",e,n),sS(n,e);if(n instanceof Nv)return function(r,s){if(!rS(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const u of r){let h=Hd(u,s.ku(o));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ct.fromDate(r);return{timestampValue:cp(s.serializer,i)}}if(r instanceof Ct){const i=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cp(s.serializer,i)}}if(r instanceof Sv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ml)return{bytesValue:bN(s.serializer,r._byteString)};if(r instanceof _r){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tv)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw u.qu("VectorValues must only contain numeric values.");return ov(u.serializer,h)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${Zp(r)}`)}(n,e)}function sS(n,e){const t={};return QE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(n,(r,s)=>{const i=Hd(s,e.Ou(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function iS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Sv||n instanceof ml||n instanceof _r||n instanceof Nv||n instanceof Tv)}function Rv(n,e,t){if(!iS(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Zp(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function ry(n,e,t){if((e=tn(e))instanceof iu)return e._internalPath;if(typeof e=="string")return Pv(n,e);throw pp("Field path arguments must be of type string or ",n,!1,void 0,t)}const n5=new RegExp("[~\\*/\\[\\]]");function Pv(n,e,t){if(e.search(n5)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new iu(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pp(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||o)&&(h+=" (found",i&&(h+=` in field ${r}`),o&&(h+=` in document ${s}`),h+=")"),new _e(oe.INVALID_ARGUMENT,u+n+h)}function aS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class r5 extends mp{data(){return super.data()}}function nm(n,e){return typeof e=="string"?Pv(n,e):e instanceof iu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class oS extends Av{}function Ht(n,e,...t){let r=[];e instanceof Av&&r.push(e),r=r.concat(t),function(i){const o=i.filter(h=>h instanceof Dv).length,u=i.filter(h=>h instanceof rm).length;if(o>1||o>0&&u>0)throw new _e(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class rm extends oS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new rm(e,t,r)}_apply(e){const t=this._parse(e);return lS(e._query,t),new zd(e.firestore,e.converter,K0(e._query,t))}_parse(e){const t=qd(e.firestore);return function(i,o,u,h,p,g,y){let x;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){v2(y,g);const _=[];for(const E of y)_.push(y2(h,i,E));x={arrayValue:{values:_}}}else x=y2(h,i,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||v2(y,g),x=t5(u,o,y,g==="in"||g==="not-in");return wn.create(p,g,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qe(n,e,t){const r=e,s=nm("where",n);return rm._create(s,r,t)}class Dv extends Av{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ls.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let o=s;const u=i.getFlattenedFilters();for(const h of u)lS(o,h),o=K0(o,h)}(e._query,t),new zd(e.firestore,e.converter,K0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mv extends oS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mv(e,t)}_apply(e){const t=function(s,i,o){if(s.startAt!==null)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yd(i,o)}(e._query,this._field,this._direction);return new zd(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ru(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function i5(n,e="asc"){const t=e,r=nm("orderBy",n);return Mv._create(r,t)}function y2(n,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new _e(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sN(e)&&t.indexOf("/")!==-1)throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!$e.isDocumentKey(r))throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F_(n,new $e(r))}if(t instanceof _r)return F_(n,t._key);throw new _e(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(t)}.`)}function v2(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lS(n,e){const t=function(s,i){for(const o of s)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class cS{convertValue(e,t="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return No(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>pn(o.doubleValue));return new Tv(i)}convertGeoPoint(e){return new Sv(pn(e.latitude),pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const t=fo(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);Et(kN(r));const s=new md(r.get(1),r.get(3)),i=new $e(r.popFirst(5));return s.isEqual(t)||na(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class a5 extends cS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lv extends mp{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Mf extends Lv{data(e={}){return super.data(e)}}class o5{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new yc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Mf(this._firestore,this._userDataWriter,r.key,r,new yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(u=>{const h=new Mf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new yc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const h=new Mf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new yc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return u.type!==0&&(p=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),g=o.indexOf(u.doc.key)),{type:l5(u.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function l5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(n){n=xi(n,_r);const e=xi(n.firestore,Sl);return W3(Bd(e),n._key).then(t=>c5(e,n,t))}class Fv extends cS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function Wt(n){n=xi(n,zd);const e=xi(n.firestore,Sl),t=Bd(e),r=new Fv(e);return s5(n._query),Y3(t,n._query).then(s=>new o5(e,r,n,s))}function At(n,e,t,...r){n=xi(n,_r);const s=xi(n.firestore,Sl),i=qd(s);let o;return o=typeof(e=tn(e))=="string"||e instanceof iu?Iv(i,"updateDoc",n._key,e,t,r):kv(i,"updateDoc",n._key,e),Vv(s,[o.toMutation(n._key,Dn.exists(!0))])}function Kn(n,e){const t=xi(n.firestore,Sl),r=Ue(n),s=Ov(n.converter,e);return Vv(t,[jv(qd(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Dn.exists(!1))]).then(()=>r)}function Vv(n,e){return function(r,s){const i=new fi;return r.asyncQueue.enqueueAndForget(async()=>R3(await q3(r),s,i)),i.promise}(Bd(n),e)}function c5(n,e,t){const r=t.docs.get(e._key),s=new Fv(n);return new Lv(n,s,e._key,r,new yc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qd(e)}set(e,t,r){this._verifyNotCommitted();const s=Ya(e,this._firestore),i=Ov(s.converter,t,r),o=jv(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Dn.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Ya(e,this._firestore);let o;return o=typeof(t=tn(t))=="string"||t instanceof iu?Iv(this._dataReader,"WriteBatch.update",i._key,t,r,s):kv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ya(e,this._firestore);return this._mutations=this._mutations.concat(new Kp(t._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ya(n,e){if((n=tn(n)).firestore!==e)throw new _e(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5 extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=qd(t)}get(t){const r=Ya(t,this._firestore),s=new a5(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return Ke();const o=i[0];if(o.isFoundDocument())return new mp(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new mp(this._firestore,s,r._key,null,r.converter);throw Ke()})}set(t,r,s){const i=Ya(t,this._firestore),o=Ov(i.converter,r,s),u=jv(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,u),this}update(t,r,s,...i){const o=Ya(t,this._firestore);let u;return u=typeof(r=tn(r))=="string"||r instanceof iu?Iv(this._dataReader,"Transaction.update",o._key,r,s,i):kv(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,u),this}delete(t){const r=Ya(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ya(e,this._firestore),r=new Fv(this._firestore);return super.get(e).then(s=>new Lv(this._firestore,r,t._key,s._document,new yc(!1,!1),t.converter))}}function f5(n,e,t){n=xi(n,Sl);const r=Object.assign(Object.assign({},u5),t);return function(i){if(i.maxAttempts<1)throw new _e(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,u){const h=new fi;return i.asyncQueue.enqueueAndForget(async()=>{const p=await H3(i);new $3(i.asyncQueue,p,u,o,h).cu()}),h.promise}(Bd(n),s=>e(new h5(n,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(n){return Bd(n=xi(n,Sl)),new d5(n,e=>Vv(n,e))}(function(e,t=!0){(function(s){eu=s})(Zc),Fc(new dl("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),u=new Sl(new oA(r.getProvider("auth-internal")),new dA(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new md(p.options.projectId,g)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),oo(P_,"4.7.5",e),oo(P_,"4.7.5","esm2017")})();var m5="firebase",g5="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo(m5,g5,"app");const y5={apiKey:"AIzaSyC009WX0S_QOTxAmOAW7-nEzWm6AUS1o9c",authDomain:"eam-backend.firebaseapp.com",projectId:"eam-backend",storageBucket:"eam-backend.firebasestorage.app",messagingSenderId:"1010443472937",appId:"1:1010443472937:web:daa417fd77757fda850c38",measurementId:"G-1HTVXT3WCR"},uS=Zb(y5),fe=G3(uS),dS=ev(uS);var au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gl=typeof window>"u"||"Deno"in globalThis;function os(){}function v5(n,e){return typeof n=="function"?n(e):n}function sy(n){return typeof n=="number"&&n>=0&&n!==1/0}function hS(n,e){return Math.max(n+(e||0)-Date.now(),0)}function bc(n,e){return typeof n=="function"?n(e):n}function Ps(n,e){return typeof n=="function"?n(e):n}function x2(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=n;if(o){if(r){if(e.queryHash!==Uv(o,e.options))return!1}else if(!wd(e.queryKey,o))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function w2(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(yl(e.options.mutationKey)!==yl(i))return!1}else if(!wd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Uv(n,e){return((e==null?void 0:e.queryKeyHashFn)||yl)(n)}function yl(n){return JSON.stringify(n,(e,t)=>iy(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function wd(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!wd(n[t],e[t])):!1}function fS(n,e){if(n===e)return n;const t=_2(n)&&_2(e);if(t||iy(n)&&iy(e)){const r=t?n:Object.keys(n),s=r.length,i=t?e:Object.keys(e),o=i.length,u=t?[]:{};let h=0;for(let p=0;p<o;p++){const g=t?p:i[p];(!t&&r.includes(g)||t)&&n[g]===void 0&&e[g]===void 0?(u[g]=void 0,h++):(u[g]=fS(n[g],e[g]),u[g]===n[g]&&n[g]!==void 0&&h++)}return s===o&&h===s?n:u}return e}function gp(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function _2(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function iy(n){if(!b2(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!b2(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function b2(n){return Object.prototype.toString.call(n)==="[object Object]"}function x5(n){return new Promise(e=>{setTimeout(e,n)})}function ay(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?fS(n,e):e}function w5(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function _5(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var $v=Symbol();function pS(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===$v?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var el,Ka,Sc,yb,b5=(yb=class extends au{constructor(){super();Ye(this,el);Ye(this,Ka);Ye(this,Sc);je(this,Sc,e=>{if(!gl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){W(this,Ka)||this.setEventListener(W(this,Sc))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Ka))==null||e.call(this),je(this,Ka,void 0))}setEventListener(e){var t;je(this,Sc,e),(t=W(this,Ka))==null||t.call(this),je(this,Ka,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,el)!==e&&(je(this,el,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof W(this,el)=="boolean"?W(this,el):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},el=new WeakMap,Ka=new WeakMap,Sc=new WeakMap,yb),zv=new b5,Tc,Qa,Cc,vb,E5=(vb=class extends au{constructor(){super();Ye(this,Tc,!0);Ye(this,Qa);Ye(this,Cc);je(this,Cc,e=>{if(!gl&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Qa)||this.setEventListener(W(this,Cc))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Qa))==null||e.call(this),je(this,Qa,void 0))}setEventListener(e){var t;je(this,Cc,e),(t=W(this,Qa))==null||t.call(this),je(this,Qa,e(this.setOnline.bind(this)))}setOnline(e){W(this,Tc)!==e&&(je(this,Tc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,Tc)}},Tc=new WeakMap,Qa=new WeakMap,Cc=new WeakMap,vb),yp=new E5;function oy(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function N5(n){return Math.min(1e3*2**n,3e4)}function mS(n){return(n??"online")==="online"?yp.isOnline():!0}var gS=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function a0(n){return n instanceof gS}function yS(n){let e=!1,t=0,r=!1,s;const i=oy(),o=j=>{var S;r||(x(new gS(j)),(S=n.abort)==null||S.call(n))},u=()=>{e=!0},h=()=>{e=!1},p=()=>zv.isFocused()&&(n.networkMode==="always"||yp.isOnline())&&n.canRun(),g=()=>mS(n.networkMode)&&n.canRun(),y=j=>{var S;r||(r=!0,(S=n.onSuccess)==null||S.call(n,j),s==null||s(),i.resolve(j))},x=j=>{var S;r||(r=!0,(S=n.onError)==null||S.call(n,j),s==null||s(),i.reject(j))},_=()=>new Promise(j=>{var S;s=A=>{(r||p())&&j(A)},(S=n.onPause)==null||S.call(n)}).then(()=>{var j;s=void 0,r||(j=n.onContinue)==null||j.call(n)}),E=()=>{if(r)return;let j;const S=t===0?n.initialPromise:void 0;try{j=S??n.fn()}catch(A){j=Promise.reject(A)}Promise.resolve(j).then(y).catch(A=>{var B;if(r)return;const M=n.retry??(gl?0:3),P=n.retryDelay??N5,L=typeof P=="function"?P(t,A):P,D=M===!0||typeof M=="number"&&t<M||typeof M=="function"&&M(t,A);if(e||!D){x(A);return}t++,(B=n.onFail)==null||B.call(n,t,A),x5(L).then(()=>p()?void 0:_()).then(()=>{e?x(A):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?E():_().then(E),i)}}function S5(){let n=[],e=0,t=u=>{u()},r=u=>{u()},s=u=>setTimeout(u,0);const i=u=>{e?n.push(u):s(()=>{t(u)})},o=()=>{const u=n;n=[],u.length&&s(()=>{r(()=>{u.forEach(h=>{t(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||o()}return h},batchCalls:u=>(...h)=>{i(()=>{u(...h)})},schedule:i,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var Sn=S5(),tl,xb,vS=(xb=class{constructor(){Ye(this,tl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sy(this.gcTime)&&je(this,tl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(gl?1/0:5*60*1e3))}clearGcTimeout(){W(this,tl)&&(clearTimeout(W(this,tl)),je(this,tl,void 0))}},tl=new WeakMap,xb),jc,kc,is,ar,Nd,nl,Is,Bi,wb,T5=(wb=class extends vS{constructor(e){super();Ye(this,Is);Ye(this,jc);Ye(this,kc);Ye(this,is);Ye(this,ar);Ye(this,Nd);Ye(this,nl);je(this,nl,!1),je(this,Nd,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,is,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,jc,C5(this.options)),this.state=e.state??W(this,jc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,ar))==null?void 0:e.promise}setOptions(e){this.options={...W(this,Nd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,is).remove(this)}setData(e,t){const r=ay(this.state.data,e,this.options);return it(this,Is,Bi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){it(this,Is,Bi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,s;const t=(r=W(this,ar))==null?void 0:r.promise;return(s=W(this,ar))==null||s.cancel(e),t?t.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,jc))}isActive(){return this.observers.some(e=>Ps(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!hS(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=W(this,ar))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=W(this,ar))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,is).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(W(this,ar)&&(W(this,nl)?W(this,ar).cancel({revert:!0}):W(this,ar).cancelRetry()),this.scheduleGc()),W(this,is).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,Is,Bi).call(this,{type:"invalidate"})}fetch(e,t){var h,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(W(this,ar))return W(this,ar).continueRetry(),W(this,ar).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(x=>x.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,s=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(je(this,nl,!0),r.signal)})},i=()=>{const y=pS(this.options,t),x={queryKey:this.queryKey,meta:this.meta};return s(x),je(this,nl,!1),this.options.persister?this.options.persister(y,x,this):y(x)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(h=this.options.behavior)==null||h.onFetch(o,this),je(this,kc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=o.fetchOptions)==null?void 0:p.meta))&&it(this,Is,Bi).call(this,{type:"fetch",meta:(g=o.fetchOptions)==null?void 0:g.meta});const u=y=>{var x,_,E,j;a0(y)&&y.silent||it(this,Is,Bi).call(this,{type:"error",error:y}),a0(y)||((_=(x=W(this,is).config).onError)==null||_.call(x,y,this),(j=(E=W(this,is).config).onSettled)==null||j.call(E,this.state.data,y,this)),this.scheduleGc()};return je(this,ar,yS({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:y=>{var x,_,E,j;if(y===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(S){u(S);return}(_=(x=W(this,is).config).onSuccess)==null||_.call(x,y,this),(j=(E=W(this,is).config).onSettled)==null||j.call(E,y,this.state.error,this),this.scheduleGc()},onError:u,onFail:(y,x)=>{it(this,Is,Bi).call(this,{type:"failed",failureCount:y,error:x})},onPause:()=>{it(this,Is,Bi).call(this,{type:"pause"})},onContinue:()=>{it(this,Is,Bi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),W(this,ar).start()}},jc=new WeakMap,kc=new WeakMap,is=new WeakMap,ar=new WeakMap,Nd=new WeakMap,nl=new WeakMap,Is=new WeakSet,Bi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xS(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return a0(s)&&s.revert&&W(this,kc)?{...W(this,kc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,is).notify({query:this,type:"updated",action:e})})},wb);function xS(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mS(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function C5(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ti,_b,j5=(_b=class extends au{constructor(e={}){super();Ye(this,ti);this.config=e,je(this,ti,new Map)}build(e,t,r){const s=t.queryKey,i=t.queryHash??Uv(s,t);let o=this.get(i);return o||(o=new T5({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){W(this,ti).has(e.queryHash)||(W(this,ti).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=W(this,ti).get(e.queryHash);t&&(e.destroy(),t===e&&W(this,ti).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,ti).get(e)}getAll(){return[...W(this,ti).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>x2(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>x2(e,r)):t}notify(e){Sn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ti=new WeakMap,_b),ni,mr,rl,ri,$a,bb,k5=(bb=class extends vS{constructor(e){super();Ye(this,ri);Ye(this,ni);Ye(this,mr);Ye(this,rl);this.mutationId=e.mutationId,je(this,mr,e.mutationCache),je(this,ni,[]),this.state=e.state||wS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,ni).includes(e)||(W(this,ni).push(e),this.clearGcTimeout(),W(this,mr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,ni,W(this,ni).filter(t=>t!==e)),this.scheduleGc(),W(this,mr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,ni).length||(this.state.status==="pending"?this.scheduleGc():W(this,mr).remove(this))}continue(){var e;return((e=W(this,rl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,u,h,p,g,y,x,_,E,j,S,A,M,P,L,D,B,R;je(this,rl,yS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,k)=>{it(this,ri,$a).call(this,{type:"failed",failureCount:T,error:k})},onPause:()=>{it(this,ri,$a).call(this,{type:"pause"})},onContinue:()=>{it(this,ri,$a).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,mr).canRun(this)}));const t=this.state.status==="pending",r=!W(this,rl).canStart();try{if(!t){it(this,ri,$a).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=W(this,mr).config).onMutate)==null?void 0:i.call(s,e,this));const k=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,e));k!==this.state.context&&it(this,ri,$a).call(this,{type:"pending",context:k,variables:e,isPaused:r})}const T=await W(this,rl).start();return await((p=(h=W(this,mr).config).onSuccess)==null?void 0:p.call(h,T,e,this.state.context,this)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,T,e,this.state.context)),await((_=(x=W(this,mr).config).onSettled)==null?void 0:_.call(x,T,null,this.state.variables,this.state.context,this)),await((j=(E=this.options).onSettled)==null?void 0:j.call(E,T,null,e,this.state.context)),it(this,ri,$a).call(this,{type:"success",data:T}),T}catch(T){try{throw await((A=(S=W(this,mr).config).onError)==null?void 0:A.call(S,T,e,this.state.context,this)),await((P=(M=this.options).onError)==null?void 0:P.call(M,T,e,this.state.context)),await((D=(L=W(this,mr).config).onSettled)==null?void 0:D.call(L,void 0,T,this.state.variables,this.state.context,this)),await((R=(B=this.options).onSettled)==null?void 0:R.call(B,void 0,T,e,this.state.context)),T}finally{it(this,ri,$a).call(this,{type:"error",error:T})}}finally{W(this,mr).runNext(this)}}},ni=new WeakMap,mr=new WeakMap,rl=new WeakMap,ri=new WeakSet,$a=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Sn.batch(()=>{W(this,ni).forEach(r=>{r.onMutationUpdate(e)}),W(this,mr).notify({mutation:this,type:"updated",action:e})})},bb);function wS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Sd,Eb,I5=(Eb=class extends au{constructor(e={}){super();Ye(this,qr);Ye(this,Sd);this.config=e,je(this,qr,new Map),je(this,Sd,Date.now())}build(e,t,r){const s=new k5({mutationCache:this,mutationId:++sf(this,Sd)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){const t=mf(e),r=W(this,qr).get(t)??[];r.push(e),W(this,qr).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=mf(e);if(W(this,qr).has(t)){const s=(r=W(this,qr).get(t))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?W(this,qr).delete(t):W(this,qr).set(t,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=W(this,qr).get(mf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=W(this,qr).get(mf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...W(this,qr).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>w2(t,r))}findAll(e={}){return this.getAll().filter(t=>w2(e,t))}notify(e){Sn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Sn.batch(()=>Promise.all(e.map(t=>t.continue().catch(os))))}},qr=new WeakMap,Sd=new WeakMap,Eb);function mf(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function E2(n){return{onFetch:(e,t)=>{var g,y,x,_,E;const r=e.options,s=(x=(y=(g=e.fetchOptions)==null?void 0:g.meta)==null?void 0:y.fetchMore)==null?void 0:x.direction,i=((_=e.state.data)==null?void 0:_.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const p=async()=>{let j=!1;const S=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?j=!0:e.signal.addEventListener("abort",()=>{j=!0}),e.signal)})},A=pS(e.options,e.fetchOptions),M=async(P,L,D)=>{if(j)return Promise.reject();if(L==null&&P.pages.length)return Promise.resolve(P);const B={queryKey:e.queryKey,pageParam:L,direction:D?"backward":"forward",meta:e.options.meta};S(B);const R=await A(B),{maxPages:T}=e.options,k=D?_5:w5;return{pages:k(P.pages,R,T),pageParams:k(P.pageParams,L,T)}};if(s&&i.length){const P=s==="backward",L=P?R5:N2,D={pages:i,pageParams:o},B=L(r,D);u=await M(D,B,P)}else{const P=n??i.length;do{const L=h===0?o[0]??r.initialPageParam:N2(r,u);if(h>0&&L==null)break;u=await M(u,L),h++}while(h<P)}return u};e.options.persister?e.fetchFn=()=>{var j,S;return(S=(j=e.options).persister)==null?void 0:S.call(j,p,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function N2(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function R5(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var dn,Ga,Xa,Ic,Rc,Ja,Pc,Ac,Nb,P5=(Nb=class{constructor(n={}){Ye(this,dn);Ye(this,Ga);Ye(this,Xa);Ye(this,Ic);Ye(this,Rc);Ye(this,Ja);Ye(this,Pc);Ye(this,Ac);je(this,dn,n.queryCache||new j5),je(this,Ga,n.mutationCache||new I5),je(this,Xa,n.defaultOptions||{}),je(this,Ic,new Map),je(this,Rc,new Map),je(this,Ja,0)}mount(){sf(this,Ja)._++,W(this,Ja)===1&&(je(this,Pc,zv.subscribe(async n=>{n&&(await this.resumePausedMutations(),W(this,dn).onFocus())})),je(this,Ac,yp.subscribe(async n=>{n&&(await this.resumePausedMutations(),W(this,dn).onOnline())})))}unmount(){var n,e;sf(this,Ja)._--,W(this,Ja)===0&&((n=W(this,Pc))==null||n.call(this),je(this,Pc,void 0),(e=W(this,Ac))==null||e.call(this),je(this,Ac,void 0))}isFetching(n){return W(this,dn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return W(this,Ga).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=W(this,dn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=W(this,dn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(bc(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return W(this,dn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=W(this,dn).get(r.queryHash),i=s==null?void 0:s.state.data,o=v5(e,i);if(o!==void 0)return W(this,dn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Sn.batch(()=>W(this,dn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=W(this,dn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=W(this,dn);Sn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=W(this,dn),r={type:"active",...n};return Sn.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Sn.batch(()=>W(this,dn).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(os).catch(os)}invalidateQueries(n,e={}){return Sn.batch(()=>{if(W(this,dn).findAll(n).forEach(r=>{r.invalidate()}),(n==null?void 0:n.refetchType)==="none")return Promise.resolve();const t={...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"};return this.refetchQueries(t,e)})}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Sn.batch(()=>W(this,dn).findAll(n).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(os)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(os)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=W(this,dn).build(this,e);return t.isStaleByTime(bc(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(os).catch(os)}fetchInfiniteQuery(n){return n.behavior=E2(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(os).catch(os)}ensureInfiniteQueryData(n){return n.behavior=E2(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return yp.isOnline()?W(this,Ga).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,dn)}getMutationCache(){return W(this,Ga)}getDefaultOptions(){return W(this,Xa)}setDefaultOptions(n){je(this,Xa,n)}setQueryDefaults(n,e){W(this,Ic).set(yl(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...W(this,Ic).values()],t={};return e.forEach(r=>{wd(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){W(this,Rc).set(yl(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...W(this,Rc).values()];let t={};return e.forEach(r=>{wd(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...W(this,Xa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Uv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$v&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...W(this,Xa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){W(this,dn).clear(),W(this,Ga).clear()}},dn=new WeakMap,Ga=new WeakMap,Xa=new WeakMap,Ic=new WeakMap,Rc=new WeakMap,Ja=new WeakMap,Pc=new WeakMap,Ac=new WeakMap,Nb),Ar,gt,Td,gr,sl,Dc,Za,si,Cd,Mc,Oc,il,al,eo,Lc,Mt,ed,ly,cy,uy,dy,hy,fy,py,_S,Sb,A5=(Sb=class extends au{constructor(e,t){super();Ye(this,Mt);Ye(this,Ar);Ye(this,gt);Ye(this,Td);Ye(this,gr);Ye(this,sl);Ye(this,Dc);Ye(this,Za);Ye(this,si);Ye(this,Cd);Ye(this,Mc);Ye(this,Oc);Ye(this,il);Ye(this,al);Ye(this,eo);Ye(this,Lc,new Set);this.options=t,je(this,Ar,e),je(this,si,null),je(this,Za,oy()),this.options.experimental_prefetchInRender||W(this,Za).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,gt).addObserver(this),S2(W(this,gt),this.options)?it(this,Mt,ed).call(this):this.updateResult(),it(this,Mt,dy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return my(W(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return my(W(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,Mt,hy).call(this),it(this,Mt,fy).call(this),W(this,gt).removeObserver(this)}setOptions(e,t){const r=this.options,s=W(this,gt);if(this.options=W(this,Ar).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ps(this.options.enabled,W(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,Mt,py).call(this),W(this,gt).setOptions(this.options),r._defaulted&&!gp(this.options,r)&&W(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,gt),observer:this});const i=this.hasListeners();i&&T2(W(this,gt),s,this.options,r)&&it(this,Mt,ed).call(this),this.updateResult(t),i&&(W(this,gt)!==s||Ps(this.options.enabled,W(this,gt))!==Ps(r.enabled,W(this,gt))||bc(this.options.staleTime,W(this,gt))!==bc(r.staleTime,W(this,gt)))&&it(this,Mt,ly).call(this);const o=it(this,Mt,cy).call(this);i&&(W(this,gt)!==s||Ps(this.options.enabled,W(this,gt))!==Ps(r.enabled,W(this,gt))||o!==W(this,eo))&&it(this,Mt,uy).call(this,o)}getOptimisticResult(e){const t=W(this,Ar).getQueryCache().build(W(this,Ar),e),r=this.createResult(t,e);return M5(this,r)&&(je(this,gr,r),je(this,Dc,this.options),je(this,sl,W(this,gt).state)),r}getCurrentResult(){return W(this,gr)}trackResult(e,t){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t==null||t(s),e[s])})}),r}trackProp(e){W(this,Lc).add(e)}getCurrentQuery(){return W(this,gt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=W(this,Ar).defaultQueryOptions(e),r=W(this,Ar).getQueryCache().build(W(this,Ar),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return it(this,Mt,ed).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,gr)))}createResult(e,t){var T;const r=W(this,gt),s=this.options,i=W(this,gr),o=W(this,sl),u=W(this,Dc),p=e!==r?e.state:W(this,Td),{state:g}=e;let y={...g},x=!1,_;if(t._optimisticResults){const k=this.hasListeners(),F=!k&&S2(e,t),$=k&&T2(e,r,t,s);(F||$)&&(y={...y,...xS(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:E,errorUpdatedAt:j,status:S}=y;if(t.select&&y.data!==void 0)if(i&&y.data===(o==null?void 0:o.data)&&t.select===W(this,Cd))_=W(this,Mc);else try{je(this,Cd,t.select),_=t.select(y.data),_=ay(i==null?void 0:i.data,_,t),je(this,Mc,_),je(this,si,null)}catch(k){je(this,si,k)}else _=y.data;if(t.placeholderData!==void 0&&_===void 0&&S==="pending"){let k;if(i!=null&&i.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))k=i.data;else if(k=typeof t.placeholderData=="function"?t.placeholderData((T=W(this,Oc))==null?void 0:T.state.data,W(this,Oc)):t.placeholderData,t.select&&k!==void 0)try{k=t.select(k),je(this,si,null)}catch(F){je(this,si,F)}k!==void 0&&(S="success",_=ay(i==null?void 0:i.data,k,t),x=!0)}W(this,si)&&(E=W(this,si),_=W(this,Mc),j=Date.now(),S="error");const A=y.fetchStatus==="fetching",M=S==="pending",P=S==="error",L=M&&A,D=_!==void 0,R={status:S,fetchStatus:y.fetchStatus,isPending:M,isSuccess:S==="success",isError:P,isInitialLoading:L,isLoading:L,data:_,dataUpdatedAt:y.dataUpdatedAt,error:E,errorUpdatedAt:j,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:A,isRefetching:A&&!M,isLoadingError:P&&!D,isPaused:y.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:P&&D,isStale:Bv(e,t),refetch:this.refetch,promise:W(this,Za)};if(this.options.experimental_prefetchInRender){const k=U=>{R.status==="error"?U.reject(R.error):R.data!==void 0&&U.resolve(R.data)},F=()=>{const U=je(this,Za,R.promise=oy());k(U)},$=W(this,Za);switch($.status){case"pending":e.queryHash===r.queryHash&&k($);break;case"fulfilled":(R.status==="error"||R.data!==$.value)&&F();break;case"rejected":(R.status!=="error"||R.error!==$.reason)&&F();break}}return R}updateResult(e){const t=W(this,gr),r=this.createResult(W(this,gt),this.options);if(je(this,sl,W(this,gt).state),je(this,Dc,this.options),W(this,sl).data!==void 0&&je(this,Oc,W(this,gt)),gp(r,t))return;je(this,gr,r);const s={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!W(this,Lc).size)return!0;const h=new Set(u??W(this,Lc));return this.options.throwOnError&&h.add("error"),Object.keys(W(this,gr)).some(p=>{const g=p;return W(this,gr)[g]!==t[g]&&h.has(g)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),it(this,Mt,_S).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,Mt,dy).call(this)}},Ar=new WeakMap,gt=new WeakMap,Td=new WeakMap,gr=new WeakMap,sl=new WeakMap,Dc=new WeakMap,Za=new WeakMap,si=new WeakMap,Cd=new WeakMap,Mc=new WeakMap,Oc=new WeakMap,il=new WeakMap,al=new WeakMap,eo=new WeakMap,Lc=new WeakMap,Mt=new WeakSet,ed=function(e){it(this,Mt,py).call(this);let t=W(this,gt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(os)),t},ly=function(){it(this,Mt,hy).call(this);const e=bc(this.options.staleTime,W(this,gt));if(gl||W(this,gr).isStale||!sy(e))return;const r=hS(W(this,gr).dataUpdatedAt,e)+1;je(this,il,setTimeout(()=>{W(this,gr).isStale||this.updateResult()},r))},cy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,gt)):this.options.refetchInterval)??!1},uy=function(e){it(this,Mt,fy).call(this),je(this,eo,e),!(gl||Ps(this.options.enabled,W(this,gt))===!1||!sy(W(this,eo))||W(this,eo)===0)&&je(this,al,setInterval(()=>{(this.options.refetchIntervalInBackground||zv.isFocused())&&it(this,Mt,ed).call(this)},W(this,eo)))},dy=function(){it(this,Mt,ly).call(this),it(this,Mt,uy).call(this,it(this,Mt,cy).call(this))},hy=function(){W(this,il)&&(clearTimeout(W(this,il)),je(this,il,void 0))},fy=function(){W(this,al)&&(clearInterval(W(this,al)),je(this,al,void 0))},py=function(){const e=W(this,Ar).getQueryCache().build(W(this,Ar),this.options);if(e===W(this,gt))return;const t=W(this,gt);je(this,gt,e),je(this,Td,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},_S=function(e){Sn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(W(this,gr))}),W(this,Ar).getQueryCache().notify({query:W(this,gt),type:"observerResultsUpdated"})})},Sb);function D5(n,e){return Ps(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function S2(n,e){return D5(n,e)||n.state.data!==void 0&&my(n,e,e.refetchOnMount)}function my(n,e,t){if(Ps(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Bv(n,e)}return!1}function T2(n,e,t,r){return(n!==e||Ps(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Bv(n,t)}function Bv(n,e){return Ps(e.enabled,n)!==!1&&n.isStaleByTime(bc(e.staleTime,n))}function M5(n,e){return!gp(n.getCurrentResult(),e)}var to,no,Dr,Hi,Zi,Of,gy,Tb,O5=(Tb=class extends au{constructor(t,r){super();Ye(this,Zi);Ye(this,to);Ye(this,no);Ye(this,Dr);Ye(this,Hi);je(this,to,t),this.setOptions(r),this.bindMethods(),it(this,Zi,Of).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const r=this.options;this.options=W(this,to).defaultMutationOptions(t),gp(this.options,r)||W(this,to).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,Dr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&yl(r.mutationKey)!==yl(this.options.mutationKey)?this.reset():((s=W(this,Dr))==null?void 0:s.state.status)==="pending"&&W(this,Dr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=W(this,Dr))==null||t.removeObserver(this)}onMutationUpdate(t){it(this,Zi,Of).call(this),it(this,Zi,gy).call(this,t)}getCurrentResult(){return W(this,no)}reset(){var t;(t=W(this,Dr))==null||t.removeObserver(this),je(this,Dr,void 0),it(this,Zi,Of).call(this),it(this,Zi,gy).call(this)}mutate(t,r){var s;return je(this,Hi,r),(s=W(this,Dr))==null||s.removeObserver(this),je(this,Dr,W(this,to).getMutationCache().build(W(this,to),this.options)),W(this,Dr).addObserver(this),W(this,Dr).execute(t)}},to=new WeakMap,no=new WeakMap,Dr=new WeakMap,Hi=new WeakMap,Zi=new WeakSet,Of=function(){var r;const t=((r=W(this,Dr))==null?void 0:r.state)??wS();je(this,no,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},gy=function(t){Sn.batch(()=>{var r,s,i,o,u,h,p,g;if(W(this,Hi)&&this.hasListeners()){const y=W(this,no).variables,x=W(this,no).context;(t==null?void 0:t.type)==="success"?((s=(r=W(this,Hi)).onSuccess)==null||s.call(r,t.data,y,x),(o=(i=W(this,Hi)).onSettled)==null||o.call(i,t.data,null,y,x)):(t==null?void 0:t.type)==="error"&&((h=(u=W(this,Hi)).onError)==null||h.call(u,t.error,y,x),(g=(p=W(this,Hi)).onSettled)==null||g.call(p,void 0,t.error,y,x))}this.listeners.forEach(y=>{y(W(this,no))})})},Tb),bS=C.createContext(void 0),qv=n=>{const e=C.useContext(bS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},L5=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),c.jsx(bS.Provider,{value:n,children:e})),ES=C.createContext(!1),F5=()=>C.useContext(ES);ES.Provider;function V5(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var U5=C.createContext(V5()),$5=()=>C.useContext(U5);function NS(n,e){return typeof n=="function"?n(...e):!!n}function yy(){}var z5=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},B5=n=>{C.useEffect(()=>{n.clearReset()},[n])},q5=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&NS(t,[n.error,r]),H5=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},W5=(n,e)=>n.isLoading&&n.isFetching&&!e,Y5=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,C2=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function K5(n,e,t){var g,y,x,_,E;const r=qv(),s=F5(),i=$5(),o=r.defaultQueryOptions(n);(y=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||y.call(g,o),o._optimisticResults=s?"isRestoring":"optimistic",H5(o),z5(o,i),B5(i);const u=!r.getQueryCache().get(o.queryHash),[h]=C.useState(()=>new e(r,o)),p=h.getOptimisticResult(o);if(C.useSyncExternalStore(C.useCallback(j=>{const S=s?yy:h.subscribe(Sn.batchCalls(j));return h.updateResult(),S},[h,s]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),C.useEffect(()=>{h.setOptions(o,{listeners:!1})},[o,h]),Y5(o,p))throw C2(o,h,i);if(q5({result:p,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw p.error;if((_=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||_.call(x,o,p),o.experimental_prefetchInRender&&!gl&&W5(p,s)){const j=u?C2(o,h,i):(E=r.getQueryCache().get(o.queryHash))==null?void 0:E.promise;j==null||j.catch(yy).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?p:h.trackResult(p)}function Dt(n,e){return K5(n,A5)}function qt(n,e){const t=qv(),[r]=C.useState(()=>new O5(t,n));C.useEffect(()=>{r.setOptions(n)},[r,n]);const s=C.useSyncExternalStore(C.useCallback(o=>r.subscribe(Sn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=C.useCallback((o,u)=>{r.mutate(o,u).catch(yy)},[r]);if(s.error&&NS(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const SS=C.createContext(),st=()=>C.useContext(SS),Q5=({children:n})=>{const[e,t]=C.useState(null),[r,s]=C.useState(!0),i=ev(),o=qv();C.useEffect(()=>WR(i,async _=>{if(_)try{const E=Ht(rt(fe,"users"),qe("uid","==",_.uid)),j=await Wt(E);if(j.empty)console.error("No document found for UID:",_.uid);else{const S=j.docs[0];t({...S.data(),uid:_.uid,id:S.id})}}catch(E){console.error("Error fetching user data: ",E)}else t(null);s(!1)}),[i]);const u=async(x,_)=>{console.log(x,_),s(!0);try{const j=(await $R(i,x,_)).user,S=Ht(rt(fe,"users"),qe("uid","==",j.uid)),A=await Wt(S);if(A.empty)throw console.error("No user document found for uid:",j.uid),new Error("User data not found in Firestore.");{const M=A.docs[0];return{...M.data(),id:M.id}}}catch(E){throw console.error("Error in login function:",E.message),E}finally{s(!1)}},h=async()=>{s(!0);try{await YR(i),t(null),o.clear()}catch(x){console.error("Error during logout:",x)}finally{s(!1)}},p=async x=>{try{const _=Ht(rt(fe,"users"),qe("uid","==",x)),E=await Wt(_);if(E.empty)console.error("No document found for UID:",x);else{const j=E.docs[0];return{...j.data(),id:j.id}}}catch(_){console.error("Error fetching user data: ",_)}},y={userData:e,setUserData:t,loading:r,login:u,logout:h,refetch:async()=>{if(i.currentUser){console.log(i.currentUser.uid);const x=await p(i.currentUser.uid);t(x)}}};return c.jsx(SS.Provider,{value:y,children:n})};var TS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j2=re.createContext&&re.createContext(TS),G5=["attr","size","title"];function X5(n,e){if(n==null)return{};var t=J5(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function J5(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function vp(){return vp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vp.apply(this,arguments)}function k2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function xp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(t),!0).forEach(function(r){Z5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Z5(n,e,t){return e=eM(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eM(n){var e=tM(n,"string");return typeof e=="symbol"?e:e+""}function tM(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CS(n){return n&&n.map((e,t)=>re.createElement(e.tag,xp({key:t},e.attr),CS(e.child)))}function tt(n){return e=>re.createElement(nM,vp({attr:xp({},n.attr)},e),CS(n.child))}function nM(n){var e=t=>{var{attr:r,size:s,title:i}=n,o=X5(n,G5),u=s||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),re.createElement("svg",vp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:h,style:xp(xp({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&re.createElement("title",null,i),n.children)};return j2!==void 0?re.createElement(j2.Consumer,null,t=>e(t)):e(TS)}function rM(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"},child:[]}]})(n)}function sM(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(n)}function jS(n){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"},child:[]}]})(n)}function iM(n){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(n)}function o0(n){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"},child:[]}]})(n)}function Lf(n){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"},child:[]}]})(n)}function aM(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"},child:[]}]})(n)}function oM(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(n)}function lM(n){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 96l0 224c0 35.3 28.7 64 64 64l416 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L160 32c-35.3 0-64 28.7-64 64zm64 160c35.3 0 64 28.7 64 64l-64 0 0-64zM224 96c0 35.3-28.7 64-64 64l0-64 64 0zM576 256l0 64-64 0c0-35.3 28.7-64 64-64zM512 96l64 0 0 64c-35.3 0-64-28.7-64-64zM288 208a80 80 0 1 1 160 0 80 80 0 1 1 -160 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120L0 360c0 66.3 53.7 120 120 120l400 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-400 0c-39.8 0-72-32.2-72-72l0-240z"},child:[]}]})(n)}function cM(n){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M272.2 64.6l-51.1 51.1c-15.3 4.2-29.5 11.9-41.5 22.5L153 161.9C142.8 171 129.5 176 115.8 176L96 176l0 128c20.4 .6 39.8 8.9 54.3 23.4l35.6 35.6 7 7c0 0 0 0 0 0L219.9 397c6.2 6.2 16.4 6.2 22.6 0c1.7-1.7 3-3.7 3.7-5.8c2.8-7.7 9.3-13.5 17.3-15.3s16.4 .6 22.2 6.5L296.5 393c11.6 11.6 30.4 11.6 41.9 0c5.4-5.4 8.3-12.3 8.6-19.4c.4-8.8 5.6-16.6 13.6-20.4s17.3-3 24.4 2.1c9.4 6.7 22.5 5.8 30.9-2.6c9.4-9.4 9.4-24.6 0-33.9L340.1 243l-35.8 33c-27.3 25.2-69.2 25.6-97 .9c-31.7-28.2-32.4-77.4-1.6-106.5l70.1-66.2C303.2 78.4 339.4 64 377.1 64c36.1 0 71 13.3 97.9 37.2L505.1 128l38.9 0 40 0 40 0c8.8 0 16 7.2 16 16l0 208c0 17.7-14.3 32-32 32l-32 0c-11.8 0-22.2-6.4-27.7-16l-84.9 0c-3.4 6.7-7.9 13.1-13.5 18.7c-17.1 17.1-40.8 23.8-63 20.1c-3.6 7.3-8.5 14.1-14.6 20.2c-27.3 27.3-70 30-100.4 8.1c-25.1 20.8-62.5 19.5-86-4.1L159 404l-7-7-35.6-35.6c-5.5-5.5-12.7-8.7-20.4-9.3C96 369.7 81.6 384 64 384l-32 0c-17.7 0-32-14.3-32-32L0 144c0-8.8 7.2-16 16-16l40 0 40 0 19.8 0c2 0 3.9-.7 5.3-2l26.5-23.6C175.5 77.7 211.4 64 248.7 64L259 64c4.4 0 8.9 .2 13.2 .6zM544 320l0-144-48 0c-5.9 0-11.6-2.2-15.9-6.1l-36.9-32.8c-18.2-16.2-41.7-25.1-66.1-25.1c-25.4 0-49.8 9.7-68.3 27.1l-70.1 66.2c-10.3 9.8-10.1 26.3 .5 35.7c9.3 8.3 23.4 8.1 32.5-.3l71.9-66.4c9.7-9 24.9-8.4 33.9 1.4s8.4 24.9-1.4 33.9l-.8 .8 74.4 74.4c10 10 16.5 22.3 19.4 35.1l74.8 0zM64 336a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm528 16a16 16 0 1 0 0-32 16 16 0 1 0 0 32z"},child:[]}]})(n)}function uM(n){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Hv(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function pc(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function dM(n){return tt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function vy(n){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function yo(n){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function kS(n){return tt({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"},child:[]}]})(n)}function Wv(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(n)}function IS(n){return tt({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"},child:[]}]})(n)}function RS(n){return tt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(n)}function Yv(n){return tt({tag:"svg",attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(n)}function Kv(n){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function hM(n){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Fs(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"},child:[]}]})(n)}function Qv(n){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}function Gv(n){return tt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"},child:[]},{tag:"path",attr:{d:"M92,140a12,12,0,1,1,12-12A12,12,0,0,1,92,140Zm72-24a12,12,0,1,0,12,12A12,12,0,0,0,164,116Zm-12.27,45.23a45,45,0,0,1-47.46,0,8,8,0,0,0-8.54,13.54,61,61,0,0,0,64.54,0,8,8,0,0,0-8.54-13.54ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88.11,88.11,0,0,0-84.09-87.91C120.32,56.38,120,71.88,120,72a8,8,0,0,0,16,0,8,8,0,0,1,16,0,24,24,0,0,1-48,0c0-.73.13-14.3,8.46-30.63A88,88,0,1,0,216,128Z"},child:[]}]})(n)}function on(){return c.jsxs("div",{className:"w-full h-16 flex justify-between  border-t-2 border-black bg-white",children:[c.jsxs("div",{className:"w-1/3 h-full flex gap-10 pl-10 items-center  ",children:[c.jsx("a",{href:"https://facebook.com",children:c.jsx("div",{className:"w-10 h-10 rounded-lg bg-white flex justify-center items-center",children:c.jsx(rM,{className:"h-7 w-7",to:"www.facebook.gr"})})}),c.jsx("a",{href:"https://instagram.com",children:c.jsx("div",{className:"w-10 h-10 rounded-lg bg-white flex justify-center items-center",children:c.jsx(uM,{className:"h-7 w-7"})})}),c.jsx("a",{href:"https://X.com",children:c.jsx("div",{className:"w-10 h-10 rounded-lg bg-white flex justify-center items-center",children:c.jsx(sM,{className:"h-7 w-7"})})})]}),c.jsx("div",{className:"w-1/3 h-full flex justify-center items-center ",children:c.jsx(Gv,{className:"w-1/6  h-full text-pallete-800"})}),c.jsx("div",{className:"w-1/3 h-full flex justify-end pr-10 ",children:c.jsxs("div",{className:"flex flex-col justify-center  px-2 ",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"support:"})," nanika@gmail.com"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Nanika©"}),", 2024-2025"]})]})})]})}function PS(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M11.937 12.136v-.864c0-.864 0-1.296.797-1.728.798-.432 1.595-.864 1.595-2.16 0-.865-.797-2.16-2.392-2.16-1.594 0-2.391 1.092-2.391 2.592",strokeWidth:"2"},child:[]},{tag:"path",attr:{d:"M11.938 13v1.728",strokeWidth:"2"},child:[]},{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M5.5 18a2.5 2.5 0 1 0 0 5H22M3 20.5v-17A2.5 2.5 0 0 1 5.5 1H21v17.007H5.492M20.5 18a2.5 2.5 0 1 0 0 5"},child:[]}]})(n)}function AS(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.05175,18.85575 C8.025,18.85575 6.22425,16.8765 6.22425,15.393 C6.22425,14.63175 6.786,14.0985 7.56,14.0985 C9.2835,14.0985 8.83725,16.57275 12.05175,16.57275 C13.69725,16.57275 14.60625,15.67875 14.60625,14.7645 C14.60625,14.21475 14.33475,13.605 13.251,13.338 L9.66975,12.444 C6.786,11.721 6.2625,10.16175 6.2625,8.69625 C6.2625,5.65275 9.1275,4.5105 11.8185,4.5105 C14.2965,4.5105 17.2185,5.88 17.2185,7.7055 C17.2185,8.48775 16.54125,8.943 15.76725,8.943 C14.2965,8.943 14.56725,6.9075 11.6055,6.9075 C10.1355,6.9075 9.32175,7.5735 9.32175,8.526 C9.32175,9.47625 10.48275,9.78 11.49,10.0095 L14.14125,10.59825 C17.0445,11.24475 17.78025,12.93975 17.78025,14.5365 C17.78025,17.00925 15.88275,18.85575 12.05175,18.85575 M23.15025,13.9695 C23.14275,14.0115 23.1375,14.05425 23.12925,14.09625 L23.08875,13.85475 C23.1105,13.89225 23.12925,13.93125 23.15025,13.9695 C23.274,13.29525 23.33925,12.60525 23.33925,11.91525 C23.33925,10.38525 23.03925,8.901 22.44825,7.50375 C21.87675,6.1545 21.06075,4.9425 20.019,3.9015 C18.97875,2.8605 17.766,2.04375 16.41675,1.473 C15.02025,0.882 13.536,0.58275 12.00675,0.58275 C11.28525,0.58275 10.563,0.65025 9.86025,0.78525 C9.85875,0.78525 9.85725,0.78525 9.855,0.786 C9.89475,0.807 9.9345,0.82575 9.9735,0.8475 L9.735,0.81 C9.77475,0.8025 9.81525,0.79425 9.855,0.786 C8.8905,0.27375 7.80675,0 6.70875,0 C4.917,0 3.23175,0.6975 1.965,1.965 C0.69825,3.23175 0,4.917 0,6.7095 C0,7.8495 0.29325,8.97075 0.84375,9.96225 C0.8505,9.921 0.85575,9.879 0.864,9.8385 L0.90525,10.07625 C0.8835,10.03875 0.86475,9.99975 0.84375,9.96225 C0.732,10.6035 0.67275,11.25975 0.67275,11.91525 C0.67275,13.44525 0.97275,14.9295 1.5645,16.32675 C2.1345,17.67675 2.952,18.888 3.99225,19.929 C5.03325,20.96925 6.2445,21.7875 7.59525,22.35675 C8.99175,22.94925 10.47675,23.2485 12.00675,23.2485 C12.672,23.2485 13.3395,23.18775 13.99125,23.07225 C13.953,23.05125 13.914,23.03175 13.87575,23.00925 L14.118,23.052 C14.076,23.0595 14.034,23.06475 13.99125,23.07225 C14.99475,23.64075 16.131,23.94225 17.29125,23.94225 C19.08375,23.94225 20.7675,23.2455 22.035,21.97725 C23.3025,20.71125 24,19.026 24,17.2335 C24,16.089 23.70525,14.964 23.15025,13.9695"},child:[]}]})(n)}function sm(){const n=cr();return C.useEffect(()=>{console.log("Header sees im int page:"+n.pathname)},[n]),c.jsxs("div",{className:"h-16 w-full flex justify-between border-b-2 border-black bg-white",children:[c.jsxs("div",{className:"flex ",children:[c.jsxs(Le,{to:"/",className:"flex pr-5  items-center text-pallete-800 h-full hover:text-pallete-600",children:[c.jsx(Gv,{className:" ml-5 text-6xl "}),c.jsx("p",{className:"text-4xl ml-3 font-bold ",children:"Nanika"}),c.jsx("div",{})]}),c.jsxs("div",{className:" flex items-center text-2xl font-medium ml-16  gap-2 justify-center",children:[c.jsx(Le,{className:"hover:text-pallete-600",to:"/login",children:"Βρείτε Εργασία"}),c.jsx("div",{className:"h-4/6 border-2  border-black "}),c.jsx(Le,{className:"hover:text-pallete-600",to:"/",children:"Βρείτε Επαγγελματία"})]}),c.jsxs(Le,{to:"/about",className:"flex h-full text-pallete-800 hover:text-pallete-600 ml-12 gap-1 font-semibold items-center px-2 text-3xl",children:[c.jsx(PS,{className:"font-bold"}),c.jsx("span",{className:"",children:"Βοήθεια"})]})]}),c.jsxs("div",{className:"h-full w-80  flex justify-center gap-3 mr-3 ",children:[c.jsx(Le,{to:"/signup",className:"h-full flex items-center hover:text-pallete-600",children:c.jsx("span",{className:"text-3xl",children:"Εγγραφή"})}),c.jsx("div",{className:"h-5/6 my-auto border-2 border-black"}),c.jsx(Le,{to:"/login",state:n.pathname,className:"flex items-center",children:c.jsx("div",{className:"bg-pallete-800 hover:bg-pallete-700 rounded-md px-3 py-1 flex items-center",children:c.jsx("span",{className:"text-3xl text-white",children:"Σύνδεση"})})})]})]})}const Xv=["Αθήνα","Θεσσαλονίκη","Πάτρα","Λάρισα"],wp=[{city:"Αθήνα",areas:["Γαλάτσι","Ηλιούπολη"]},{city:"Θεσσαλονίκη",areas:["Τούμπα","Καλαμαριά"]},{city:"Πάτρα",areas:["Ρίο","Αγυιά"]},{city:"Λάρισα",areas:["Νεάπολη","Φιλιππούπολη"]}],Ds=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","00:00","01:00","02:00","03:00","04:00","05:00","06:00"],Qn=["ΔΕΥ","ΤΡΙ","ΤΕΤ","ΠΕΜ","ΠΑΡ","ΣΑΒ","ΚΥΡ"],fM=["Πτυχίο Προσχολικής Αγωγής και Εκπαίδευσης","Πτυχίο Βρεφονηπιοκομίας","Πτυχίο στις Επιστήμες της Αγωγής (με κατεύθυνση Προσχολικής Εκπαίδευσης)","Πτυχίο Κοινωνικής Εργασίας","Βοηθός Βρεφονηπιοκόμου","Προσχολική Αγωγή Δραστηριοτήτων Δημιουργίας και Έκφρασης","Προσχολική Αγωγή Ημερήσιας Φροντίδας Παιδιών με Ειδικές Ανάγκες"],pM=["Πιστοποίηση Πρώτων Βοηθειών (First Aid Certification)","Πιστοποίηση Καρδιοαναπνευστικής Αναζωογόνησης (ΚΑΡΠΑ) (Cardiopulmonary Resuscitation - CPR Certification)","Πιστοποίηση Αντιμετώπισης Παιδικών Ατυχημάτων (Child Injury Prevention Certification)","Πιστοποίηση Σχολής Βρεφοκόμων (Infant Care Training Certification)","Πιστοποίηση Διατροφής και Υγείας για Παιδιά (Nutrition and Health for Children Certification)","Πιστοποίηση Συμπεριφορικής Διαχείρισης Παιδιών (Child Behavior Management Certification)","Πιστοποίηση Αναπτυξιακής Ψυχολογίας για Παιδιά (Child Development Psychology Certification)","Πιστοποίηση για Διδασκαλία Αγγλικών σε Παιδιά (English Language Teaching for Children Certification)","Πιστοποίηση Υγιεινής και Ασφάλειας Στην Φροντίδα Παιδιών (Childcare Hygiene and Safety Certification)","Πιστοποίηση Προσχολικής Αγωγής (Preschool Education Certification)"],l0=["Γεώργιος","Δημήτριος","Κωνσταντίνος","Νικόλαος","Αλέξανδρος","Ιωάννης","Παναγιώτης","Χρήστος","Αθανάσιος","Ευάγγελος","Σπυρίδων","Ανδρέας","Μιχαήλ","Εμμανουήλ","Στυλιανός","Αριστείδης","Θεόδωρος","Περικλής","Λουκάς","Σωτήριος"],c0=["Παπαδόπουλος","Νικολάου","Γεωργίου","Δημητρίου","Κωνσταντίνου","Αθανασίου","Χριστοδούλου","Αλεξίου","Ιωάννου","Παπανικολάου","Παναγιωτόπουλος","Χρηστίδης","Σπυρόπουλος","Ανδρέου","Μιχαηλίδης","Εμμανουήλ","Στυλιανού","Αριστείδου","Θεοδώρου","Περικλέους"],u0=["Μαρία","Ελένη","Αικατερίνη","Σοφία","Αναστασία","Βασιλική","Γεωργία","Δήμητρα","Αγγελική","Αλεξάνδρα","Ιωάννα","Παρασκευή","Χριστίνα","Παναγιώτα","Αθανασία","Ευαγγελία","Στυλιανή","Ανδρονίκη","Θεοδώρα","Περσεφόνη"],d0=["Παπαδοπούλου","Νικολάου","Γεωργίου","Δημητρίου","Κωνσταντίνου","Αθανασίου","Χριστοδούλου","Αλεξίου","Ιωάννου","Παπανικολάου","Παναγιωτοπούλου","Χρηστίδου","Σπυροπούλου","Ανδρέου","Μιχαηλίδου","Εμμανουήλ","Στυλιανού","Αριστείδου","Θεοδώρου","Περικλέους"];var h0={exports:{}},f0,I2;function mM(){if(I2)return f0;I2=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return f0=n,f0}var p0,R2;function gM(){if(R2)return p0;R2=1;var n=mM();function e(){}function t(){}return t.resetWarningCache=e,p0=function(){function r(o,u,h,p,g,y){if(y!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},p0}var P2;function yM(){return P2||(P2=1,h0.exports=gM()()),h0.exports}var vM=yM();const ie=ky(vM);async function xM(n,e){const t=dS.currentUser;if(!t){console.error("No user is signed in.");return}const r=Eo.credential(t.email,n);try{await jE(t,r),await zR(t,e),console.log("Email updated successfully to:",e)}catch(s){console.error("Error updating email:",s.message)}}async function wM(n,e){const t=dS.currentUser;if(!t){console.error("No user is signed in.");return}const r=Eo.credential(t.email,n);try{await jE(t,r),await BR(t,e),console.log("Password updated successfully!")}catch(s){console.error("Error updating password:",s.message)}}async function DS(n){const e=[];console.log(n);try{const t=Ue(fe,"users",n),r=await ot(t);if(r.exists())return{id:r.id,...r.data()};console.error("No document found for userId:",n)}catch(t){console.error("Error fetching user data: ",t)}return console.log(e),e}async function _M(n,e){console.log(n,e);try{const t=Ue(fe,"users",n);await At(t,{bio:e}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function bM(n,e){console.log(n,e);try{const t=Ue(fe,"users",n);await At(t,{img:e}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function EM(n,e){console.log(n,e);try{const t=Ue(fe,"users",n);await At(t,{age:Number(e)}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function NM(n,e){console.log(n,e);try{const t=Ue(fe,"users",n);await At(t,{experience:Number(e)}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function SM(n,e){try{const t=Ue(fe,"users",n);await At(t,{availabilityMatrix:e}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function TM(n,e){try{const t=Ue(fe,"users",n);await At(t,{skills:e}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function CM(n,e){try{const t=Ue(fe,"users",n);await At(t,{number:e}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function jM(n,e){try{const t=Ue(fe,"users",n);await At(t,{skype:e}),console.log(`Document with ID ${n} updated successfully.`)}catch(t){console.error("Error updating document:",t)}}async function kM(n){const e=ev();try{const r=(await UR(e,n.email,n.password)).user,s=Ue(fe,"metadata","globalCounter"),i=rt(fe,"users"),o=await f5(fe,async u=>{const h=await u.get(s);if(!h.exists())throw new Error("Global counter document does not exist.");const p=h.data().value,g=p+1;u.update(s,{value:g});const y={uid:r.uid,email:n.email,AMKA:p.toString(),...n},x=Ue(i);return u.set(x,y),y});return console.log("User registered and added to Firestore with counter:",o),o}catch(t){throw console.error("Error registering user:",t.message),t}}async function IM(n){const e=[];try{const t=Ht(rt(fe,"applications"),qe("userId","==",n),qe("status","in",["Εγκρίθηκε","Εκκρεμεί"]),qe("type","==","final"),qe("archived","==",!1),i5("exactDate","desc")),r=await Wt(t);r.empty?console.error("No document found for userId:",n):r.forEach(s=>{e.push({id:s.id,...s.data()})})}catch(t){console.error("Error fetching user data: ",t)}return console.log(e),e}async function RM(n){const e=[];try{const t=Ht(rt(fe,"applications"),qe("userId","==",n),qe("type","==","draft")),r=await Wt(t);r.empty?console.error("No document found for userId:",n):r.forEach(s=>{e.push({id:s.id,...s.data()})})}catch(t){console.error("Error fetching user data: ",t)}finally{return console.log(e),e}}async function MS(n){console.log(n);try{const e=Ue(fe,"applications",n),t=await ot(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Application not found")}catch(e){throw console.error("Error fetching final application:",e),e}}async function OS(n){console.log(n);const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(t);const r=Ct.now();let s;try{const i=rt(fe,"applications"),o={nannyName:n.name,nannySurname:n.surname,startingDate:n.startingDate,months:n.months,address:n.address,schedule:n.schedule,status:"Εκκρεμεί",nannyAMKA:n.AMKA,userId:n.userId,finalizedAt:t,exactDate:r,type:"final",archived:!1};n.id?(s=Ue(fe,"applications",n.id),await At(s,o)):s=await Kn(i,o);const u=Ht(rt(fe,"users"),qe("AMKA","==",n.AMKA)),h=await Wt(u);let p="";h.empty||h.forEach(x=>{p=x.id});const g={senderId:n.userId,receiverId:p,type:"jobOffer",createdAt:t,applicationId:s.id,exactDate:r,read:!1,status:"pending"},y=rt(fe,"notifications");return await Kn(y,g),{success:!0,message:"Application created successfully"}}catch(i){return console.error("Error adding application:",i),{success:!1,message:"Error creating application"}}}async function LS(n){console.log(n);const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(t);const r=Ct.now();try{const s={nannyName:n.name||"",nannySurname:n.surname||"",startingDate:n.startingDate||"",months:n.months||"",address:n.address||"",schedule:n.schedule||[],status:"Εκκρεμεί",nannyAMKA:n.AMKA||"",userId:n.userId||"",finalizedAt:t,exactDate:r,archived:!1,type:"draft",correctAMKA:n.correctAMKA};if(n.id){const i=Ue(fe,"applications",n.id);return(await ot(i)).exists()?(await At(i,s),{success:!0,message:"Draft application updated successfully"}):{success:!1,message:`No draft application found with ID: ${n.id}`}}else{const i=rt(fe,"applications");return{success:!0,message:"New draft application created successfully",id:(await Kn(i,s)).id}}}catch(s){return console.error("Error adding application:",s),{success:!1,message:"Error creating application"}}}async function PM(n){const e=[];try{const t=Ht(rt(fe,"offers"),qe("userId","==",n),qe("type","==","final"),qe("archived","==",!1)),r=await Wt(t);r.empty?console.error("No document found for userId:",n):r.forEach(s=>{e.push({id:s.id,...s.data()})})}catch(t){console.error("Error fetching user data: ",t)}finally{return console.log(e),e}}async function AM(n){const e=[];try{const t=Ht(rt(fe,"offers"),qe("userId","==",n),qe("type","==","draft"),qe("archived","==",!1)),r=await Wt(t);r.empty?console.error("No document found for userId:",n):r.forEach(s=>{e.push({id:s.id,...s.data()})})}catch(t){console.error("Error fetching user data: ",t)}finally{return console.log(e),e}}async function DM(n){const e=[];try{const t=Ht(rt(fe,"offers"),qe("userId","==",n),qe("archived","==",!0),qe("type","==","final")),r=await Wt(t);r.empty?console.error("No document found for userId:",n):r.forEach(s=>{e.push({id:s.id,...s.data()})})}catch(t){console.error("Error fetching user data: ",t)}finally{return console.log(e),e}}async function MM(n){console.log(n);const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(t);const r=Ct.now(),s={town:n.town,rows:n.rows,startingDate:n.startingDate,months:n.months,userId:n.userId,finalizedAt:t,type:"final",archived:!1,childAge:n.childAge||"null",exactDate:r,timeType:n.timeType};try{if(n.id){const o=Ue(fe,"offers",n.id);await At(o,s)}const i=rt(fe,"offers");return await Kn(i,s),{success:!0,message:"Offer created successfully"}}catch(i){return console.error("Error adding application:",i),{success:!1,message:"Error creating Offer"}}}async function OM(n){console.log(n);try{const e=Ue(fe,"offers",n);return(await ot(e)).exists()?(await At(e,{archived:!0}),{success:!0,message:"Offer archived successfully"}):{success:!1,message:`No offer found with ID: ${n}`}}catch(e){return console.error("Error archiving offer:",e.message),{success:!1,message:"Error archiving offer"}}}async function LM(n){console.log(n);try{const e=Ue(fe,"offers",n),t=await ot(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("Application not found")}catch(e){throw console.error("Error fetching final application:",e),e}}async function FM(n){console.log(n);const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(t);const r=Ct.now(),s={town:n.town,rows:n.rows,startingDate:n.startingDate,months:n.months,userId:n.userId,finalizedAt:t,type:"draft",archived:!1,exactDate:r,timeType:n.timeType,childAge:n.childAge||"null"};try{if(n.id){const i=Ue(fe,"offers",n.id);return(await ot(i)).exists()?(await At(i,s),{success:!0,message:"Draft application updated successfully"}):{success:!1,message:`No draft application found with ID: ${n.id}`}}else{const i=rt(fe,"offers");return{success:!0,message:"New draft application created successfully",id:(await Kn(i,s)).id}}}catch(i){return console.error("Error adding application:",i),{success:!1,message:"Error creating application"}}}async function m0(n,e,t){try{const r=Ue(fe,"users",n);await At(r,{[e]:t}),console.log(`Document with ID ${n} updated successfully.`)}catch(r){console.error("Error updating document:",r)}}async function VM(n){try{const e=Ue(fe,"notifications",n),t=await ot(e);if(!t.exists())throw console.error(`Notification with id ${n} not found.`),new Error(`Notification with id ${n} not found.`);const r=t.data();if(!r.senderId||!r.applicationId)throw new Error("Missing senderId or applicationId in the notification data.");const s=r.senderId,i=Ue(fe,"users",r.senderId),o=await ot(i);let u="",h="",p="",g="";if(o.exists()){const M=o.data();u=M.name||"",h=M.surname||"",p=M.img||"",g=M.gender||""}else console.error(`User with id ${r.senderId} not found.`);const y=Ue(fe,"applications",r.applicationId),x=await ot(y);let _=[],E="",j="",S="",A="";if(x.exists()){const M=x.data();_=M.schedule||[],E=M.startingDate||"",j=M.months||"",S=M.address||"",A=M.finalizedAt||""}else console.error(`Application with id ${r.applicationId} not found.`);return{senderId:s,senderName:u,senderSurname:h,img:p,gender:g,finalizedAt:A,schedule:_,startingDate:E,months:j,address:S,status:r.status,applicationId:r.applicationId}}catch(e){throw console.error("Fetching failed:",e),e}}async function UM(n){try{const e=Ue(fe,"notifications",n);console.log("Fetching document from contactRequests with ID:",n);const t=await ot(e);if(!t.exists())throw console.error(`Document with id ${n} not found in contactRequests.`),new Error(`Document with id ${n} not found in contactRequests.`);const r=t.data();if(!r.senderId)throw console.error("Notification data is missing senderId or applicationId:",r),new Error("Missing senderId or applicationId in the notification data.");const s=r.senderId,i=Ue(fe,"users",s),o=await ot(i);let u="",h="",p="",g="";if(o.exists()){const y=o.data();u=y.name||"",h=y.surname||"",p=y.img||"",g=y.gender||""}else console.error(`User with id ${s} not found in users collection.`);return{senderId:s,senderName:u,senderSurname:h,img:p,gender:g,createdAt:r.createdAt,status:r.status}}catch(e){throw console.error("Fetching failed:",e),e}}async function $M(n){try{const e=Ue(fe,"notifications",n),t=await ot(e);if(!t.exists())throw console.error(`Notification with id ${n} not found.`),new Error(`Notification with id ${n} not found.`);const r=t.data(),s=Ue(fe,"users",r.senderId),i=await ot(s);let o="",u="",h="",p="";if(!i.exists())throw new Error(`User with id ${r.senderId} not found.`);const g=i.data();return o=g.name||"",u=g.surname||"",h=g.img||"",p=g.gender||"",{senderId:r.senderId,senderName:o,senderSurname:u,img:h,createdAt:r.createdAt,status:r.status,type:r.type,gender:p}}catch(e){console.log(e.message);return}}async function zM(n){const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(n);const r=Ct.now();try{const s={senderId:n.senderId,receiverId:n.receiverId,status:"pending",createdAt:t,contactType:n.contactType,contactInfo:n.contactInfo,type:"contactRequest",exactDate:r},i=rt(fe,"contactRequests"),o=await Kn(i,s),u={senderId:n.senderId,receiverId:n.receiverId,type:"contactRequest",createdAt:t,contactRequestId:o.id,exactDate:r,read:!1,status:"pending"},h=rt(fe,"notifications");return await Kn(h,u),{success:!0,message:"Contact request sent successfully"}}catch{}}async function FS(n){const e=[];try{const t=[],r=Ht(rt(fe,"parentReviews"),qe("nannyId","==",n)),s=await Wt(r);s.empty?console.error("No nannies found.."):s.forEach(i=>{t.push({id:i.id,...i.data()})});for(let i=0;i<t.length;i++){const o=Ue(fe,"users",t[i].parentId),u=await ot(o);let h="",p="",g="";if(u.exists()){const y=u.data();h=y.name||"",p=y.surname||"",g=y.img||"",e.push({id:t[i].id,...t[i],personName:h,personSurname:p,img:g})}else console.error(`User with id ${t[i].personId} not found.`)}}catch(t){throw new t}return console.log(e),e}async function BM(n){const e=[];try{const t=[],r=Ht(rt(fe,"parentReviews"),qe("parentId","==",n)),s=await Wt(r);s.empty?console.error("No nannies found.."):s.forEach(i=>{t.push({id:i.id,...i.data()})});for(let i=0;i<t.length;i++){const o=Ue(fe,"users",t[i].nannyId),u=await ot(o);let h="",p="",g="";if(u.exists()){const y=u.data();h=y.name||"",p=y.surname||"",g=y.img||"",e.push({id:t[i].id,...t[i],personName:h,personSurname:p,img:g})}else console.error(`User with id ${t[i].personId} not found.`)}}catch(t){throw new t}return console.log(e),e}async function qM(n){const e=Ct.now(),t=[];try{const r=Ht(rt(fe,"notifications"),qe("receiverId","==",n)),s=await Wt(r);s.empty?console.error("No nannies found.."):s.forEach(i=>{const o=i.data();o.exactDate<=e&&t.push({id:i.id,...o})})}catch{console.error("Error fetching nannies")}return t.sort((r,s)=>{const i=r.exactDate instanceof Date?r.exactDate:r.exactDate.toDate();return(s.exactDate instanceof Date?s.exactDate:s.exactDate.toDate())-i}),console.log(t),t}async function VS(n){let e=0;const t=Ct.now();try{const r=Ht(rt(fe,"notifications"),qe("receiverId","==",n),qe("read","==",!1)),s=await Wt(r);s.empty||s.forEach(i=>{i.data().exactDate<=t&&e++})}catch(r){console.log(r.message)}return e}async function US(n){try{const e=Ht(rt(fe,"notifications"),qe("receiverId","==",n),qe("read","==",!1)),t=await Wt(e);if(t.empty)console.error("No unread notifications found.");else{const r=p5(fe);t.forEach(s=>{const i=s.ref;r.update(i,{read:!0})}),await r.commit()}}catch(e){console.error("Error updating notifications:",e.message)}}async function HM(n){const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(t);const r=Ct.now();try{const s=Ue(fe,"notifications",n);console.log("Fetching document from contactRequests with ID:",n);const i=await ot(s);if(!i.exists()){console.error(`Notification document with ID ${n} does not exist.`);return}const o=i.data();if(console.log("notifData:"),console.log(o),await At(s,{status:"rejected"}),!o.contactRequestId){console.error("applicationId is missing in the notification data:",o);return}const u=Ue(fe,"contactRequests",o.contactRequestId);console.log("Fetching document from contactRequests with ID:",o.contactRequestId);const p=(await ot(u)).data();console.log("RequestData:"),console.log(p),await At(u,{archived:!0,status:"Απερρίφθη"});const g={senderId:o.receiverId,receiverId:o.senderId,type:"contactRequest",createdAt:t,contactRequestId:o.contactRequestId,exactDate:r,read:!1,status:"rejected"},y=rt(fe,"notifications");await Kn(y,g)}catch(s){console.log(s.message)}}async function WM(n){const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(t);const r=Ct.now();try{const s=Ue(fe,"notifications",n);console.log("Fetching document from contactRequests with ID:",n);const i=await ot(s);if(!i.exists()){console.error(`Notification document with ID ${n} does not exist.`);return}const o=i.data();if(console.log("notifData:"),console.log(o),await At(s,{status:"accepted"}),!o.contactRequestId){console.error("applicationId is missing in the notification data:",o);return}const u=Ue(fe,"contactRequests",o.contactRequestId);console.log("Fetching document from contactRequests with ID:",o.contactRequestId);const p=(await ot(u)).data();console.log("RequestData:"),console.log(p),await At(u,{archived:!0,status:"Εγκρίθηκε"});const g={senderId:o.receiverId,receiverId:o.senderId,type:"contactRequest",createdAt:t,contactRequestId:o.contactRequestId,exactDate:r,read:!1,status:"accepted"},y=rt(fe,"notifications");await Kn(y,g)}catch(s){console.log(s.message)}}async function YM(n){const e=[];try{const t=Ht(rt(fe,"contactRequests"),qe("receiverId","==",n),qe("status","==","Εγκρίθηκε")),r=await Wt(t);if(r.empty)console.error("No contacts found for nannyId:",n);else for(const s of r.docs){const i=s.data(),o=Ue(fe,"users",i.senderId),u=await ot(o),h=u.data();u.exists()?e.push({id:s.id,...i,parentName:h.name,parentSurname:h.surname}):console.error("Parent data not found for senderId:",i.senderId)}}catch(t){console.error("Error fetching contacts:",t.message)}finally{return console.log("Result:",e),e}}async function KM(n){const e=[];try{const t=Ht(rt(fe,"contactRequests"),qe("senderId","==",n)),r=await Wt(t);if(r.empty)console.error("No contacts found for nannyId:",nannyId);else for(const s of r.docs){const i=s.data(),o=Ue(fe,"users",i.receiverId),u=await ot(o),h=u.data();console.log(h),u.exists()?e.push({id:s.id,...i,nannyName:h.name,nannySurname:h.surname}):console.error("Parent data not found for senderId:",i.receiverId)}}catch(t){console.error("Error fetching contacts:",t.message)}finally{return console.log("Result:",e),e}}async function QM(n){const e=[];try{const t=Ht(rt(fe,"payments"),qe("parentId","==",n),qe("status","==","accepted")),r=await Wt(t);if(r.empty)console.error("No contacts found for nannyId:",nannyId);else for(const s of r.docs){const i=s.data(),o=Ue(fe,"users",i.nannyId),u=await ot(o),h=u.data();console.log(h),u.exists()?e.push({id:s.id,...i,nannyName:h.name,nannySurname:h.surname}):console.error("Parent data not found for senderId:",i.nannyId)}}catch(t){console.log(t.message)}finally{return console.log("Result:",e),e}}async function GM(n){const e=[];try{const t=Ht(rt(fe,"payments"),qe("nannyId","==",n),qe("status","==","accepted")),r=await Wt(t);if(r.empty)console.error("No completed payments found for nannyId:",n);else for(const s of r.docs){const i=s.data(),o=Ue(fe,"users",i.parentId),u=await ot(o),h=u.data();u.exists()?e.push({id:s.id,...i,parentName:h.name,parentSurname:h.surname}):console.error("Parent data not found for parentId:",i.parentId)}}catch(t){console.error("Error fetching completed payments:",t.message)}finally{return console.log("Result:",e),e}}async function XM(n){const e=new Date,t=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`;console.log(t);const r=Ct.now();try{const s=Ue(fe,"notifications",n);console.log("Fetching document from applications with ID:",n);const i=await ot(s);if(!i.exists()){console.error(`Notification document with ID ${n} does not exist.`);return}const o=i.data();if(console.log("notifData:"),console.log(o),await At(s,{status:"rejected"}),!o.applicationId){console.error("applicationId is missing in the notification data:",o);return}const u=Ue(fe,"applications",o.applicationId);console.log("Fetching document from contactRequests with ID:",o.applicationId);const p=(await ot(u)).data();console.log("JobData:"),console.log(p),await At(u,{archived:!0,status:"Απερρίφθη"});const g={senderId:o.receiverId,receiverId:o.senderId,type:"jobOffer",createdAt:t,applicationId:o.applicationId,exactDate:r,read:!1,status:"rejected"},y=rt(fe,"notifications");await Kn(y,g)}catch(s){console.log(s.message)}}async function JM(n){const e=Ct.now(),t=new Date,r=`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`,s=Ue(fe,"notifications",n);console.log("Fetching document from applications with ID:",n);const i=await ot(s);if(!i.exists()){console.error(`Notification document with ID ${n} does not exist.`);return}const o=i.data();if(console.log("notifData:"),console.log(o),await At(s,{status:"accepted"}),console.log(o||"ERASED!:"),console.log("Before check:",o.applicationId),!o.applicationId){console.error("applicationId is missing in the notification data:",o);return}const u=Ue(fe,"applications",o.applicationId);console.log("Fetching document from applications with ID:",o.applicationId);const p=(await ot(u)).data();console.log("applicationData:"),console.log(p),await At(u,{status:"Εγκρίθηκε"});let g={senderId:o.receiverId,receiverId:o.senderId,type:"jobOffer",createdAt:r,applicationId:o.applicationId,exactDate:e,read:!1,status:"accepted"};const y=rt(fe,"notifications");await Kn(y,g);const[x,_,E]=p==null?void 0:p.startingDate.split("/").map(Number),j=new Date(E,_-1,x),S=parseInt(p==null?void 0:p.months,10),A=Ue(fe,"metadata","globalCouponCounter"),M=await ot(A);if(!M.exists()){console.error("Global counter not found in metadata.");return}let P=M.data().value,L=Ht(rt(fe,"users"),qe("AMKA","==",p.nannyAMKA));const D=await Wt(L);let B;D.empty?console.error("No document found for AMKA:",p.AMKA):D.forEach(ce=>{B=ce.id});const R=rt(fe,"payments");for(let ce=1;ce<=S;ce++){const Y=new Date(j);Y.setMonth(Y.getMonth()+ce);const se=`${String(Y.getDate()).padStart(2,"0")}/${String(Y.getMonth()+1).padStart(2,"0")}/${Y.getFullYear()}`,Ee={nannyId:B,parentId:p.userId,status:"unavailable",exactDate:Date.now(),payDate:se,voucherCode:P};await Kn(R,Ee),P++}await At(A,{value:P});const[T,k,F]=p==null?void 0:p.startingDate.split("/").map(Number),$=new Date(F,k-1,T),U=parseInt(p==null?void 0:p.months,10);$.setMonth($.getMonth()+U);const V=`${String($.getDate()).padStart(2,"0")}/${String($.getMonth()+1).padStart(2,"0")}/${$.getFullYear()}`,[Pe,we,xe]=p==null?void 0:p.startingDate.split("/").map(Number),ve=new Date(xe,we-1,Pe),Q=new Date(xe,we-1,Pe);Q.setMonth(Q.getMonth()+S),L=Ht(rt(fe,"offers"),qe("userId","==",B),qe("type","==","final"),qe("archived","==",!1));const le=await Wt(L);le.empty?console.error("No active job found for userId:",B):le.forEach(async ce=>{const Y=ce.data(),[se,Ee,Xe]=Y==null?void 0:Y.startingDate.split("/").map(Number),ze=new Date(Xe,Ee-1,se),at=parseInt(Y==null?void 0:Y.months,10);ze.setMonth(ze.getMonth()+at);const lt=new Date(Xe,Ee-1,se);if(ve<=lt&&lt<=Q||ve<=ze&&ze<=Q){const dt=Ue(fe,"offers",ce.id);await At(dt,{archived:!0})}}),g={senderId:o.receiverId,receiverId:o.senderId,type:"endOfJob",createdAt:V,applicationId:o.applicationId,exactDate:Q,read:!1,status:"pending"},await Kn(y,g),g={senderId:o.senderId,receiverId:o.receiverId,type:"endOfJob",createdAt:V,applicationId:o.applicationId,exactDate:Q,read:!1},await Kn(y,g)}async function $S(n){const e=[];try{const t=Ht(rt(fe,"users"),qe("role","==",!1)),r=await Wt(t);if(r.empty)console.error("No nannies found..");else for(const s of r.docs){const i={id:s.id,...s.data()},o=Ht(rt(fe,"contactRequests"),qe("receiverId","==",i.id),qe("senderId","==",n),qe("status","==","Εγκρίθηκε"));(await Wt(o)).empty||e.push(i)}}catch{console.error("Error fetching nannies")}return console.log(e),e}async function ZM(n){const e=[];try{const t=Ht(rt(fe,"payments"),qe("parentId","==",n),qe("status","in",["unavailable","available","pending"])),r=await Wt(t);if(r.empty)console.error("No payments found for parentId:",n);else for(const s of r.docs){const i=s.data(),o=Ue(fe,"users",i.nannyId),u=await ot(o);let h="",p="";if(u.exists()){const g=u.data();h=g.name||"",p=g.surname||""}else console.error(`Nanny with id ${i.nannyId} not found.`);e.push({id:s.id,...i,nannyName:h,nannySurname:p})}}catch(t){console.error("Error fetching payments:",t)}return console.log("payments:"),console.log(e),e}async function e6(n){try{const e=Ue(fe,"payments",n),t=await ot(e);if(!t.exists()){console.error(`No payment found with ID ${n}`);return}const r=t.data();console.log(`Payment data for ID ${n}:`,r);const s=new Date,i=`${String(s.getDate()).padStart(2,"0")}/${String(s.getMonth()+1).padStart(2,"0")}/${s.getFullYear()}`;await At(e,{status:"pending",sentAt:i});const o=Ct.now(),u={senderId:r.parentId,receiverId:r.nannyId,type:"payment",createdAt:i,paymentId:n,exactDate:o,read:!1,status:"pending"},h=rt(fe,"notifications");await Kn(h,u),console.log("added the notif!")}catch(e){console.error("Error updating payment status:",e)}}async function t6(n){try{const e=Ue(fe,"notifications",n),t=await ot(e);if(!t.exists()){console.error(`Notification with id ${n} not found.`);return}const r=t.data();await At(e,{status:"accepted"});const s=Ue(fe,"payments",r.paymentId),i=await ot(s);if(!i.exists()){console.error(`No payment found with ID ${r.paymentId}`);return}const o=i.data();console.log(`Payment data for ID ${r.paymentId}:`,o),await At(s,{status:"accepted"});const u=new Date,h=`${String(u.getDate()).padStart(2,"0")}/${String(u.getMonth()+1).padStart(2,"0")}/${u.getFullYear()}`,p=Ct.now(),g={receiverId:o.parentId,senderId:o.nannyId,type:"payment",createdAt:h,paymentId:r.paymentId,exactDate:p,read:!1,status:"accepted"},y=rt(fe,"notifications");await Kn(y,g),console.log("added the notif!")}catch(e){console.log(e.message)}}async function n6(n,e,t){console.log(e);try{const r=Ue(fe,"applications",n);await At(r,{archived:!0});const s=Ue(fe,"notifications",t);await At(s,{status:e})}catch(r){console.error("Error archiving application:",r)}}async function r6(n){try{const e=Ue(fe,"notifications",n);console.log("Fetching document from notifications with ID:",n);const t=await ot(e);if(!t.exists())throw console.error(`Document with id ${n} not found in notifications.`),new Error(`Document with id ${n} not found in notifications.`);const r=t.data();if(!r.senderId||!r.applicationId)throw console.error("Notification data is missing senderId or applicationId:",r),new Error("Missing senderId or applicationId in the notification data.");const s=r.senderId,i=Ue(fe,"users",s),o=await ot(i);let u="",h="",p="";if(!o.exists())throw new Error("user NOT found!");const g=o.data();u=g.name||"",h=g.surname||"",p=g.img;const y=Ue(fe,"applications",r.applicationId),x=await ot(y);if(!x.exists())throw new Error("application NOT found!");const _=x.data(),E={id:t.id,senderId:s,senderName:u,senderSurname:h,img:p,createdAt:r.createdAt,status:r.status,type:r.type,gender:g.gender,applicationId:r.applicationId,receiverId:r.receiverId};return console.log("EndOfJob notif:"),console.log(E),E}catch(e){console.log(e.message)}}async function s6(n,e,t,r){const s=new Date,i=`${String(s.getDate()).padStart(2,"0")}/${String(s.getMonth()+1).padStart(2,"0")}/${s.getFullYear()}`,o=Ct.now();try{const u={parentId:n,nannyId:e,rating:Number(t),bio:r,createdAt:i,exactDate:o},h=rt(fe,"parentReviews");await Kn(h,u);const p=Ue(fe,"users",e),y=(await ot(p)).data(),x=Number(y.rating)*Number(y.ratingCount)+Number(t),_=Number(y.ratingCount)+1,E=(x/_).toFixed(2);return await At(p,{rating:Number(E),ratingCount:Number(_)}),{success:!0,message:"Review added successfully"}}catch(u){return console.log(u.message),{success:!1,message:"Review not added"}}}async function i6(n){const e=[];try{const t=Ht(rt(fe,"applications"),qe("userId","==",n),qe("type","==","final"),qe("archived","==",!0)),r=await Wt(t);r.empty?console.error("No document found for userId:",n):r.forEach(s=>{e.push({id:s.id,...s.data()})})}catch(t){console.log(t.message)}finally{return console.log(e),e}}async function a6(n){const e=[];try{const t=Ue(fe,"users",n),s=(await ot(t)).data(),i=Ht(rt(fe,"applications"),qe("nannyAMKA","==",s.AMKA),qe("nannyName","==",s.name),qe("nannySurname","==",s.surname),qe("type","==","final"),qe("status","in",["Εγκρίθηκε","Απερρίφθη"])),o=await Wt(i);if(o.empty)console.error("No document found for nannyId:",n);else for(const u of o.docs){const h={id:u.id,...u.data()},p=Ue(fe,"users",h.userId),g=await ot(p);let y={};g.exists()?y=g.data():console.error(`Parent with id ${h.userId} not found.`),e.push({...h,parentData:y})}}catch(t){console.log(t.message)}finally{return console.log(e),e}}async function A2(n){const e=[];try{const t=Ht(rt(fe,"offers"),qe("type","==","final"),qe("archived","==",!1)),r=await Wt(t);if(!r.empty)for(const s of r.docs){const i=s.data(),o=Ue(fe,"users",i.userId),u=await ot(o);let h={};if(!u.exists())throw new Error("nanny doesnt exist!");h=u.data();let p=!0;if(Object.keys(n).length===0){e.push({...i,...h});continue}if(n.town&&i.town!==n.town&&(p=!1),n.location&&n.atMyHouse!==""&&(console.log("LOCATION & HOSTING"),i.rows.some(y=>{const x=y.area===n.location,_=y.canHost===n.atMyHouse;return console.log("row.area: "+y.area+" ,filter.location: "+n.location),console.log("row.canHost: "),console.log(y.canHost===!0?"YES":"NO"),console.log("filter.atMyHouse: "),console.log(n.atMyHouse===!0?"YES":"NO"),x&&_})||(p=!1)),n.timeType&&i.timeType!==n.timeType&&(p=!1),n.childAge&&i.childAge!==n.childAge&&(p=!1),n.experienceSlider>0&&n.experienceSlider>Number(h.experience)&&(p=!1),n.gender&&h.gender!==n.gender&&(p=!1),n.monthsSlider>0&&Number(n.monthsSlider)>Number(i.months)&&(p=!1),n.selectedDate!==null){const[g,y,x]=i.startingDate.split("/").map(Number),_=new Date(Date.UTC(x,y-1,g));new Date(n.selectedDate)<_&&(p=!1)}p&&e.push({...i,...h})}}catch(t){console.log(t.message)}finally{const t=Array.from(new Set(e.map(r=>r.id))).map(r=>e.find(s=>s.id===r));return console.log(e),t}}function zS({page:n=1}){const e=Cn(),{userData:t,loading:r}=st(),[s,i]=C.useState(n),{data:o,isLoading:u}=Dt({queryFn:()=>VS(t==null?void 0:t.id),refetchInterval:5e3,queryKey:["notificationCount",t==null?void 0:t.id],staleTime:0}),[h,p]=C.useState(0),[g,y]=C.useState(!1);C.useEffect(()=>{!u&&!g&&p(o)},[o,u,g]);const{mutateAsync:x}=qt({mutationFn:()=>US(t==null?void 0:t.id),onSuccess:()=>p(0)});return C.useEffect(()=>{s===2&&(y(!0),x())},[h,o]),c.jsxs("div",{className:"w-full h-12 text-xl border-b-2  border-black font-normal items-center px-auto bg-white flex justify-evenly",children:[c.jsxs(Le,{to:"/nannyoffers",onClick:()=>i(1),className:`cursor-pointer hover:text-pallete-700 flex items-center gap-1 ${s==1?"text-pallete-800 underline font-semibold":"text-black"}`,children:[c.jsxs("span",{className:" text-2xl ",children:[c.jsx(dM,{})," "]}),c.jsx("span",{children:"Αγγελίες"})]}),c.jsxs("div",{className:`relative flex items-center hover:text-pallete-700 gap-1 cursor-pointer ${s==2?"text-pallete-800 underline font-semibold":"text-black"}`,onClick:()=>{y(!0),p(0),x(),i(2),e("/notifications")},children:[c.jsx("span",{className:"text-2xl",children:c.jsx(jS,{})}),c.jsx("span",{children:"Ειδοποιήσεις"}),!u&&h>0&&s!==2&&c.jsx("span",{className:"absolute top-[-5px] right-[-18px] bg-pallete-800 text-white text-sm rounded-full w-5 h-5 flex items-center justify-center",children:h>=10?"9+":h})]}),c.jsxs(Le,{to:"/reviews",onClick:()=>i(3),className:`cursor-pointer hover:text-pallete-700 flex items-center gap-1 ${s==3?"text-pallete-800 underline font-semibold":"text-black"}`,children:[c.jsx("span",{className:" text-2xl ",children:c.jsx(Yv,{})}),c.jsx("span",{children:"Αξιολογήσεις"})]}),c.jsxs(Le,{to:"/nannyhistory",onClick:()=>i(4),className:`cursor-pointer hover:text-pallete-700 flex items-center gap-1 ${s==4?"text-pallete-800 underline font-semibold":"text-black"}`,children:[c.jsx("span",{className:" text-2xl ",children:c.jsx(Wv,{})}),c.jsx("span",{children:"Ιστορικό"})]})]})}zS.propTypes={page:ie.number};function BS({page:n=1}){const[e,t]=C.useState(n),{userData:r,loading:s}=st(),i=Cn(),{data:o,isLoading:u}=Dt({queryFn:()=>VS(r==null?void 0:r.id),refetchInterval:5e3,queryKey:["notificationCount",r==null?void 0:r.id],staleTime:0}),[h,p]=C.useState(0),[g,y]=C.useState(!1);C.useEffect(()=>{!u&&!g&&p(o)},[o,u,g]);const{mutateAsync:x}=qt({mutationFn:()=>US(r==null?void 0:r.id),onSuccess:()=>p(0)});return C.useEffect(()=>{e===3&&(y(!0),x())},[h,o]),c.jsxs("div",{className:"w-full h-12 text-xl border-b-2  border-black font-normal items-center px-auto bg-white flex justify-evenly",children:[c.jsxs(Le,{to:"/search",onClick:()=>t(1),className:`cursor-pointer hover:text-pallete-700 flex items-center gap-1 ${e==1?"text-pallete-800 underline font-semibold":"text-black"}`,children:[c.jsxs("span",{className:" text-2xl ",children:[c.jsx(oM,{})," "]}),c.jsx("span",{children:"Αναζήτηση"})]}),c.jsxs(Le,{to:"/parentapplications",onClick:()=>t(2),className:`cursor-pointer hover:text-pallete-700 flex items-center gap-1 ${e==2?"text-pallete-800 underline font-semibold":"text-black"}`,children:[c.jsxs("span",{className:" text-3xl ",children:[c.jsx(cM,{})," "]}),c.jsx("span",{children:"Συμφωνητικά "})]}),c.jsxs("div",{className:`relative flex items-center hover:text-pallete-700 gap-1 cursor-pointer ${e==3?"text-pallete-800 underline font-semibold":"text-black"}`,onClick:()=>{y(!0),p(0),x(),t(3),i("/notifications")},children:[c.jsx("span",{className:"text-2xl",children:c.jsx(jS,{})}),c.jsx("span",{children:"Ειδοποιήσεις"}),!u&&h>0&&e!==3&&c.jsx("span",{className:"absolute top-[-5px] right-[-18px] bg-pallete-800 text-white text-sm rounded-full w-5 h-5 flex items-center justify-center",children:h>=10?"9+":h})]}),c.jsxs(Le,{to:"/parentpayments",onClick:()=>t(4),className:`cursor-pointer hover:text-pallete-700 flex items-center gap-1 ${e==4?"text-pallete-800 underline font-semibold":"text-black"}`,children:[c.jsxs("span",{className:" text-3xl ",children:[c.jsx(lM,{})," "]}),c.jsx("span",{children:"Πληρωμές"})]}),c.jsxs(Le,{to:"/parenthistory",onClick:()=>t(5),className:`cursor-pointer hover:text-pallete-700 flex items-center gap-1 ${e==5?"text-pallete-800 underline font-semibold":"text-black"}`,children:[c.jsx("span",{className:" text-2xl ",children:c.jsx(Wv,{})}),c.jsx("span",{children:"Ιστορικό"})]})]})}BS.propTypes={page:ie.number};function g0(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(n)}function o6(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(n)}function l6(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(n)}function Jv(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(n)}function Zv(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}function Ff(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function y0(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function ex(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(n)}function tx(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"},child:[]}]})(n)}function qS(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}function c6(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function v0(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"},child:[]}]})(n)}function u6(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M24 24H0V0h24v24z",opacity:".87"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},child:[]}]})(n)}function xy({main_page:n="/",role:e,id:t}){const r=cr(),s=Cn(),[i,o]=C.useState(!1),u=A=>o(A),[h,p]=C.useState(!1),g=()=>p(A=>!A),{userData:y,loading:x,logout:_}=st(),E=async()=>{await _(),s("/")};if(x)return c.jsx("div",{className:"h-16 w-full flex justify-between border-b-2 border-black bg-white",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});const[j,S]=C.useState(!1);if(!x&&y)return c.jsxs("div",{className:"h-16 w-full flex justify-between  bg-white",children:[c.jsxs("div",{className:"flex ",children:[c.jsxs(Le,{to:`${y!=null&&y.role?"/":"/nannyOffers"}`,className:"flex pr-5  items-center text-pallete-800 h-full hover:text-pallete-700",children:[c.jsx(Gv,{className:" ml-5 text-6xl "}),c.jsx("p",{className:"text-4xl ml-3 font-bold ",children:"Nanika"})]}),c.jsxs("div",{className:" flex items-center text-2xl font-medium ml-16  gap-2 justify-center",children:[c.jsx("button",{className:"hover:text-pallete-800",onClick:()=>{e?S(!0):s("/nannyoffers")},children:"Βρείτε Εργασία"}),c.jsx("div",{className:"h-4/6 border-2  border-black "}),c.jsx("button",{className:"hover:text-pallete-800",onClick:()=>{e?s("/"):S(!0)},children:"Βρείτε Επαγγελματία"})]}),c.jsxs(Le,{to:"/about",className:"flex h-full text-pallete-800 hover:text-pallete-700 ml-12 gap-1 font-semibold items-center px-2 text-3xl",children:[c.jsx(PS,{className:"font-bold"}),c.jsx("span",{className:"",children:"Βοήθεια"})]})]}),c.jsxs("div",{className:"h-full  items-center   flex justify-end gap-3 pr-3 ",children:[c.jsxs(Le,{to:`${e?`/parentprofile/${t}`:`/nannyprofile/${t}`}`,className:"  h-full w-full p-2 flex items-center justify-end gap-3 ",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[c.jsx("img",{src:y==null?void 0:y.img,className:`size-14  rounded-full ${i?"border-2 border-pallete-700":""} ${(r==null?void 0:r.pathname)===`/parentprofile/${t}`||(r==null?void 0:r.pathname)===`/nannyprofile/${t}`?"border-2 border-pallete-800":""}`}),c.jsxs("p",{className:`text-2xl w-56  font-medium text-start truncate  ${i?"text-pallete-700":""} ${(r==null?void 0:r.pathname)===`/parentprofile/${t}`||(r==null?void 0:r.pathname)===`/nannyprofile/${t}`?"text-pallete-800":""}`,title:`${y==null?void 0:y.name} ${y==null?void 0:y.surname}`,children:[" ",y==null?void 0:y.name," ",y==null?void 0:y.surname," "]})]}),c.jsxs("div",{className:"relative  cursor-pointer w-1/6 flex items-center justify-center h-full text-center hover:text-pallete-700",children:[h&&c.jsxs("div",{className:"absolute top-full -right-2 flex flex-col gap-1 w-52 bg-gray-600 border-2 border-gray-700 text-white      z-10",children:[c.jsxs(Le,{to:`${e?"/parentsettings":"/nannysettings"}`,className:"hover:bg-gray-400 flex items-center justify-evenly h-10 p-2 w-full",children:[c.jsx(aM,{className:"text-2xl"}),c.jsx("span",{className:"text-sm",children:"Ρυθμίσεις Λογαριασμού"})]}),c.jsxs("button",{onClick:E,className:"hover:bg-gray-400 flex items-center justify-evenly h-10 p-2 w-full",children:[c.jsx(l6,{className:"text-2xl"}),"Αποσύνδεση"]})]}),c.jsx(u6,{onClick:g,className:"font-bold text-4xl "})]})]}),j&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40"}),c.jsxs("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 w-1/3 rounded-md z-50 bg-white shadow-xl p-6",children:[c.jsx("h3",{className:"font-bold text-lg",children:"Προσοχή!"}),c.jsx("p",{className:"py-4",children:"Πρόκειται να αποσυνδεθείτε και να γυρίσετε στην αρχική σελίδα. Συνέχεια;"}),c.jsx("div",{className:"modal-action",children:c.jsxs("form",{method:"dialog",className:"flex gap-3",children:[c.jsx("button",{className:"bg-red-500 py-2 px-3 rounded-md font-semibold text-white",onClick:()=>S(!1),children:"Ακύρωση"}),c.jsx("button",{className:"text-black border-2 border-black py-2 px-3 rounded-md font-semibold text",onClick:()=>{_(),s("/")},children:"Επιβεβαίωση"})]})})]})]})]})}xy.propTypes={main_page:ie.string,role:ie.bool.isRequired,id:ie.string.isRequired};const _n=(n,e=1)=>{if(n){if((n==null?void 0:n.role)===!0)return c.jsxs(c.Fragment,{children:[c.jsx(xy,{main_page:"/search",role:n==null?void 0:n.role,id:n==null?void 0:n.id}),c.jsx(BS,{page:e})]});if((n==null?void 0:n.role)===!1)return c.jsxs(c.Fragment,{children:[c.jsx(xy,{role:n==null?void 0:n.role,id:n==null?void 0:n.id}),c.jsx(zS,{page:e})]})}else return c.jsx(sm,{})},Vf=n=>{const e="Ενδεικτικό Αρχείο",t=new Blob([e],{type:"text/plain;charset=utf-8"}),r=n.split(".").slice(0,-1).join(".")||n,s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=`${r}.txt`,i.click(),URL.revokeObjectURL(s)},d6=()=>{const n=["https://images.pexels.com/photos/6974310/pexels-photo-6974310.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1","https://www.ziprecruiter.com/svc/fotomat/public-ziprecruiter/cms/829365088InfantNanny.jpg=ws1280x960","https://images.pexels.com/photos/755049/pexels-photo-755049.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"],[e,t]=C.useState(0),[r,s]=C.useState(!0),i=C.useRef(null);return C.useEffect(()=>{const o=setInterval(()=>{t(u=>u+1),s(!0)},3500);return()=>clearInterval(o)},[]),C.useEffect(()=>{const o=()=>{e===n.length&&(s(!1),t(0))},u=i.current;return u.addEventListener("transitionend",o),()=>{u.removeEventListener("transitionend",o)}},[e,n.length]),c.jsx("div",{className:"relative w-full h-full overflow-hidden",children:c.jsx("div",{ref:i,className:`flex ${r?"transition-transform duration-700 ease-in-out":""}`,style:{transform:` translateX(-${e*100}%)`},children:n.concat(n[0]).map((o,u)=>c.jsx("img",{src:o,alt:`Slide ${u}`,className:"w-full h-screen object-cover flex-shrink-0"},u))})})};function h6(){var o;const[n,e]=C.useState(""),[t,r]=C.useState(""),{userData:s,loading:i}=st();if(i)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!i)return c.jsxs("div",{className:"w-full h-screen flex flex-col overflow-hidden justify-between",children:[_n(s,0),c.jsxs("div",{className:"w-full flex flex-grow relative",children:[c.jsxs("div",{className:"h-full w-3/5 absolute top-0 right-0 z-0",children:[c.jsx(d6,{})," "]}),c.jsx("div",{className:"w-full h-full flex flex-col justify-center absolute  top-0 left-0 z-10 bg-white",style:{boxShadow:"10px 10px 20px rgba(0, 0, 139, 0.7)",clipPath:"polygon(0 100%, 0 0, 50% 0, 75% 0, 45% 100%, 50% 100%)"},children:c.jsxs("div",{className:"w-1/2 my-auto h-full flex flex-col gap-10",children:[c.jsxs("p",{className:"ml-32 mt-20 text-5xl text-pallete-800 font-extrabold",children:["Οι ",c.jsx("span",{className:"underline",children:"ΤΕΛΕΥΤΑIΟΙ"})," όταν έχει να κάνει με την φροντίδα του παιδιού σας!"]}),c.jsxs("div",{className:"pl-20 gap-7 h-full flex flex-col justify-center items-center pr-36 text-2xl",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Πόλη"}),c.jsxs("select",{onChange:u=>{e(u.target.value),r("")},value:n,className:"select text-lg select-bordered rounded-md h-14 border-2 border-black pl-2 bg-white w-80 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),Xv.map((u,h)=>c.jsx("option",{value:u,children:u},h))]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Περιοχή"}),c.jsxs("select",{onChange:u=>{r(u.target.value)},value:t,className:"select text-lg mt-2 select-bordered rounded-md h-14 border-2 border-black pl-2 bg-white w-80 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),n!==""&&((o=wp.find(u=>u.city===n))==null?void 0:o.areas.map((u,h)=>c.jsx("option",{value:u,children:u},h)))]})]}),c.jsx("div",{className:"w-80 mb-28 mt-2 flex justify-end",children:c.jsx(Le,{to:{pathname:"/search"},state:{selectedTown:n,selectedLocation:t},className:"rounded-md flex items-center justify-center font-semibold text-center text-xl bg-pallete-800 hover:bg-pallete-600 w-40 h-12 text-white py-1",children:c.jsx("span",{children:"Συνέχεια"})})})]})]})})]}),c.jsx(on,{})]})}function HS({id:n,name:e,surname:t,rating:r,ratingCount:s,bio:i,img:o}){const[u,h]=C.useState(!1);return c.jsxs(Le,{to:`/nannyprofile/${n}`,className:`w-4/5 h-36 mx-auto my-5 hover:border-2 ${u?"border-2 border-pallete-700":""} flex justify-between bg-stone-100 rounded-md p-1 shadow-md shadow-gray-700`,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[c.jsx("div",{className:"h-full w-1/5  flex items-center justify-center",children:c.jsx("img",{src:o,className:`object-cover size-28 rounded-full ${u?"border-2 border-pallete-700":""} `})}),c.jsxs("div",{className:"w-full h-full flex flex-col pl-2",children:[c.jsxs("div",{className:"w-full  flex justify-between pr-1 text-xl font-medium",children:[c.jsxs("span",{className:u?"text-pallete-700":"",children:[e," ",t]}),c.jsxs("div",{children:[c.jsxs("span",{title:`βαθμολογία: ${r}/5`,className:"text-xl font-medium",children:[r,"  "]}),c.jsxs("span",{title:`${s} ${s!==1?"χρήστες έχουν ":"χρήστης έχει"} αξιολογήσει την νταντά.`,children:["(",s,")"]})]})]}),c.jsx("div",{className:"my-1 h-full overflow-hidden rounded-md ",children:c.jsx("p",{className:"border-2 pt-1 h-full border-black px-1 shadow-inner shadow-gray-500",children:i})})]})]})}HS.propTypes={id:ie.string.isRequired,name:ie.string.isRequired,surname:ie.string.isRequired,bio:ie.string.isRequired,rating:ie.number.isRequired,ratingCount:ie.number.isRequired,img:ie.string.isRequired};function WS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=WS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Mn(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=WS(n))&&(r&&(r+=" "),r+=e);return r}function ke(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Vt(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function sa(n,e){const t=ke(n);return isNaN(e)?Vt(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Vs(n,e){const t=ke(n);if(isNaN(e))return Vt(n,NaN);if(!e)return t;const r=t.getDate(),s=Vt(n,t.getTime());s.setMonth(t.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}function nx(n,e){const t=+ke(n);return Vt(n,t+e)}const YS=6048e5,f6=864e5,im=6e4,am=36e5,p6=1e3;function m6(n,e){return nx(n,e*am)}let g6={};function Tl(){return g6}function ia(n,e){var u,h,p,g;const t=Tl(),r=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((g=(p=t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=ke(n),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Wc(n){return ia(n,{weekStartsOn:1})}function KS(n){const e=ke(n),t=e.getFullYear(),r=Vt(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=Wc(r),i=Vt(n,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=Wc(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=o.getTime()?t:t-1}function vl(n){const e=ke(n);return e.setHours(0,0,0,0),e}function _p(n){const e=ke(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Yc(n,e){const t=vl(n),r=vl(e),s=+t-_p(t),i=+r-_p(r);return Math.round((s-i)/f6)}function y6(n){const e=KS(n),t=Vt(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Wc(t)}function wy(n,e){return nx(n,e*im)}function rx(n,e){const t=e*3;return Vs(n,t)}function v6(n,e){return nx(n,e*1e3)}function bp(n,e){const t=e*7;return sa(n,t)}function Qi(n,e){return Vs(n,e*12)}function D2(n){let e;return n.forEach(function(t){const r=ke(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function M2(n){let e;return n.forEach(t=>{const r=ke(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function x6(n,e){const t=vl(n),r=vl(e);return+t==+r}function Gi(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Ep(n){if(!Gi(n)&&typeof n!="number")return!1;const e=ke(n);return!isNaN(Number(e))}function Np(n,e){const t=ke(n),r=ke(e),s=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return s*12+i}function ll(n){const e=ke(n);return Math.trunc(e.getMonth()/3)+1}function Sp(n,e){const t=ke(n),r=ke(e),s=t.getFullYear()-r.getFullYear(),i=ll(t)-ll(r);return s*4+i}function Tp(n,e){const t=ke(n),r=ke(e);return t.getFullYear()-r.getFullYear()}function w6(n,e){const t=ke(n),r=ke(e),s=O2(t,r),i=Math.abs(Yc(t,r));t.setDate(t.getDate()-s*i);const o=+(O2(t,r)===-s),u=s*(i-o);return u===0?0:u}function O2(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function QS(n){const e=ke(n);return e.setHours(23,59,59,999),e}function GS(n){const e=ke(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function _y(n){const e=ke(n),t=e.getMonth(),r=t-t%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function XS(n){const e=ke(n);return e.setDate(1),e.setHours(0,0,0,0),e}function JS(n){const e=ke(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function om(n){const e=ke(n),t=Vt(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function _6(n,e){var u,h;const t=Tl(),r=t.weekStartsOn??((h=(u=t.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=ke(n),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const b6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},E6=(n,e,t)=>{let r;const s=b6[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function x0(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const N6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},T6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C6={date:x0({formats:N6,defaultWidth:"full"}),time:x0({formats:S6,defaultWidth:"full"}),dateTime:x0({formats:T6,defaultWidth:"full"})},j6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k6=(n,e,t,r)=>j6[n];function qu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):o;s=n.formattingValues[u]||n.formattingValues[o]}else{const o=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[u]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return s[i]}}const I6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},R6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},P6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O6=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},L6={ordinalNumber:O6,era:qu({values:I6,defaultWidth:"wide"}),quarter:qu({values:R6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:qu({values:P6,defaultWidth:"wide"}),day:qu({values:A6,defaultWidth:"wide"}),dayPeriod:qu({values:D6,defaultWidth:"wide",formattingValues:M6,defaultFormattingWidth:"wide"})};function Hu(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(u)?V6(u,y=>y.test(o)):F6(u,y=>y.test(o));let p;p=n.valueCallback?n.valueCallback(h):h,p=t.valueCallback?t.valueCallback(p):p;const g=e.slice(o.length);return{value:p,rest:g}}}function F6(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function V6(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function U6(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const u=e.slice(s.length);return{value:o,rest:u}}}const $6=/^(\d+)(th|st|nd|rd)?/i,z6=/\d+/i,B6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},q6={any:[/^b/i,/^(a|c)/i]},H6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W6={any:[/1/i,/2/i,/3/i,/4/i]},Y6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Q6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z6={ordinalNumber:U6({matchPattern:$6,parsePattern:z6,valueCallback:n=>parseInt(n,10)}),era:Hu({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:q6,defaultParseWidth:"any"}),quarter:Hu({matchPatterns:H6,defaultMatchWidth:"wide",parsePatterns:W6,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Hu({matchPatterns:Y6,defaultMatchWidth:"wide",parsePatterns:K6,defaultParseWidth:"any"}),day:Hu({matchPatterns:Q6,defaultMatchWidth:"wide",parsePatterns:G6,defaultParseWidth:"any"}),dayPeriod:Hu({matchPatterns:X6,defaultMatchWidth:"any",parsePatterns:J6,defaultParseWidth:"any"})},ZS={code:"en-US",formatDistance:E6,formatLong:C6,formatRelative:k6,localize:L6,match:Z6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function e8(n){const e=ke(n);return Yc(e,om(e))+1}function sx(n){const e=ke(n),t=+Wc(e)-+y6(e);return Math.round(t/YS)+1}function ix(n,e){var g,y,x,_;const t=ke(n),r=t.getFullYear(),s=Tl(),i=(e==null?void 0:e.firstWeekContainsDate)??((y=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(x=s.locale)==null?void 0:x.options)==null?void 0:_.firstWeekContainsDate)??1,o=Vt(n,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const u=ia(o,e),h=Vt(n,0);h.setFullYear(r,0,i),h.setHours(0,0,0,0);const p=ia(h,e);return t.getTime()>=u.getTime()?r+1:t.getTime()>=p.getTime()?r:r-1}function t8(n,e){var u,h,p,g;const t=Tl(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(p=t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,s=ix(n,e),i=Vt(n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ia(i,e)}function eT(n,e){const t=ke(n),r=+ia(t,e)-+t8(t,e);return Math.round(r/YS)+1}function Ft(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Va={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ft(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ft(t+1,2)},d(n,e){return Ft(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ft(n.getHours()%12||12,e.length)},H(n,e){return Ft(n.getHours(),e.length)},m(n,e){return Ft(n.getMinutes(),e.length)},s(n,e){return Ft(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Ft(s,e.length)}},cc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},L2={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Va.y(n,e)},Y:function(n,e,t,r){const s=ix(n,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ft(o,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):Ft(i,e.length)},R:function(n,e){const t=KS(n);return Ft(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ft(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ft(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ft(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Va.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ft(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=eT(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Ft(s,e.length)},I:function(n,e,t){const r=sx(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ft(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Va.d(n,e)},D:function(n,e,t){const r=e8(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ft(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ft(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ft(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ft(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=cc.noon:r===0?s=cc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=cc.evening:r>=12?s=cc.afternoon:r>=4?s=cc.morning:s=cc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Va.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Va.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ft(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Va.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Va.s(n,e)},S:function(n,e){return Va.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return V2(r);case"XXXX":case"XX":return Qo(r);case"XXXXX":case"XXX":default:return Qo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return V2(r);case"xxxx":case"xx":return Qo(r);case"xxxxx":case"xxx":default:return Qo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+F2(r,":");case"OOOO":default:return"GMT"+Qo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+F2(r,":");case"zzzz":default:return"GMT"+Qo(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Ft(r,e.length)},T:function(n,e,t){const r=n.getTime();return Ft(r,e.length)}};function F2(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?t+String(s):t+String(s)+e+Ft(i,2)}function V2(n,e){return n%60===0?(n>0?"-":"+")+Ft(Math.abs(n)/60,2):Qo(n,e)}function Qo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Ft(Math.trunc(r/60),2),i=Ft(r%60,2);return t+s+e+i}const U2=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tT=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},n8=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return U2(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",U2(r,e)).replace("{{time}}",tT(s,e))},Cp={p:tT,P:n8},r8=/^D+$/,s8=/^Y+$/,i8=["D","DD","YY","YYYY"];function nT(n){return r8.test(n)}function rT(n){return s8.test(n)}function by(n,e,t){const r=a8(n,e,t);if(console.warn(r),i8.includes(n))throw new RangeError(r)}function a8(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c8=/^'([^]*?)'?$/,u8=/''/g,d8=/[a-zA-Z]/;function $2(n,e,t){var g,y,x,_,E,j,S,A;const r=Tl(),s=(t==null?void 0:t.locale)??r.locale??ZS,i=(t==null?void 0:t.firstWeekContainsDate)??((y=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(x=r.locale)==null?void 0:x.options)==null?void 0:_.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((j=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:j.weekStartsOn)??r.weekStartsOn??((A=(S=r.locale)==null?void 0:S.options)==null?void 0:A.weekStartsOn)??0,u=ke(n);if(!Ep(u))throw new RangeError("Invalid time value");let h=e.match(l8).map(M=>{const P=M[0];if(P==="p"||P==="P"){const L=Cp[P];return L(M,s.formatLong)}return M}).join("").match(o8).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const P=M[0];if(P==="'")return{isToken:!1,value:h8(M)};if(L2[P])return{isToken:!0,value:M};if(P.match(d8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:M}});s.localize.preprocessor&&(h=s.localize.preprocessor(u,h));const p={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return h.map(M=>{if(!M.isToken)return M.value;const P=M.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&rT(P)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&nT(P))&&by(P,e,String(n));const L=L2[P[0]];return L(u,P,s.localize,p)}).join("")}function h8(n){const e=n.match(c8);return e?e[1].replace(u8,"'"):n}function z2(n){return ke(n).getDate()}function f8(n){return ke(n).getDay()}function p8(n){const e=ke(n),t=e.getFullYear(),r=e.getMonth(),s=Vt(n,0);return s.setFullYear(t,r+1,0),s.setHours(0,0,0,0),s.getDate()}function m8(){return Object.assign({},Tl())}function mi(n){return ke(n).getHours()}function g8(n){let t=ke(n).getDay();return t===0&&(t=7),t}function gi(n){return ke(n).getMinutes()}function xr(n){return ke(n).getMonth()}function Xi(n){return ke(n).getSeconds()}function Ey(n){return ke(n).getTime()}function ut(n){return ke(n).getFullYear()}function vo(n,e){const t=ke(n),r=ke(e);return t.getTime()>r.getTime()}function xl(n,e){const t=ke(n),r=ke(e);return+t<+r}function y8(n,e){const t=ke(n),r=ke(e);return+t==+r}function v8(n,e){const t=e instanceof Date?Vt(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const x8=10;class sT{constructor(){Ie(this,"subPriority",0)}validate(e,t){return!0}}class w8 extends sT{constructor(e,t,r,s,i){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class _8 extends sT{constructor(){super(...arguments);Ie(this,"priority",x8);Ie(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Vt(t,v8(t,Date))}}class Pt{run(e,t,r,s){const i=this.parse(e,t,r,s);return i?{setter:new w8(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,r){return!0}}class b8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",140);Ie(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,r,s){return r.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const mn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ai={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function gn(n,e){return n&&{value:e(n.value),rest:n.rest}}function sn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function oi(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(s*am+i*im+o*p6),rest:e.slice(t[0].length)}}function iT(n){return sn(mn.anyDigitsSigned,n)}function hn(n,e){switch(n){case 1:return sn(mn.singleDigit,e);case 2:return sn(mn.twoDigits,e);case 3:return sn(mn.threeDigits,e);case 4:return sn(mn.fourDigits,e);default:return sn(new RegExp("^\\d{1,"+n+"}"),e)}}function jp(n,e){switch(n){case 1:return sn(mn.singleDigitSigned,e);case 2:return sn(mn.twoDigitsSigned,e);case 3:return sn(mn.threeDigitsSigned,e);case 4:return sn(mn.fourDigitsSigned,e);default:return sn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function ax(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function aT(n,e){const t=e>0,r=t?e:1-e;let s;if(r<=50)s=n||100;else{const i=r+50,o=Math.trunc(i/100)*100,u=n>=i%100;s=n+o-(u?100:0)}return t?s:1-s}function oT(n){return n%400===0||n%4===0&&n%100!==0}class E8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",130);Ie(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return gn(hn(4,t),i);case"yo":return gn(s.ordinalNumber(t,{unit:"year"}),i);default:return gn(hn(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s){const i=t.getFullYear();if(s.isTwoDigitYear){const u=aT(s.year,i);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class N8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",130);Ie(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return gn(hn(4,t),i);case"Yo":return gn(s.ordinalNumber(t,{unit:"year"}),i);default:return gn(hn(r.length,t),i)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s,i){const o=ix(t,i);if(s.isTwoDigitYear){const h=aT(s.year,o);return t.setFullYear(h,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),ia(t,i)}const u=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(u,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),ia(t,i)}}class S8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",130);Ie(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return jp(r==="R"?4:r.length,t)}set(t,r,s){const i=Vt(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Wc(i)}}class T8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",130);Ie(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return jp(r==="u"?4:r.length,t)}set(t,r,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class C8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",120);Ie(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"Q":case"QQ":return hn(r.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class j8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",120);Ie(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"q":case"qq":return hn(r.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class k8 extends Pt{constructor(){super(...arguments);Ie(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ie(this,"priority",110)}parse(t,r,s){const i=o=>o-1;switch(r){case"M":return gn(sn(mn.month,t),i);case"MM":return gn(hn(2,t),i);case"Mo":return gn(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class I8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",110);Ie(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,s){const i=o=>o-1;switch(r){case"L":return gn(sn(mn.month,t),i);case"LL":return gn(hn(2,t),i);case"Lo":return gn(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function R8(n,e,t){const r=ke(n),s=eT(r,t)-e;return r.setDate(r.getDate()-s*7),r}class P8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",100);Ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,s){switch(r){case"w":return sn(mn.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s,i){return ia(R8(t,s,i),i)}}function A8(n,e){const t=ke(n),r=sx(t)-e;return t.setDate(t.getDate()-r*7),t}class D8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",100);Ie(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,s){switch(r){case"I":return sn(mn.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s){return Wc(A8(t,s))}}const M8=[31,28,31,30,31,30,31,31,30,31,30,31],O8=[31,29,31,30,31,30,31,31,30,31,30,31];class L8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",90);Ie(this,"subPriority",1);Ie(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"d":return sn(mn.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return hn(r.length,t)}}validate(t,r){const s=t.getFullYear(),i=oT(s),o=t.getMonth();return i?r>=1&&r<=O8[o]:r>=1&&r<=M8[o]}set(t,r,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class F8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",90);Ie(this,"subpriority",1);Ie(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,s){switch(r){case"D":case"DD":return sn(mn.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return hn(r.length,t)}}validate(t,r){const s=t.getFullYear();return oT(s)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function ox(n,e,t){var y,x,_,E;const r=Tl(),s=(t==null?void 0:t.weekStartsOn)??((x=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((E=(_=r.locale)==null?void 0:_.options)==null?void 0:E.weekStartsOn)??0,i=ke(n),o=i.getDay(),h=(e%7+7)%7,p=7-s,g=e<0||e>6?e-(o+p)%7:(h+p)%7-(o+p)%7;return sa(i,g)}class V8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",90);Ie(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=ox(t,s,i),t.setHours(0,0,0,0),t}}class U8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",90);Ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,s,i){const o=u=>{const h=Math.floor((u-1)/7)*7;return(u+i.weekStartsOn+6)%7+h};switch(r){case"e":case"ee":return gn(hn(r.length,t),o);case"eo":return gn(s.ordinalNumber(t,{unit:"day"}),o);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=ox(t,s,i),t.setHours(0,0,0,0),t}}class $8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",90);Ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,s,i){const o=u=>{const h=Math.floor((u-1)/7)*7;return(u+i.weekStartsOn+6)%7+h};switch(r){case"c":case"cc":return gn(hn(r.length,t),o);case"co":return gn(s.ordinalNumber(t,{unit:"day"}),o);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,i){return t=ox(t,s,i),t.setHours(0,0,0,0),t}}function z8(n,e){const t=ke(n),r=g8(t),s=e-r;return sa(t,s)}class B8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",90);Ie(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return hn(r.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return gn(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return gn(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return gn(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return gn(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,r){return r>=1&&r<=7}set(t,r,s){return t=z8(t,s),t.setHours(0,0,0,0),t}}class q8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",80);Ie(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(ax(s),0,0,0),t}}class H8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",80);Ie(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(ax(s),0,0,0),t}}class W8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",80);Ie(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(ax(s),0,0,0),t}}class Y8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",70);Ie(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,s){switch(r){case"h":return sn(mn.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class K8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",70);Ie(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,s){switch(r){case"H":return sn(mn.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,s){return t.setHours(s,0,0,0),t}}class Q8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",70);Ie(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,s){switch(r){case"K":return sn(mn.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class G8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",70);Ie(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,s){switch(r){case"k":return sn(mn.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class X8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",60);Ie(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"m":return sn(mn.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setMinutes(s,0,0),t}}class J8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",50);Ie(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"s":return sn(mn.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setSeconds(s,0),t}}class Z8 extends Pt{constructor(){super(...arguments);Ie(this,"priority",30);Ie(this,"incompatibleTokens",["t","T"])}parse(t,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return gn(hn(r.length,t),s)}set(t,r,s){return t.setMilliseconds(s),t}}class eO extends Pt{constructor(){super(...arguments);Ie(this,"priority",10);Ie(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return oi(ai.basicOptionalMinutes,t);case"XX":return oi(ai.basic,t);case"XXXX":return oi(ai.basicOptionalSeconds,t);case"XXXXX":return oi(ai.extendedOptionalSeconds,t);case"XXX":default:return oi(ai.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Vt(t,t.getTime()-_p(t)-s)}}class tO extends Pt{constructor(){super(...arguments);Ie(this,"priority",10);Ie(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return oi(ai.basicOptionalMinutes,t);case"xx":return oi(ai.basic,t);case"xxxx":return oi(ai.basicOptionalSeconds,t);case"xxxxx":return oi(ai.extendedOptionalSeconds,t);case"xxx":default:return oi(ai.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Vt(t,t.getTime()-_p(t)-s)}}class nO extends Pt{constructor(){super(...arguments);Ie(this,"priority",40);Ie(this,"incompatibleTokens","*")}parse(t){return iT(t)}set(t,r,s){return[Vt(t,s*1e3),{timestampIsSet:!0}]}}class rO extends Pt{constructor(){super(...arguments);Ie(this,"priority",20);Ie(this,"incompatibleTokens","*")}parse(t){return iT(t)}set(t,r,s){return[Vt(t,s),{timestampIsSet:!0}]}}const sO={G:new b8,y:new E8,Y:new N8,R:new S8,u:new T8,Q:new C8,q:new j8,M:new k8,L:new I8,w:new P8,I:new D8,d:new L8,D:new F8,E:new V8,e:new U8,c:new $8,i:new B8,a:new q8,b:new H8,B:new W8,h:new Y8,H:new K8,K:new Q8,k:new G8,m:new X8,s:new J8,S:new Z8,X:new eO,x:new tO,t:new nO,T:new rO},iO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oO=/^'([^]*?)'?$/,lO=/''/g,cO=/\S/,uO=/[a-zA-Z]/;function w0(n,e,t,r){var j,S,A,M,P,L,D,B;const s=m8(),i=(r==null?void 0:r.locale)??s.locale??ZS,o=(r==null?void 0:r.firstWeekContainsDate)??((S=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:S.firstWeekContainsDate)??s.firstWeekContainsDate??((M=(A=s.locale)==null?void 0:A.options)==null?void 0:M.firstWeekContainsDate)??1,u=(r==null?void 0:r.weekStartsOn)??((L=(P=r==null?void 0:r.locale)==null?void 0:P.options)==null?void 0:L.weekStartsOn)??s.weekStartsOn??((B=(D=s.locale)==null?void 0:D.options)==null?void 0:B.weekStartsOn)??0;if(e==="")return n===""?ke(t):Vt(t,NaN);const h={firstWeekContainsDate:o,weekStartsOn:u,locale:i},p=[new _8],g=e.match(aO).map(R=>{const T=R[0];if(T in Cp){const k=Cp[T];return k(R,i.formatLong)}return R}).join("").match(iO),y=[];for(let R of g){!(r!=null&&r.useAdditionalWeekYearTokens)&&rT(R)&&by(R,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&nT(R)&&by(R,e,n);const T=R[0],k=sO[T];if(k){const{incompatibleTokens:F}=k;if(Array.isArray(F)){const U=y.find(V=>F.includes(V.token)||V.token===T);if(U)throw new RangeError(`The format string mustn't contain \`${U.fullToken}\` and \`${R}\` at the same time`)}else if(k.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);y.push({token:T,fullToken:R});const $=k.run(n,R,i.match,h);if(!$)return Vt(t,NaN);p.push($.setter),n=$.rest}else{if(T.match(uO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(R==="''"?R="'":T==="'"&&(R=dO(R)),n.indexOf(R)===0)n=n.slice(R.length);else return Vt(t,NaN)}}if(n.length>0&&cO.test(n))return Vt(t,NaN);const x=p.map(R=>R.priority).sort((R,T)=>T-R).filter((R,T,k)=>k.indexOf(R)===T).map(R=>p.filter(T=>T.priority===R).sort((T,k)=>k.subPriority-T.subPriority)).map(R=>R[0]);let _=ke(t);if(isNaN(_.getTime()))return Vt(t,NaN);const E={};for(const R of x){if(!R.validate(_,h))return Vt(t,NaN);const T=R.set(_,E,h);Array.isArray(T)?(_=T[0],Object.assign(E,T[1])):_=T}return Vt(t,_)}function dO(n){return n.match(oO)[1].replace(lO,"'")}function hO(n,e){const t=ke(n),r=ke(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function fO(n,e){const t=_y(n),r=_y(e);return+t==+r}function pO(n,e){const t=ke(n),r=ke(e);return t.getFullYear()===r.getFullYear()}function _d(n,e){const t=+ke(n),[r,s]=[+ke(e.start),+ke(e.end)].sort((i,o)=>i-o);return t>=r&&t<=s}function mO(n,e){return sa(n,-e)}function gO(n,e){const r=wO(n);let s;if(r.date){const h=_O(r.date,2);s=bO(h.restDateString,h.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,u;if(r.time&&(o=EO(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(u=NO(r.timezone),isNaN(u))return new Date(NaN)}else{const h=new Date(i+o),p=new Date(0);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return new Date(i+o+u)}const gf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wO(n){const e={},t=n.split(gf.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],gf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(gf.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const s=gf.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function _O(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function bO(n,e){if(e===null)return new Date(NaN);const t=n.match(yO);if(!t)return new Date(NaN);const r=!!t[4],s=Wu(t[1]),i=Wu(t[2])-1,o=Wu(t[3]),u=Wu(t[4]),h=Wu(t[5])-1;if(r)return kO(e,u,h)?SO(e,u,h):new Date(NaN);{const p=new Date(0);return!CO(e,i,o)||!jO(e,s)?new Date(NaN):(p.setUTCFullYear(e,i,Math.max(s,o)),p)}}function Wu(n){return n?parseInt(n):1}function EO(n){const e=n.match(vO);if(!e)return NaN;const t=_0(e[1]),r=_0(e[2]),s=_0(e[3]);return IO(t,r,s)?t*am+r*im+s*1e3:NaN}function _0(n){return n&&parseFloat(n.replace(",","."))||0}function NO(n){if(n==="Z")return 0;const e=n.match(xO);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return RO(r,s)?t*(r*am+s*im):NaN}function SO(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const TO=[31,null,31,30,31,30,31,31,30,31,30,31];function lT(n){return n%400===0||n%4===0&&n%100!==0}function CO(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(TO[e]||(lT(n)?29:28))}function jO(n,e){return e>=1&&e<=(lT(n)?366:365)}function kO(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function IO(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function RO(n,e){return e>=0&&e<=59}function Wr(n,e){const t=ke(n),r=t.getFullYear(),s=t.getDate(),i=Vt(n,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=p8(i);return t.setMonth(e,Math.min(s,o)),t}function PO(n,e){let t=ke(n);return isNaN(+t)?Vt(n,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Wr(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function Uf(n,e){const t=ke(n);return t.setHours(e),t}function $f(n,e){const t=ke(n);return t.setMinutes(e),t}function mc(n,e){const t=ke(n),r=Math.trunc(t.getMonth()/3)+1,s=e-r;return Wr(t,t.getMonth()+s*3)}function zf(n,e){const t=ke(n);return t.setSeconds(e),t}function ei(n,e){const t=ke(n);return isNaN(+t)?Vt(n,NaN):(t.setFullYear(e),t)}function Kc(n,e){return Vs(n,-e)}function cT(n,e){return rx(n,-e)}function B2(n,e){return bp(n,-e)}function Qc(n,e){return Qi(n,-e)}function lm(){return typeof window<"u"}function ou(n){return uT(n)?(n.nodeName||"").toLowerCase():"#document"}function Qr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ei(n){var e;return(e=(uT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function uT(n){return lm()?n instanceof Node||n instanceof Qr(n).Node:!1}function wr(n){return lm()?n instanceof Element||n instanceof Qr(n).Element:!1}function wi(n){return lm()?n instanceof HTMLElement||n instanceof Qr(n).HTMLElement:!1}function q2(n){return!lm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qr(n).ShadowRoot}function Wd(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=us(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function AO(n){return["table","td","th"].includes(ou(n))}function cm(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function lx(n){const e=cx(),t=wr(n)?us(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function DO(n){let e=xo(n);for(;wi(e)&&!Gc(e);){if(lx(e))return e;if(cm(e))return null;e=xo(e)}return null}function cx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gc(n){return["html","body","#document"].includes(ou(n))}function us(n){return Qr(n).getComputedStyle(n)}function um(n){return wr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function xo(n){if(ou(n)==="html")return n;const e=n.assignedSlot||n.parentNode||q2(n)&&n.host||Ei(n);return q2(e)?e.host:e}function dT(n){const e=xo(n);return Gc(e)?n.ownerDocument?n.ownerDocument.body:n.body:wi(e)&&Wd(e)?e:dT(e)}function bd(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=dT(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=Qr(s);if(i){const u=Ny(o);return e.concat(o,o.visualViewport||[],Wd(s)?s:[],u&&t?bd(u):[])}return e.concat(s,bd(s,[],t))}function Ny(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Xc=Math.min,cl=Math.max,kp=Math.round,yf=Math.floor,yi=n=>({x:n,y:n}),MO={left:"right",right:"left",bottom:"top",top:"bottom"},OO={start:"end",end:"start"};function LO(n,e,t){return cl(n,Xc(e,t))}function dm(n,e){return typeof n=="function"?n(e):n}function Jc(n){return n.split("-")[0]}function Yd(n){return n.split("-")[1]}function FO(n){return n==="x"?"y":"x"}function ux(n){return n==="y"?"height":"width"}function Ed(n){return["top","bottom"].includes(Jc(n))?"y":"x"}function dx(n){return FO(Ed(n))}function VO(n,e,t){t===void 0&&(t=!1);const r=Yd(n),s=dx(n),i=ux(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ip(o)),[o,Ip(o)]}function UO(n){const e=Ip(n);return[Sy(n),e,Sy(e)]}function Sy(n){return n.replace(/start|end/g,e=>OO[e])}function $O(n,e,t){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function zO(n,e,t,r){const s=Yd(n);let i=$O(Jc(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Sy)))),i}function Ip(n){return n.replace(/left|right|bottom|top/g,e=>MO[e])}function BO(n){return{top:0,right:0,bottom:0,left:0,...n}}function hT(n){return typeof n!="number"?BO(n):{top:n,right:n,bottom:n,left:n}}function Rp(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function H2(n,e,t){let{reference:r,floating:s}=n;const i=Ed(e),o=dx(e),u=ux(o),h=Jc(e),p=i==="y",g=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,x=r[u]/2-s[u]/2;let _;switch(h){case"top":_={x:g,y:r.y-s.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y};break;case"left":_={x:r.x-s.width,y};break;default:_={x:r.x,y:r.y}}switch(Yd(e)){case"start":_[o]-=x*(t&&p?-1:1);break;case"end":_[o]+=x*(t&&p?-1:1);break}return _}const qO=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,u=i.filter(Boolean),h=await(o.isRTL==null?void 0:o.isRTL(e));let p=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y}=H2(p,r,h),x=r,_={},E=0;for(let j=0;j<u.length;j++){const{name:S,fn:A}=u[j],{x:M,y:P,data:L,reset:D}=await A({x:g,y,initialPlacement:r,placement:x,strategy:s,middlewareData:_,rects:p,platform:o,elements:{reference:n,floating:e}});g=M??g,y=P??y,_={..._,[S]:{..._[S],...L}},D&&E<=50&&(E++,typeof D=="object"&&(D.placement&&(x=D.placement),D.rects&&(p=D.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):D.rects),{x:g,y}=H2(p,x,h)),j=-1)}return{x:g,y,placement:x,strategy:s,middlewareData:_}};async function HO(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:_=0}=dm(e,n),E=hT(_),S=u[x?y==="floating"?"reference":"floating":y],A=Rp(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(S)))==null||t?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:p,rootBoundary:g,strategy:h})),M=y==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),L=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},D=Rp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:P,strategy:h}):M);return{top:(A.top-D.top+E.top)/L.y,bottom:(D.bottom-A.bottom+E.bottom)/L.y,left:(A.left-D.left+E.left)/L.x,right:(D.right-A.right+E.right)/L.x}}const WO=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:h}=e,{element:p,padding:g=0}=dm(n,e)||{};if(p==null)return{};const y=hT(g),x={x:t,y:r},_=dx(s),E=ux(_),j=await o.getDimensions(p),S=_==="y",A=S?"top":"left",M=S?"bottom":"right",P=S?"clientHeight":"clientWidth",L=i.reference[E]+i.reference[_]-x[_]-i.floating[E],D=x[_]-i.reference[_],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(p));let R=B?B[P]:0;(!R||!await(o.isElement==null?void 0:o.isElement(B)))&&(R=u.floating[P]||i.floating[E]);const T=L/2-D/2,k=R/2-j[E]/2-1,F=Xc(y[A],k),$=Xc(y[M],k),U=F,V=R-j[E]-$,Pe=R/2-j[E]/2+T,we=LO(U,Pe,V),xe=!h.arrow&&Yd(s)!=null&&Pe!==we&&i.reference[E]/2-(Pe<U?F:$)-j[E]/2<0,ve=xe?Pe<U?Pe-U:Pe-V:0;return{[_]:x[_]+ve,data:{[_]:we,centerOffset:Pe-we-ve,...xe&&{alignmentOffset:ve}},reset:xe}}}),YO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:j=!0,...S}=dm(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const A=Jc(s),M=Ed(u),P=Jc(u)===u,L=await(h.isRTL==null?void 0:h.isRTL(p.floating)),D=x||(P||!j?[Ip(u)]:UO(u)),B=E!=="none";!x&&B&&D.push(...zO(u,j,E,L));const R=[u,...D],T=await HO(e,S),k=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&k.push(T[A]),y){const Pe=VO(s,o,L);k.push(T[Pe[0]],T[Pe[1]])}if(F=[...F,{placement:s,overflows:k}],!k.every(Pe=>Pe<=0)){var $,U;const Pe=((($=i.flip)==null?void 0:$.index)||0)+1,we=R[Pe];if(we)return{data:{index:Pe,overflows:F},reset:{placement:we}};let xe=(U=F.filter(ve=>ve.overflows[0]<=0).sort((ve,Q)=>ve.overflows[1]-Q.overflows[1])[0])==null?void 0:U.placement;if(!xe)switch(_){case"bestFit":{var V;const ve=(V=F.filter(Q=>{if(B){const le=Ed(Q.placement);return le===M||le==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(le=>le>0).reduce((le,ce)=>le+ce,0)]).sort((Q,le)=>Q[1]-le[1])[0])==null?void 0:V[0];ve&&(xe=ve);break}case"initialPlacement":xe=u;break}if(s!==xe)return{reset:{placement:xe}}}return{}}}};async function KO(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Jc(t),u=Yd(t),h=Ed(t)==="y",p=["left","top"].includes(o)?-1:1,g=i&&h?-1:1,y=dm(e,n);let{mainAxis:x,crossAxis:_,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof E=="number"&&(_=u==="end"?E*-1:E),h?{x:_*g,y:x*p}:{x:x*p,y:_*g}}const QO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:u}=e,h=await KO(e,n);return o===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:o}}}}};function fT(n){const e=us(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=wi(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,u=kp(t)!==i||kp(r)!==o;return u&&(t=i,r=o),{width:t,height:r,$:u}}function hx(n){return wr(n)?n:n.contextElement}function Ec(n){const e=hx(n);if(!wi(e))return yi(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=fT(e);let o=(i?kp(t.width):t.width)/r,u=(i?kp(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const GO=yi(0);function pT(n){const e=Qr(n);return!cx()||!e.visualViewport?GO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XO(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qr(n)?!1:e}function wl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=hx(n);let o=yi(1);e&&(r?wr(r)&&(o=Ec(r)):o=Ec(n));const u=XO(i,t,r)?pT(i):yi(0);let h=(s.left+u.x)/o.x,p=(s.top+u.y)/o.y,g=s.width/o.x,y=s.height/o.y;if(i){const x=Qr(i),_=r&&wr(r)?Qr(r):r;let E=x,j=Ny(E);for(;j&&r&&_!==E;){const S=Ec(j),A=j.getBoundingClientRect(),M=us(j),P=A.left+(j.clientLeft+parseFloat(M.paddingLeft))*S.x,L=A.top+(j.clientTop+parseFloat(M.paddingTop))*S.y;h*=S.x,p*=S.y,g*=S.x,y*=S.y,h+=P,p+=L,E=Qr(j),j=Ny(E)}}return Rp({width:g,height:y,x:h,y:p})}function fx(n,e){const t=um(n).scrollLeft;return e?e.left+t:wl(Ei(n)).left+t}function mT(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:fx(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function JO(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=Ei(r),u=e?cm(e.floating):!1;if(r===o||u&&i)return t;let h={scrollLeft:0,scrollTop:0},p=yi(1);const g=yi(0),y=wi(r);if((y||!y&&!i)&&((ou(r)!=="body"||Wd(o))&&(h=um(r)),wi(r))){const _=wl(r);p=Ec(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const x=o&&!y&&!i?mT(o,h,!0):yi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+x.x,y:t.y*p.y-h.scrollTop*p.y+g.y+x.y}}function ZO(n){return Array.from(n.getClientRects())}function eL(n){const e=Ei(n),t=um(n),r=n.ownerDocument.body,s=cl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=cl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+fx(n);const u=-t.scrollTop;return us(r).direction==="rtl"&&(o+=cl(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}function tL(n,e){const t=Qr(n),r=Ei(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,h=0;if(s){i=s.width,o=s.height;const p=cx();(!p||p&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}return{width:i,height:o,x:u,y:h}}function nL(n,e){const t=wl(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=wi(n)?Ec(n):yi(1),o=n.clientWidth*i.x,u=n.clientHeight*i.y,h=s*i.x,p=r*i.y;return{width:o,height:u,x:h,y:p}}function W2(n,e,t){let r;if(e==="viewport")r=tL(n,t);else if(e==="document")r=eL(Ei(n));else if(wr(e))r=nL(e,t);else{const s=pT(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Rp(r)}function gT(n,e){const t=xo(n);return t===e||!wr(t)||Gc(t)?!1:us(t).position==="fixed"||gT(t,e)}function rL(n,e){const t=e.get(n);if(t)return t;let r=bd(n,[],!1).filter(u=>wr(u)&&ou(u)!=="body"),s=null;const i=us(n).position==="fixed";let o=i?xo(n):n;for(;wr(o)&&!Gc(o);){const u=us(o),h=lx(o);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wd(o)&&!h&&gT(n,o))?r=r.filter(g=>g!==o):s=u,o=xo(o)}return e.set(n,r),r}function sL(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?cm(e)?[]:rL(e,this._c):[].concat(t),r],u=o[0],h=o.reduce((p,g)=>{const y=W2(e,g,s);return p.top=cl(y.top,p.top),p.right=Xc(y.right,p.right),p.bottom=Xc(y.bottom,p.bottom),p.left=cl(y.left,p.left),p},W2(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function iL(n){const{width:e,height:t}=fT(n);return{width:e,height:t}}function aL(n,e,t){const r=wi(e),s=Ei(e),i=t==="fixed",o=wl(n,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=yi(0);if(r||!r&&!i)if((ou(e)!=="body"||Wd(s))&&(u=um(e)),r){const x=wl(e,!0,i,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else s&&(h.x=fx(s));const p=s&&!r&&!i?mT(s,u):yi(0),g=o.left+u.scrollLeft-h.x-p.x,y=o.top+u.scrollTop-h.y-p.y;return{x:g,y,width:o.width,height:o.height}}function b0(n){return us(n).position==="static"}function Y2(n,e){if(!wi(n)||us(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ei(n)===t&&(t=t.ownerDocument.body),t}function yT(n,e){const t=Qr(n);if(cm(n))return t;if(!wi(n)){let s=xo(n);for(;s&&!Gc(s);){if(wr(s)&&!b0(s))return s;s=xo(s)}return t}let r=Y2(n,e);for(;r&&AO(r)&&b0(r);)r=Y2(r,e);return r&&Gc(r)&&b0(r)&&!lx(r)?t:r||DO(n)||t}const oL=async function(n){const e=this.getOffsetParent||yT,t=this.getDimensions,r=await t(n.floating);return{reference:aL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lL(n){return us(n).direction==="rtl"}const cL={convertOffsetParentRelativeRectToViewportRelativeRect:JO,getDocumentElement:Ei,getClippingRect:sL,getOffsetParent:yT,getElementRects:oL,getClientRects:ZO,getDimensions:iL,getScale:Ec,isElement:wr,isRTL:lL};function uL(n,e){let t=null,r;const s=Ei(n);function i(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function o(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const{left:p,top:g,width:y,height:x}=n.getBoundingClientRect();if(u||e(),!y||!x)return;const _=yf(g),E=yf(s.clientWidth-(p+y)),j=yf(s.clientHeight-(g+x)),S=yf(p),M={rootMargin:-_+"px "+-E+"px "+-j+"px "+-S+"px",threshold:cl(0,Xc(1,h))||1};let P=!0;function L(D){const B=D[0].intersectionRatio;if(B!==h){if(!P)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P=!1}try{t=new IntersectionObserver(L,{...M,root:s.ownerDocument})}catch{t=new IntersectionObserver(L,M)}t.observe(n)}return o(!0),i}function dL(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=hx(n),g=s||i?[...p?bd(p):[],...bd(e)]:[];g.forEach(A=>{s&&A.addEventListener("scroll",t,{passive:!0}),i&&A.addEventListener("resize",t)});const y=p&&u?uL(p,t):null;let x=-1,_=null;o&&(_=new ResizeObserver(A=>{let[M]=A;M&&M.target===p&&_&&(_.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var P;(P=_)==null||P.observe(e)})),t()}),p&&!h&&_.observe(p),_.observe(e));let E,j=h?wl(n):null;h&&S();function S(){const A=wl(n);j&&(A.x!==j.x||A.y!==j.y||A.width!==j.width||A.height!==j.height)&&t(),j=A,E=requestAnimationFrame(S)}return t(),()=>{var A;g.forEach(M=>{s&&M.removeEventListener("scroll",t),i&&M.removeEventListener("resize",t)}),y==null||y(),(A=_)==null||A.disconnect(),_=null,h&&cancelAnimationFrame(E)}}const hL=QO,fL=YO,K2=WO,pL=(n,e,t)=>{const r=new Map,s={platform:cL,...t},i={...s.platform,_c:r};return qO(n,e,{...s,platform:i})};var Bf=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Pp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Pp(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Pp(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function vT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Q2(n,e){const t=vT(n);return Math.round(e*t)/t}function E0(n){const e=C.useRef(n);return Bf(()=>{e.current=n}),e}function mL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:h,open:p}=n,[g,y]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,_]=C.useState(r);Pp(x,r)||_(r);const[E,j]=C.useState(null),[S,A]=C.useState(null),M=C.useCallback(Q=>{Q!==B.current&&(B.current=Q,j(Q))},[]),P=C.useCallback(Q=>{Q!==R.current&&(R.current=Q,A(Q))},[]),L=i||E,D=o||S,B=C.useRef(null),R=C.useRef(null),T=C.useRef(g),k=h!=null,F=E0(h),$=E0(s),U=E0(p),V=C.useCallback(()=>{if(!B.current||!R.current)return;const Q={placement:e,strategy:t,middleware:x};$.current&&(Q.platform=$.current),pL(B.current,R.current,Q).then(le=>{const ce={...le,isPositioned:U.current!==!1};Pe.current&&!Pp(T.current,ce)&&(T.current=ce,$y.flushSync(()=>{y(ce)}))})},[x,e,t,$,U]);Bf(()=>{p===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,y(Q=>({...Q,isPositioned:!1})))},[p]);const Pe=C.useRef(!1);Bf(()=>(Pe.current=!0,()=>{Pe.current=!1}),[]),Bf(()=>{if(L&&(B.current=L),D&&(R.current=D),L&&D){if(F.current)return F.current(L,D,V);V()}},[L,D,V,F,k]);const we=C.useMemo(()=>({reference:B,floating:R,setReference:M,setFloating:P}),[M,P]),xe=C.useMemo(()=>({reference:L,floating:D}),[L,D]),ve=C.useMemo(()=>{const Q={position:t,left:0,top:0};if(!xe.floating)return Q;const le=Q2(xe.floating,g.x),ce=Q2(xe.floating,g.y);return u?{...Q,transform:"translate("+le+"px, "+ce+"px)",...vT(xe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:ce}},[t,u,xe.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:V,refs:we,elements:xe,floatingStyles:ve}),[g,V,we,xe,ve])}const gL=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?K2({element:r.current,padding:s}).fn(t):{}:r?K2({element:r,padding:s}).fn(t):{}}}},yL=(n,e)=>({...hL(n),options:[n,e]}),vL=(n,e)=>({...fL(n),options:[n,e]}),xL=(n,e)=>({...gL(n),options:[n,e]}),xT={...ij},wL=xT.useInsertionEffect,_L=wL||(n=>n());function bL(n){const e=C.useRef(()=>{});return _L(()=>{e.current=n}),C.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var Ap=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Ty(){return Ty=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ty.apply(this,arguments)}let G2=!1,EL=0;const X2=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+EL++;function NL(){const[n,e]=C.useState(()=>G2?X2():void 0);return Ap(()=>{n==null&&e(X2())},[]),C.useEffect(()=>{G2=!0},[]),n}const SL=xT.useId,wT=SL||NL,TL=C.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:u=14,height:h=7,tipRadius:p=0,strokeWidth:g=0,staticOffset:y,stroke:x,d:_,style:{transform:E,...j}={},...S}=e,A=wT(),[M,P]=C.useState(!1);if(Ap(()=>{if(!s)return;us(s).direction==="rtl"&&P(!0)},[s]),!s)return null;const[L,D]=r.split("-"),B=L==="top"||L==="bottom";let R=y;(B&&o!=null&&o.x||!B&&o!=null&&o.y)&&(R=null);const T=g*2,k=T/2,F=u/2*(p/-8+1),$=h/2*p/4,U=!!_,V=R&&D==="end"?"bottom":"top";let Pe=R&&D==="end"?"right":"left";R&&M&&(Pe=D==="end"?"left":"right");const we=(i==null?void 0:i.x)!=null?R||i.x:"",xe=(i==null?void 0:i.y)!=null?R||i.y:"",ve=_||"M0,0"+(" H"+u)+(" L"+(u-F)+","+(h-$))+(" Q"+u/2+","+h+" "+F+","+(h-$))+" Z",Q={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[L];return C.createElement("svg",Ty({},S,{"aria-hidden":!0,ref:t,width:U?u:u+T,height:u,viewBox:"0 0 "+u+" "+(h>u?h:u),style:{position:"absolute",pointerEvents:"none",[Pe]:we,[V]:xe,[L]:B||U?"100%":"calc(100% - "+T/2+"px)",transform:[Q,E].filter(le=>!!le).join(" "),...j}}),T>0&&C.createElement("path",{clipPath:"url(#"+A+")",fill:"none",stroke:x,strokeWidth:T+(_?0:1),d:ve}),C.createElement("path",{stroke:T&&!_?S.fill:"none",d:ve}),C.createElement("clipPath",{id:A},C.createElement("rect",{x:-k,y:k*(U?-1:1),width:u+T,height:u})))});function CL(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(s=>s!==t))||[])}}}const jL=C.createContext(null),kL=C.createContext(null),IL=()=>{var n;return((n=C.useContext(jL))==null?void 0:n.id)||null},RL=()=>C.useContext(kL);function PL(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=wT(),i=C.useRef({}),[o]=C.useState(()=>CL()),u=IL()!=null,[h,p]=C.useState(r.reference),g=bL((_,E,j)=>{i.current.openEvent=_?E:void 0,o.emit("openchange",{open:_,event:E,reason:j,nested:u}),t==null||t(_,E,j)}),y=C.useMemo(()=>({setPositionReference:p}),[]),x=C.useMemo(()=>({reference:h||r.reference||null,floating:r.floating||null,domReference:r.reference}),[h,r.reference,r.floating]);return C.useMemo(()=>({dataRef:i,open:e,onOpenChange:g,elements:x,events:o,floatingId:s,refs:y}),[e,g,x,o,s,y])}function AL(n){n===void 0&&(n={});const{nodeId:e}=n,t=PL({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[i,o]=C.useState(null),[u,h]=C.useState(null),g=(s==null?void 0:s.domReference)||i,y=C.useRef(null),x=RL();Ap(()=>{g&&(y.current=g)},[g]);const _=mL({...n,elements:{...s,...u&&{reference:u}}}),E=C.useCallback(P=>{const L=wr(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;h(L),_.refs.setReference(L)},[_.refs]),j=C.useCallback(P=>{(wr(P)||P===null)&&(y.current=P,o(P)),(wr(_.refs.reference.current)||_.refs.reference.current===null||P!==null&&!wr(P))&&_.refs.setReference(P)},[_.refs]),S=C.useMemo(()=>({..._.refs,setReference:j,setPositionReference:E,domReference:y}),[_.refs,j,E]),A=C.useMemo(()=>({..._.elements,domReference:g}),[_.elements,g]),M=C.useMemo(()=>({..._,...r,refs:S,elements:A,nodeId:e}),[_,S,A,e,r]);return Ap(()=>{r.dataRef.current.floatingContext=M;const P=x==null?void 0:x.nodesRef.current.find(L=>L.id===e);P&&(P.context=M)}),C.useMemo(()=>({..._,context:M,refs:S,elements:A}),[_,S,A,M])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Cy=function(e,t){return Cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},Cy(e,t)};function On(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Tt=function(){return Tt=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Tt.apply(this,arguments)};function li(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var DL=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,s=r===void 0?!1:r,i=n.className,o=n.children,u=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return re.createElement("div",{className:i,role:"dialog","aria-label":u,"aria-modal":"true"},o)},ML=function(n,e){var t=C.useRef(null),r=C.useRef(n);r.current=n;var s=C.useCallback(function(i){var o;t.current&&!t.current.contains(i.target)&&(e&&i.target instanceof HTMLElement&&i.target.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,i))},[e]);return C.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},hm=function(n){var e=n.children,t=n.onClickOutside,r=n.className,s=n.containerRef,i=n.style,o=n.ignoreClass,u=ML(t,o);return re.createElement("div",{className:r,style:i,ref:function(h){u.current=h,s&&(s.current=h)}},e)},be;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(be||(be={}));function _T(){var n=typeof window<"u"?window:globalThis;return n}var Kd=12,OL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ut(n){if(n==null)return new Date;var e=typeof n=="string"?gO(n):ke(n);return qi(e)?e:new Date}function N0(n,e,t,r,s){var i,o=null,u=ul(t)||ul(cd()),h=!0;if(Array.isArray(e))return e.forEach(function(g){var y=w0(n,g,new Date,{locale:u,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(h=qi(y,s)&&n===Jt(y,g,t)),qi(y,s)&&h&&(o=y)}),o;if(o=w0(n,e,new Date,{locale:u,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)h=qi(o)&&n===Jt(o,e,t);else if(!qi(o)){var p=((i=e.match(OL))!==null&&i!==void 0?i:[]).map(function(g){var y=g[0];if(y==="p"||y==="P"){var x=Cp[y];return u?x(g,u.formatLong):y}return g}).join("");n.length>0&&(o=w0(n,p.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),qi(o)||(o=new Date(n))}return qi(o)&&h?o:null}function qi(n,e){return Ep(n)&&!xl(n,e??new Date("1/1/1800"))}function Jt(n,e,t){if(t==="en")return $2(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?ul(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&cd()&&ul(cd())&&(r=ul(cd())),$2(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ls(n,e){var t=e.dateFormat,r=e.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Jt(n,s,r)||""}function LL(n,e,t){if(!n)return"";var r=ls(n,t),s=e?ls(e,t):"";return"".concat(r," - ").concat(s)}function FL(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?ls(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=ls(n[1],e);return"".concat(t,", ").concat(r)}var s=n.length-1;return"".concat(t," (+").concat(s,")")}function S0(n,e){var t=e.hour,r=t===void 0?0:t,s=e.minute,i=s===void 0?0:s,o=e.second,u=o===void 0?0:o;return Uf($f(zf(n,u),i),r)}function VL(n){return sx(n)}function UL(n,e){return Jt(n,"ddd",e)}function qf(n){return vl(n)}function co(n,e,t){var r=ul(e||cd());return ia(n,{locale:r,weekStartsOn:t})}function Ji(n){return XS(n)}function td(n){return om(n)}function J2(n){return _y(n)}function Z2(){return vl(Ut())}function eb(n){return QS(n)}function $L(n){return _6(n)}function zL(n){return GS(n)}function ii(n,e){return n&&e?pO(n,e):!n&&!e}function yr(n,e){return n&&e?hO(n,e):!n&&!e}function Dp(n,e){return n&&e?fO(n,e):!n&&!e}function bt(n,e){return n&&e?x6(n,e):!n&&!e}function Zo(n,e){return n&&e?y8(n,e):!n&&!e}function nd(n,e,t){var r,s=vl(e),i=QS(t);try{r=_d(n,{start:s,end:i})}catch{r=!1}return r}function cd(){var n=_T();return n.__localeId__}function ul(n){if(typeof n=="string"){var e=_T();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function BL(n,e,t){return e(Jt(n,"EEEE",t))}function qL(n,e){return Jt(n,"EEEEEE",e)}function HL(n,e){return Jt(n,"EEE",e)}function px(n,e){return Jt(Wr(Ut(),n),"LLLL",e)}function bT(n,e){return Jt(Wr(Ut(),n),"LLL",e)}function WL(n,e){return Jt(mc(Ut(),n),"QQQ",e)}function cs(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.excludeDateIntervals,u=t.includeDates,h=t.includeDateIntervals,p=t.filterDate;return Qd(n,{minDate:r,maxDate:s})||i&&i.some(function(g){return g instanceof Date?bt(n,g):bt(n,g.date)})||o&&o.some(function(g){var y=g.start,x=g.end;return _d(n,{start:y,end:x})})||u&&!u.some(function(g){return bt(n,g)})||h&&!h.some(function(g){var y=g.start,x=g.end;return _d(n,{start:y,end:x})})||p&&!p(Ut(n))||!1}function mx(n,e){var t=e===void 0?{}:e,r=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,u=i.end;return _d(n,{start:o,end:u})}):r&&r.some(function(i){var o;return i instanceof Date?bt(n,i):bt(n,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function ET(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,u=t.filterDate;return Qd(n,{minDate:r?XS(r):void 0,maxDate:s?GS(s):void 0})||(i==null?void 0:i.some(function(h){return yr(n,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return yr(n,h)})||u&&!u(Ut(n))||!1}function vf(n,e,t,r){var s=ut(n),i=xr(n),o=ut(e),u=xr(e),h=ut(r);return s===o&&s===h?i<=t&&t<=u:s<o?h===s&&i<=t||h===o&&u>=t||h<o&&h>s:!1}function YL(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates;return Qd(n,{minDate:r,maxDate:s})||i&&i.some(function(u){return yr(u instanceof Date?u:u.date,n)})||o&&!o.some(function(u){return yr(u,n)})||!1}function xf(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,u=t.filterDate;return Qd(n,{minDate:r,maxDate:s})||(i==null?void 0:i.some(function(h){return Dp(n,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return Dp(n,h)})||u&&!u(Ut(n))||!1}function wf(n,e,t){if(!e||!t||!Ep(e)||!Ep(t))return!1;var r=ut(e),s=ut(t);return r<=n&&s>=n}function Hf(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.maxDate,i=t.excludeDates,o=t.includeDates,u=t.filterDate,h=new Date(n,0,1);return Qd(h,{minDate:r?om(r):void 0,maxDate:s?JS(s):void 0})||(i==null?void 0:i.some(function(p){return ii(h,p instanceof Date?p:p.date)}))||o&&!o.some(function(p){return ii(h,p)})||u&&!u(Ut(h))||!1}function _f(n,e,t,r){var s=ut(n),i=ll(n),o=ut(e),u=ll(e),h=ut(r);return s===o&&s===h?i<=t&&t<=u:s<o?h===s&&i<=t||h===o&&u>=t||h<o&&h>s:!1}function Qd(n,e){var t,r=e===void 0?{}:e,s=r.minDate,i=r.maxDate;return(t=s&&Yc(n,s)<0||i&&Yc(n,i)>0)!==null&&t!==void 0?t:!1}function tb(n,e){return e.some(function(t){return mi(t)===mi(n)&&gi(t)===gi(n)&&Xi(t)===Xi(n)})}function nb(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return r&&tb(n,r)||s&&!tb(n,s)||i&&!i(n)||!1}function rb(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var s=Ut();s=Uf(s,mi(n)),s=$f(s,gi(n)),s=zf(s,Xi(n));var i=Ut();i=Uf(i,mi(t)),i=$f(i,gi(t)),i=zf(i,Xi(t));var o=Ut();o=Uf(o,mi(r)),o=$f(o,gi(r)),o=zf(o,Xi(r));var u;try{u=!_d(s,{start:i,end:o})}catch{u=!1}return u}function sb(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=Kc(n,1);return r&&Np(r,i)>0||s&&s.every(function(o){return Np(o,i)>0})||!1}function ib(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=Vs(n,1);return r&&Np(i,r)>0||s&&s.every(function(o){return Np(i,o)>0})||!1}function KL(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=om(n),o=cT(i,1);return r&&Sp(r,o)>0||s&&s.every(function(u){return Sp(u,o)>0})||!1}function QL(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=JS(n),o=rx(i,1);return r&&Sp(o,r)>0||s&&s.every(function(u){return Sp(o,u)>0})||!1}function ab(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.includeDates,i=Qc(n,1);return r&&Tp(r,i)>0||s&&s.every(function(o){return Tp(o,i)>0})||!1}function GL(n,e){var t=e===void 0?{}:e,r=t.minDate,s=t.yearItemNumber,i=s===void 0?Kd:s,o=td(Qc(n,i)),u=so(o,i).endPeriod,h=r&&ut(r);return h&&h>u||!1}function ob(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.includeDates,i=Qi(n,1);return r&&Tp(i,r)>0||s&&s.every(function(o){return Tp(i,o)>0})||!1}function XL(n,e){var t=e===void 0?{}:e,r=t.maxDate,s=t.yearItemNumber,i=s===void 0?Kd:s,o=Qi(n,i),u=so(o,i).startPeriod,h=r&&ut(r);return h&&h<u||!1}function NT(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return Yc(s,e)>=0});return M2(r)}else return t?M2(t):e}function ST(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(s){return Yc(s,e)<=0});return D2(r)}else return t?D2(t):e}function lb(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,s=0,i=n.length;s<i;s++){var o=n[s];if(Gi(o)){var u=Jt(o,"MM.dd.yyyy"),h=r.get(u)||[];h.includes(e)||(h.push(e),r.set(u,h))}else if(typeof o=="object"){var p=Object.keys(o),g=(t=p[0])!==null&&t!==void 0?t:"",y=o[g];if(typeof g=="string"&&Array.isArray(y))for(var x=0,_=y.length;x<_;x++){var E=y[x];if(E){var u=Jt(E,"MM.dd.yyyy"),h=r.get(u)||[];h.includes(g)||(h.push(g),r.set(u,h))}}}}return r}function JL(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function ZL(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var s=r.date,i=r.holidayName;if(Gi(s)){var o=Jt(s,"MM.dd.yyyy"),u=t.get(o)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&JL(u.holidayNames,[i]))){u.className=e;var h=u.holidayNames;u.holidayNames=h?li(li([],h,!0),[i],!1):[i],t.set(o,u)}}}),t}function e9(n,e,t,r,s){for(var i=s.length,o=[],u=0;u<i;u++){var h=n,p=s[u];p&&(h=m6(h,mi(p)),h=wy(h,gi(p)),h=v6(h,Xi(p)));var g=wy(n,(t+1)*r);vo(h,e)&&xl(h,g)&&p!=null&&o.push(p)}return o}function cb(n){return n<10?"0".concat(n):"".concat(n)}function so(n,e){e===void 0&&(e=Kd);var t=Math.ceil(ut(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function t9(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function ub(n){var e=n.getSeconds(),t=n.getMilliseconds();return ke(n.getTime()-e*1e3-t)}function n9(n,e){return ub(n).getTime()===ub(e).getTime()}function db(n){if(!Gi(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function hb(n,e){if(!Gi(n)||!Gi(e))throw new Error("Invalid date received");var t=db(n),r=db(e);return xl(t,r)}function TT(n){return n.key===be.Space}var r9=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=re.createRef(),r.onTimeChange=function(s){var i,o;r.setState({time:s});var u=r.props.date,h=u instanceof Date&&!isNaN(+u),p=h?u:new Date;if(s!=null&&s.includes(":")){var g=s.split(":"),y=g[0],x=g[1];p.setHours(Number(y)),p.setMinutes(Number(x))}(o=(i=r.props).onChange)===null||o===void 0||o.call(i,p)},r.renderTimeInput=function(){var s=r.state.time,i=r.props,o=i.date,u=i.timeString,h=i.customTimeInput;return h?C.cloneElement(h,{date:o,value:s,onChange:r.onTimeChange}):re.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var p;(p=r.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:s,onChange:function(p){r.onTimeChange(p.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return re.createElement("div",{className:"react-datepicker__input-time-container"},re.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),re.createElement("div",{className:"react-datepicker-time__input-container"},re.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(C.Component),s9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=C.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var s,i,o=r.key;o===be.Space&&(r.preventDefault(),r.key=be.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},t.isSameDay=function(r){return bt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),cs(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return mx(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return bt(t.props.day,co(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&bt(r,co(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,s=r.day,i=r.highlightDates;if(!i)return!1;var o=Jt(s,"MM.dd.yyyy");return i.get(o)},t.getHolidaysClass=function(){var r,s=t.props,i=s.day,o=s.holidays;if(!o)return[void 0];var u=Jt(i,"MM.dd.yyyy");return o.has(u)?[(r=o.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:nd(s,i,o)},t.isInSelectingRange=function(){var r,s=t.props,i=s.day,o=s.selectsStart,u=s.selectsEnd,h=s.selectsRange,p=s.selectsDisabledDaysInRange,g=s.startDate,y=s.endDate,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(o||u||h)||!x||!p&&t.isDisabled()?!1:o&&y&&(xl(x,y)||Zo(x,y))?nd(i,x,y):u&&g&&(vo(x,g)||Zo(x,g))||h&&g&&!y&&(vo(x,g)||Zo(x,g))?nd(i,g,x):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.startDate,u=s.selectsStart,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?bt(i,h):bt(i,o)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,o=s.endDate,u=s.selectsEnd,h=s.selectsRange,p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||h?bt(i,p):bt(i,o)},t.isRangeStart=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:bt(i,s)},t.isRangeEnd=function(){var r=t.props,s=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:bt(o,s)},t.isWeekend=function(){var r=f8(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===xr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(xr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Ut())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var s=t.props.dayClassName?t.props.dayClassName(r):void 0;return Mn("react-datepicker__day",s,"react-datepicker__day--"+UL(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,s=r.day,i=r.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,u=r.ariaLabelPrefixWhenDisabled,h=u===void 0?"Not available":u,p=t.isDisabled()||t.isExcluded()?h:o;return"".concat(p," ").concat(Jt(s,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,s=r.day,i=r.holidays,o=i===void 0?new Map:i,u=r.excludeDates,h=Jt(s,"MM.dd.yyyy"),p=[];return o.has(h)&&p.push.apply(p,o.get(h).holidayNames),t.isExcluded()&&p.push(u==null?void 0:u.filter(function(g){return g instanceof Date?bt(g,s):bt(g==null?void 0:g.date,s)}).map(function(g){if(!(g instanceof Date))return g==null?void 0:g.message})),p.join(", ")},t.getTabIndex=function(){var r=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&bt(s,r))?0:-1;return i},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(z2(t.props.day),t.props.day):z2(t.props.day)},t.render=function(){return re.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&re.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,s;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(C.Component),i9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=C.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var s,i,o=r.key;o===be.Space&&(r.preventDefault(),r.key=be.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!bt(t.props.date,t.props.selected)&&bt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||bt(t.props.date,t.props.selected)&&bt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var s=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&bt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,s=t.ariaLabelPrefix,i=s===void 0?e.defaultProps.ariaLabelPrefix:s,o=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&bt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return re.createElement("div",{ref:this.weekNumberEl,className:Mn(u),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(C.Component),a9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return cs(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,s){t.props.onDayClick&&t.props.onDayClick(r,s)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,s,i){for(var o,u,h,p=new Date(r),g=0;g<7;g++){var y=new Date(r);y.setDate(y.getDate()+g);var x=!t.isDisabled(y);if(x){p=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,s,i),t.props.showWeekPicker&&t.handleDayClick(p,i),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((h=(u=t.props).setOpen)===null||h===void 0||h.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):VL(r)},t.renderDays=function(){var r=t.startOfWeek(),s=[],i=t.formatWeekNumber(r);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,i):void 0;s.push(re.createElement(i9,Tt({key:"W"},e.defaultProps,t.props,{weekNumber:i,date:r,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(u){var h=sa(r,u);return re.createElement(s9,Tt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return co(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!bt(t.startOfWeek(),t.props.selected)&&bt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":bt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return re.createElement("div",{className:Mn(t)},this.renderDays())},e}(C.Component),Yu,o9=6,Nc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},T0=(Yu={},Yu[Nc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Yu[Nc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Yu[Nc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Yu),bf=1;function fb(n,e){return n?Nc.FOUR_COLUMNS:e?Nc.TWO_COLUMNS:Nc.THREE_COLUMNS}var l9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=li([],Array(12),!0).map(function(){return C.createRef()}),t.QUARTER_REFS=li([],Array(4),!0).map(function(){return C.createRef()}),t.isDisabled=function(r){return cs(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return mx(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,s){var i,o;(o=(i=t.props).onDayClick)===null||o===void 0||o.call(i,r,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,r)},t.handleMouseLeave=function(){var r,s;(s=(r=t.props).onMouseLeave)===null||s===void 0||s.call(r)},t.isRangeStartMonth=function(r){var s=t.props,i=s.day,o=s.startDate,u=s.endDate;return!o||!u?!1:yr(Wr(i,r),o)},t.isRangeStartQuarter=function(r){var s=t.props,i=s.day,o=s.startDate,u=s.endDate;return!o||!u?!1:Dp(mc(i,r),o)},t.isRangeEndMonth=function(r){var s=t.props,i=s.day,o=s.startDate,u=s.endDate;return!o||!u?!1:yr(Wr(i,r),u)},t.isRangeEndQuarter=function(r){var s=t.props,i=s.day,o=s.startDate,u=s.endDate;return!o||!u?!1:Dp(mc(i,r),u)},t.isInSelectingRangeMonth=function(r){var s,i=t.props,o=i.day,u=i.selectsStart,h=i.selectsEnd,p=i.selectsRange,g=i.startDate,y=i.endDate,x=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(u||h||p)||!x?!1:u&&y?vf(x,y,r,o):h&&g||p&&g&&!y?vf(g,x,r,o):!1},t.isSelectingMonthRangeStart=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var i=t.props,o=i.day,u=i.startDate,h=i.selectsStart,p=Wr(o,r),g=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return h?yr(p,g):yr(p,u)},t.isSelectingMonthRangeEnd=function(r){var s;if(!t.isInSelectingRangeMonth(r))return!1;var i=t.props,o=i.day,u=i.endDate,h=i.selectsEnd,p=i.selectsRange,g=Wr(o,r),y=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return h||p?yr(g,y):yr(g,u)},t.isInSelectingRangeQuarter=function(r){var s,i=t.props,o=i.day,u=i.selectsStart,h=i.selectsEnd,p=i.selectsRange,g=i.startDate,y=i.endDate,x=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(u||h||p)||!x?!1:u&&y?_f(x,y,r,o):h&&g||p&&g&&!y?_f(g,x,r,o):!1},t.isWeekInMonth=function(r){var s=t.props.day,i=sa(r,6);return yr(r,s)||yr(i,s)},t.isCurrentMonth=function(r,s){return ut(r)===ut(Ut())&&s===xr(Ut())},t.isCurrentQuarter=function(r,s){return ut(r)===ut(Ut())&&s===ll(Ut())},t.isSelectedMonth=function(r,s,i){return xr(i)===s&&ut(r)===ut(i)},t.isSelectMonthInList=function(r,s,i){return i.some(function(o){return t.isSelectedMonth(r,s,o)})},t.isSelectedQuarter=function(r,s,i){return ll(r)===s&&ut(r)===ut(i)},t.renderWeeks=function(){for(var r=[],s=t.props.fixedHeight,i=0,o=!1,u=co(Ji(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(E){return t.props.showWeekPicker?co(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(E){return t.props.showWeekPicker?co(E,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?p(t.props.selected):void 0,y=t.props.preSelection?h(t.props.preSelection):void 0;r.push(re.createElement(a9,Tt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:u,month:xr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!o;){i++,u=bp(u,1);var x=s&&i>=o9,_=!s&&!t.isWeekInMonth(u);if(x||_)if(t.props.peekNextMonth)o=!0;else break}return r},t.onMonthClick=function(r,s){var i=t.isMonthDisabledForLabelDate(s),o=i.isDisabled,u=i.labelDate;o||t.handleDayClick(Ji(u),r)},t.onMonthMouseEnter=function(r){var s=t.isMonthDisabledForLabelDate(r),i=s.isDisabled,o=s.labelDate;i||t.handleDayMouseEnter(Ji(o))},t.handleMonthNavigation=function(r,s){var i,o,u,h;(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(h=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(r,s,i){var o,u=t.props,h=u.selected,p=u.preSelection,g=u.setPreSelection,y=u.minDate,x=u.maxDate,_=u.showFourColumnMonthYearPicker,E=u.showTwoColumnMonthYearPicker;if(p){var j=fb(_,E),S=t.getVerticalOffset(j),A=(o=T0[j])===null||o===void 0?void 0:o.grid,M=function(R,T,k){var F,$,U=T,V=k;switch(R){case be.ArrowRight:U=Vs(T,bf),V=k===11?0:k+bf;break;case be.ArrowLeft:U=Kc(T,bf),V=k===0?11:k-bf;break;case be.ArrowUp:U=Kc(T,S),V=!((F=A==null?void 0:A[0])===null||F===void 0)&&F.includes(k)?k+12-S:k-S;break;case be.ArrowDown:U=Vs(T,S),V=!(($=A==null?void 0:A[A.length-1])===null||$===void 0)&&$.includes(k)?k-12+S:k+S;break}return{newCalculatedDate:U,newCalculatedMonth:V}},P=function(R,T,k){for(var F=40,$=R,U=!1,V=0,Pe=M($,T,k),we=Pe.newCalculatedDate,xe=Pe.newCalculatedMonth;!U;){if(V>=F){we=T,xe=k;break}if(y&&we<y){$=be.ArrowRight;var ve=M($,we,xe);we=ve.newCalculatedDate,xe=ve.newCalculatedMonth}if(x&&we>x){$=be.ArrowLeft;var ve=M($,we,xe);we=ve.newCalculatedDate,xe=ve.newCalculatedMonth}if(YL(we,t.props)){var ve=M($,we,xe);we=ve.newCalculatedDate,xe=ve.newCalculatedMonth}else U=!0;V++}return{newCalculatedDate:we,newCalculatedMonth:xe}};if(s===be.Enter){t.isMonthDisabled(i)||(t.onMonthClick(r,i),g==null||g(h));return}var L=P(s,p,i),D=L.newCalculatedDate,B=L.newCalculatedMonth;switch(s){case be.ArrowRight:case be.ArrowLeft:case be.ArrowUp:case be.ArrowDown:t.handleMonthNavigation(B,D);break}}},t.getVerticalOffset=function(r){var s,i;return(i=(s=T0[r])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(r,s){var i=t.props,o=i.disabledKeyboardNavigation,u=i.handleOnMonthKeyDown,h=r.key;h!==be.Tab&&r.preventDefault(),o||t.handleKeyboardNavigation(r,h,s),u&&u(r)},t.onQuarterClick=function(r,s){var i=mc(t.props.day,s);xf(i,t.props)||t.handleDayClick(J2(i),r)},t.onQuarterMouseEnter=function(r){var s=mc(t.props.day,r);xf(s,t.props)||t.handleDayMouseEnter(J2(s))},t.handleQuarterNavigation=function(r,s){var i,o,u,h;t.isDisabled(s)||t.isExcluded(s)||((o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,s),(h=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(r,s){var i,o,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case be.Enter:t.onQuarterClick(r,s),(o=(i=t.props).setPreSelection)===null||o===void 0||o.call(i,t.props.selected);break;case be.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,rx(t.props.preSelection,1));break;case be.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,cT(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(r){var s,i=t.props,o=i.day,u=i.minDate,h=i.maxDate,p=i.excludeDates,g=i.includeDates,y=Wr(o,r);return{isDisabled:(s=(u||h||p||g)&&ET(y,t.props))!==null&&s!==void 0?s:!1,labelDate:y}},t.isMonthDisabled=function(r){var s=t.isMonthDisabledForLabelDate(r).isDisabled;return s},t.getMonthClassNames=function(r){var s=t.props,i=s.day,o=s.startDate,u=s.endDate,h=s.preSelection,p=s.monthClassName,g=p?p(Wr(i,r)):void 0,y=t.getSelection();return Mn("react-datepicker__month-text","react-datepicker__month-".concat(r),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(i,r,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(i,r,h)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&u?vf(o,u,r,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(i,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=xr(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,o=r===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var s=ll(t.props.preSelection),i=xf(t.props.day,t.props),o=r===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(r){var s=t.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,u=s.disabledDayAriaLabelPrefix,h=u===void 0?"Not available":u,p=s.day,g=s.locale,y=Wr(p,r),x=t.isDisabled(y)||t.isExcluded(y)?h:o;return"".concat(x," ").concat(Jt(y,"MMMM yyyy",g))},t.getQuarterClassNames=function(r){var s=t.props,i=s.day,o=s.startDate,u=s.endDate,h=s.selected,p=s.minDate,g=s.maxDate,y=s.excludeDates,x=s.includeDates,_=s.filterDate,E=s.preSelection,j=s.disabledKeyboardNavigation,S=(p||g||y||x||_)&&xf(mc(i,r),t.props);return Mn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":S,"react-datepicker__quarter-text--selected":h?t.isSelectedQuarter(i,r,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!j&&E&&t.isSelectedQuarter(i,r,E)&&!S,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&u?_f(o,u,r,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var s=t.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,u=s.locale,h=s.day,p=bT(r,u),g=px(r,u);return o?o(r,p,g,h):i?g:p},t.getQuarterContent=function(r){var s,i=t.props,o=i.renderQuarterContent,u=i.locale,h=WL(r,u);return(s=o==null?void 0:o(r,h))!==null&&s!==void 0?s:h},t.renderMonths=function(){var r,s=t.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,u=s.day,h=s.selected,p=(r=T0[fb(o,i)])===null||r===void 0?void 0:r.grid;return p==null?void 0:p.map(function(g,y){return re.createElement("div",{className:"react-datepicker__month-wrapper",key:y},g.map(function(x,_){return re.createElement("div",{ref:t.MONTH_REFS[x],key:_,onClick:function(E){t.onMonthClick(E,x)},onKeyDown:function(E){TT(E)&&(E.preventDefault(),E.key=be.Enter),t.onMonthKeyDown(E,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(u,x)?"date":void 0,"aria-selected":h?t.isSelectedMonth(u,x,h):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var r=t.props,s=r.day,i=r.selected,o=[1,2,3,4];return re.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(u,h){return re.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(p){t.onQuarterClick(p,u)},onKeyDown:function(p){t.onQuarterKeyDown(p,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":i?t.isSelectedQuarter(s,u,i):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(s,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,s=r.selectingDate,i=r.selectsStart,o=r.selectsEnd,u=r.showMonthYearPicker,h=r.showQuarterYearPicker,p=r.showWeekPicker;return Mn("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,o=t.ariaLabelPrefix,u=o===void 0?"Month ":o,h=u?u.trim()+" ":"";return re.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(Jt(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},e}(C.Component),c9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,s){return re.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?re.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return re.createElement(hm,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(C.Component),u9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(s,i){return re.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(r){return re.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,s){return re.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(r){return re.createElement(c9,Tt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,r)];return s&&i.unshift(t.renderDropdown(r)),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return bT(i,t.props.locale)}:function(i){return px(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(r);break;case"select":s=this.renderSelectMode(r);break}return re.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e}(C.Component);function d9(n,e){for(var t=[],r=Ji(n),s=Ji(e);!vo(r,s);)t.push(Ut(r)),r=Vs(r,1);return t}var h9=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(s){var i=Ey(s),o=ii(r.props.date,s)&&yr(r.props.date,s);return re.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?re.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Jt(s,r.props.dateFormat,r.props.locale))})},r.onChange=function(s){return r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:d9(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Mn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return re.createElement(hm,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(C.Component),f9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Ji(t.props.minDate),s=Ji(t.props.maxDate),i=[];!vo(r,s);){var o=Ey(r);i.push(re.createElement("option",{key:o,value:o},Jt(r,t.props.dateFormat,t.props.locale))),r=Vs(r,1)}return i},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return re.createElement("select",{value:Ey(Ji(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var s=Jt(t.props.date,t.props.dateFormat,t.props.locale);return re.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return re.createElement(h9,Tt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown();var s=Ut(r);ii(t.props.date,s)&&yr(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(C.Component),p9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(r){var s,i;(t.props.minTime||t.props.maxTime)&&rb(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nb(r,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,r)},t.isSelectedTime=function(r){return t.props.selected&&n9(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&rb(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&nb(r,t.props)},t.liClasses=function(r){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(mi(r)*3600+gi(r)*60+Xi(r))%(((s=t.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(r,s){var i,o;r.key===be.Space&&(r.preventDefault(),r.key=be.Enter),(r.key===be.ArrowUp||r.key===be.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===be.ArrowDown||r.key===be.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===be.Enter&&t.handleClick(s),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},t.renderTimes=function(){for(var r,s=[],i=typeof t.props.format=="string"?t.props.format:"p",o=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Ut(),h=qf(u),p=t.props.injectTimes&&t.props.injectTimes.sort(function(S,A){return S.getTime()-A.getTime()}),g=60*t9(u),y=g/o,x=0;x<y;x++){var _=wy(h,x*o);if(s.push(_),p){var E=e9(h,_,x,o,p);s=s.concat(E)}}var j=s.reduce(function(S,A){return A.getTime()<=u.getTime()?A:S},s[0]);return s.map(function(S){return re.createElement("li",{key:S.valueOf(),onClick:t.handleClick.bind(t,S),className:t.liClasses(S),ref:function(A){S===j&&(t.centerLi=A)},onKeyDown:function(A){t.handleOnKeyDown(A,S)},tabIndex:S===j?0:-1,role:"option","aria-selected":t.isSelectedTime(S)?"true":void 0,"aria-disabled":t.isDisabledTime(S)?"true":void 0},Jt(S,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?re.createElement(re.Fragment,null):re.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},re.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,s=this.state.height;return re.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),re.createElement("div",{className:"react-datepicker__time"},re.createElement("div",{className:"react-datepicker__time-box"},re.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(C.Component),pb=3,m9=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=li([],Array(r.props.yearItemNumber),!0).map(function(){return C.createRef()}),r.isDisabled=function(s){return cs(s,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(s){return mx(s,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var s;return(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection},r.updateFocusOnPaginate=function(s){var i=function(){var o,u;(u=(o=r.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(s,i){r.props.onDayClick&&r.props.onDayClick(s,i)},r.handleYearNavigation=function(s,i){var o,u,h,p,g=r.props,y=g.date,x=g.yearItemNumber;if(!(y===void 0||x===void 0)){var _=so(y,x).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((u=(o=r.props).setPreSelection)===null||u===void 0||u.call(o,i),s-_<0?r.updateFocusOnPaginate(x-(_-s)):s-_>=x?r.updateFocusOnPaginate(Math.abs(x-(s-_))):(p=(h=r.YEAR_REFS[s-_])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus())}},r.isSameDay=function(s,i){return bt(s,i)},r.isCurrentYear=function(s){return s===ut(Ut())},r.isRangeStart=function(s){return r.props.startDate&&r.props.endDate&&ii(ei(Ut(),s),r.props.startDate)},r.isRangeEnd=function(s){return r.props.startDate&&r.props.endDate&&ii(ei(Ut(),s),r.props.endDate)},r.isInRange=function(s){return wf(s,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(s){var i=r.props,o=i.selectsStart,u=i.selectsEnd,h=i.selectsRange,p=i.startDate,g=i.endDate;return!(o||u||h)||!r.selectingDate()?!1:o&&g?wf(s,r.selectingDate(),g):u&&p||h&&p&&!g?wf(s,p,r.selectingDate()):!1},r.isSelectingRangeStart=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,u=o.startDate,h=o.selectsStart,p=ei(Ut(),s);return h?ii(p,(i=r.selectingDate())!==null&&i!==void 0?i:null):ii(p,u??null)},r.isSelectingRangeEnd=function(s){var i;if(!r.isInSelectingRange(s))return!1;var o=r.props,u=o.endDate,h=o.selectsEnd,p=o.selectsRange,g=ei(Ut(),s);return h||p?ii(g,(i=r.selectingDate())!==null&&i!==void 0?i:null):ii(g,u??null)},r.isKeyboardSelected=function(s){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var i=r.props,o=i.minDate,u=i.maxDate,h=i.excludeDates,p=i.includeDates,g=i.filterDate,y=td(ei(r.props.date,s)),x=(o||u||h||p||g)&&Hf(s,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!bt(y,td(r.props.selected))&&bt(y,td(r.props.preSelection))&&!x}},r.onYearClick=function(s,i){var o=r.props.date;o!==void 0&&r.handleYearClick(td(ei(o,i)),s)},r.onYearKeyDown=function(s,i){var o,u,h=s.key,p=r.props,g=p.date,y=p.yearItemNumber,x=p.handleOnKeyDown;if(h!==be.Tab&&s.preventDefault(),!r.props.disabledKeyboardNavigation)switch(h){case be.Enter:if(r.props.selected==null)break;r.onYearClick(s,i),(u=(o=r.props).setPreSelection)===null||u===void 0||u.call(o,r.props.selected);break;case be.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,Qi(r.props.preSelection,1));break;case be.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,Qc(r.props.preSelection,1));break;case be.ArrowUp:{if(g===void 0||y===void 0||r.props.preSelection==null)break;var _=so(g,y).startPeriod,E=pb,j=i-E;if(j<_){var S=y%E;i>=_&&i<_+S?E=S:E+=S,j=i-E}r.handleYearNavigation(j,Qc(r.props.preSelection,E));break}case be.ArrowDown:{if(g===void 0||y===void 0||r.props.preSelection==null)break;var A=so(g,y).endPeriod,E=pb,j=i+E;if(j>A){var S=y%E;i<=A&&i>A-S?E=S:E+=S,j=i+E}r.handleYearNavigation(j,Qi(r.props.preSelection,E));break}}x&&x(s)},r.getYearClassNames=function(s){var i=r.props,o=i.date,u=i.minDate,h=i.maxDate,p=i.selected,g=i.excludeDates,y=i.includeDates,x=i.filterDate,_=i.yearClassName;return Mn("react-datepicker__year-text","react-datepicker__year-".concat(s),o?_==null?void 0:_(ei(o,s)):void 0,{"react-datepicker__year-text--selected":p?s===ut(p):void 0,"react-datepicker__year-text--disabled":(u||h||g||y||x)&&Hf(s,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(s),"react-datepicker__year-text--range-start":r.isRangeStart(s),"react-datepicker__year-text--range-end":r.isRangeEnd(s),"react-datepicker__year-text--in-range":r.isInRange(s),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(s),"react-datepicker__year-text--today":r.isCurrentYear(s)})},r.getYearTabIndex=function(s){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=ut(r.props.preSelection),o=Hf(s,r.props);return s===i&&!o?"0":"-1"},r.getYearContainerClassNames=function(){var s=r.props,i=s.selectingDate,o=s.selectsStart,u=s.selectsEnd,h=s.selectsRange;return Mn("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(o||u||h)})},r.getYearContent=function(s){return r.props.renderYearContent?r.props.renderYearContent(s):s},r}return e.prototype.render=function(){var t=this,r=[],s=this.props,i=s.date,o=s.yearItemNumber,u=s.onYearMouseEnter,h=s.onYearMouseLeave;if(i===void 0)return null;for(var p=so(i,o),g=p.startPeriod,y=p.endPeriod,x=function(j){r.push(re.createElement("div",{ref:_.YEAR_REFS[j-g],onClick:function(S){t.onYearClick(S,j)},onKeyDown:function(S){TT(S)&&(S.preventDefault(),S.key=be.Enter),t.onYearKeyDown(S,j)},tabIndex:Number(_.getYearTabIndex(j)),className:_.getYearClassNames(j),onMouseEnter:_.props.usePointerEvent?void 0:function(S){return u(S,j)},onPointerEnter:_.props.usePointerEvent?function(S){return u(S,j)}:void 0,onMouseLeave:_.props.usePointerEvent?void 0:function(S){return h(S,j)},onPointerLeave:_.props.usePointerEvent?function(S){return h(S,j)}:void 0,key:j,"aria-current":_.isCurrentYear(j)?"date":void 0},_.getYearContent(j)))},_=this,E=g;E<=y;E++)x(E);return re.createElement("div",{className:this.getYearContainerClassNames()},re.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(C.Component);function g9(n,e,t,r){for(var s=[],i=0;i<2*e+1;i++){var o=n+e-i,u=!0;t&&(u=ut(t)<=o),r&&u&&(u=ut(r)>=o),u&&s.push(o)}return s}var y9=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var u=r.props.year,h=r.state.yearsList.map(function(y){return re.createElement("div",{className:u===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:r.onChange.bind(r,y),"aria-selected":u===y?"true":void 0},u===y?re.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",y)}),p=r.props.minDate?ut(r.props.minDate):null,g=r.props.maxDate?ut(r.props.maxDate):null;return(!g||!r.state.yearsList.find(function(y){return y===g}))&&h.unshift(re.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!r.state.yearsList.find(function(y){return y===p}))&&h.push(re.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var h=r.state.yearsList.map(function(p){return p+u});r.setState({yearsList:h})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,o=s||(i?10:5);return r.state={yearsList:g9(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=C.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,s=r?r.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Mn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return re.createElement(hm,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(C.Component),v9=function(n){On(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ut(t.props.minDate):1900,s=t.props.maxDate?ut(t.props.maxDate):2100,i=[],o=r;o<=s;o++)i.push(re.createElement("option",{key:o,value:o},o));return i},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return re.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return re.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},re.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return re.createElement(y9,Tt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,s=[t.renderReadView(!r)];return r&&s.unshift(t.renderDropdown()),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,r,s),t.setOpen()},t.onSelect=function(r,s){var i,o;(o=(i=t.props).onSelect)===null||o===void 0||o.call(i,r,s)},t.setOpen=function(){var r,s;(s=(r=t.props).setOpen)===null||s===void 0||s.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(C.Component),x9=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],w9=function(n){var e=(n.className||"").split(/\s+/);return x9.some(function(t){return e.indexOf(t)>=0})},_9=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(s){r.props.onClickOutside(s)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(s){var i,o;w9(s.target)&&((o=(i=r.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},r.getDateInView=function(){var s=r.props,i=s.preSelection,o=s.selected,u=s.openToDate,h=NT(r.props),p=ST(r.props),g=Ut(),y=u||o||i;return y||(h&&xl(g,h)?h:p&&vo(g,p)?p:g)},r.increaseMonth=function(){r.setState(function(s){var i=s.date;return{date:Vs(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(s){var i=s.date;return{date:Kc(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(s,i,o){r.props.onSelect(s,i,o),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleDayMouseEnter=function(s){r.setState({selectingDate:s}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(s)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(s,i){r.setState({selectingDate:ei(Ut(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(s,i)},r.handleYearMouseLeave=function(s,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(s,i)},r.handleYearChange=function(s){var i,o,u,h;(o=(i=r.props).onYearChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(s),(h=(u=r.props).setOpen)===null||h===void 0||h.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.getEnabledPreSelectionDateForMonth=function(s){if(!cs(s,r.props))return s;for(var i=Ji(s),o=zL(s),u=w6(o,i),h=null,p=0;p<=u;p++){var g=sa(i,p);if(!cs(g,r.props)){h=g;break}}return h},r.handleMonthChange=function(s){var i,o,u,h=(i=r.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;r.handleCustomMonthChange(h),r.props.adjustDateOnChange&&(r.props.onSelect(h),(u=(o=r.props).setOpen)===null||u===void 0||u.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(h)},r.handleCustomMonthChange=function(s){var i,o;(o=(i=r.props).onMonthChange)===null||o===void 0||o.call(i,s),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(s){r.handleYearChange(s),r.handleMonthChange(s)},r.changeYear=function(s){r.setState(function(i){var o=i.date;return{date:ei(o,Number(s))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(s){r.setState(function(i){var o=i.date;return{date:Wr(o,Number(s))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(s){r.setState(function(i){var o=i.date;return{date:ei(Wr(o,xr(s)),ut(s))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(s){s===void 0&&(s=r.state.date);var i=co(s,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(re.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(u){var h=sa(i,u),p=r.formatWeekday(h,r.props.locale),g=r.props.weekDayClassName?r.props.weekDayClassName(h):void 0;return re.createElement("div",{key:u,"aria-label":Jt(h,"EEEE",r.props.locale),className:Mn("react-datepicker__day-name",g)},p)}))},r.formatWeekday=function(s,i){return r.props.formatWeekDay?BL(s,r.props.formatWeekDay,i):r.props.useWeekdaysShort?HL(s,i):qL(s,i)},r.decreaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:Qc(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var s;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=ab(r.state.date,r.props);break;case r.props.showYearPicker:i=GL(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=KL(r.state.date,r.props);break;default:i=sb(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],u=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--previous--disabled"),h=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,g=r.props,y=g.previousMonthButtonLabel,x=y===void 0?e.defaultProps.previousMonthButtonLabel:y,_=g.previousYearButtonLabel,E=_===void 0?e.defaultProps.previousYearButtonLabel:_,j=r.props,S=j.previousMonthAriaLabel,A=S===void 0?typeof x=="string"?x:"Previous Month":S,M=j.previousYearAriaLabel,P=M===void 0?typeof E=="string"?E:"Previous Year":M;return re.createElement("button",{type:"button",className:u.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?P:A},re.createElement("span",{className:o.join(" ")},p?E:x))}}},r.increaseYear=function(){r.setState(function(s){var i,o=s.date;return{date:Qi(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var s;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=ob(r.state.date,r.props);break;case r.props.showYearPicker:i=XL(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=QL(r.state.date,r.props);break;default:i=ib(r.state.date,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var h=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),h=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,g=r.props,y=g.nextMonthButtonLabel,x=y===void 0?e.defaultProps.nextMonthButtonLabel:y,_=g.nextYearButtonLabel,E=_===void 0?e.defaultProps.nextYearButtonLabel:_,j=r.props,S=j.nextMonthAriaLabel,A=S===void 0?typeof x=="string"?x:"Next Month":S,M=j.nextYearAriaLabel,P=M===void 0?typeof E=="string"?E:"Next Year":M;return re.createElement("button",{type:"button",className:o.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?P:A},re.createElement("span",{className:u.join(" ")},p?E:x))}}},r.renderCurrentMonth=function(s){s===void 0&&(s=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),re.createElement("h2",{className:i.join(" ")},Jt(s,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showYearDropdown||s))return re.createElement(v9,Tt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ut(r.state.date)}))},r.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthDropdown||s))return re.createElement(u9,Tt({},e.defaultProps,r.props,{month:xr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!r.props.showMonthYearDropdown||s))return re.createElement(f9,Tt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(s){r.props.onSelect(Z2(),s),r.props.setPreSelection&&r.props.setPreSelection(Z2())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return re.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return re.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),re.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),re.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))},r.renderCustomHeader=function(s){var i,o,u=s.monthDate,h=s.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var p=sb(r.state.date,r.props),g=ib(r.state.date,r.props),y=ab(r.state.date,r.props),x=ob(r.state.date,r.props),_=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return re.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(i=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,Tt(Tt({},r.state),{customHeaderCount:h,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:p,nextMonthButtonDisabled:g,prevYearButtonDisabled:y,nextYearButtonDisabled:x})),_&&re.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(s){var i=s.monthDate,o=r.props,u=o.showYearPicker,h=o.yearItemNumber,p=h===void 0?e.defaultProps.yearItemNumber:h,g=so(i,p),y=g.startPeriod,x=g.endPeriod;return re.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(y," - ").concat(x):ut(i))},r.renderHeader=function(s){var i=s.monthDate,o=s.i,u=o===void 0?0:o,h={monthDate:i,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(h);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(h);default:return r.renderDefaultHeader(h)}},r.renderMonths=function(){var s,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],u=(s=r.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,h=r.props.showPreviousMonths?u-1:0,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Qi(r.state.date,h):Kc(r.state.date,h),g=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:h,y=0;y<u;++y){var x=y-g+h,_=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Qi(p,x):Vs(p,x),E="month-".concat(y),j=y<u-1,S=y>0;o.push(re.createElement("div",{key:E,ref:function(A){r.monthContainer=A??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:_,i:y}),re.createElement(l9,Tt({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:_,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:y,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:j,monthShowsDuplicateDaysStart:S}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return re.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),re.createElement(m9,Tt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return re.createElement(p9,Tt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var s=r.props.selected?new Date(r.props.selected):void 0,i=s&&qi(s)&&!!r.props.selected,o=i?"".concat(cb(s.getHours()),":").concat(cb(s.getMinutes())):"";if(r.props.showTimeInput)return re.createElement(r9,Tt({},e.defaultProps,r.props,{date:s,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var s,i=so(r.state.date,(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,u=i.endPeriod,h;return r.props.showYearPicker?h="".concat(o," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?h=ut(r.state.date):h="".concat(px(xr(r.state.date),r.props.locale)," ").concat(ut(r.state.date)),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&h)},r.renderChildren=function(){if(r.props.children)return re.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=C.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Kd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!bt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!yr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!bt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||DL;return re.createElement(hm,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},re.createElement(t,{className:Mn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(C.Component),b9=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,s=n.onClick,i="react-datepicker__calendar-icon";return typeof e=="string"?re.createElement("i",{className:"".concat(i," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:s}):re.isValidElement(e)?re.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(i," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof s=="function"&&s(o)}}):re.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},re.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CT=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return cI.createPortal(this.props.children,this.el)},e}(C.Component),E9="[tabindex], a, button, input, select, textarea",N9=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},jT=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var s;return Array.prototype.slice.call((s=r.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(E9),1,-1).filter(N9)},r.handleFocusStart=function(){var s=r.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},r.handleFocusEnd=function(){var s=r.getTabChildren();s&&s.length>1&&s[0].focus()},r.tabLoopRef=C.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?re.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},re.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,re.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(C.Component);function S9(n){var e=function(t){var r,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=C.useRef(null),o=AL(Tt({open:!s,whileElementsMounted:dL,placement:t.popperPlacement,middleware:li([vL({padding:15}),yL(10),xL({element:i})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=Tt(Tt({},t),{hidePopper:s,popperProps:Tt(Tt({},o),{arrowRef:i})});return re.createElement(n,Tt({},u))};return e}var T9=function(n){On(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,s=t.wrapperClassName,i=t.hidePopper,o=i===void 0?e.defaultProps.hidePopper:i,u=t.popperComponent,h=t.targetComponent,p=t.enableTabLoop,g=t.popperOnKeyDown,y=t.portalId,x=t.portalHost,_=t.popperProps,E=t.showArrow,j=void 0;if(!o){var S=Mn("react-datepicker-popper",r);j=re.createElement(jT,{enableTabLoop:p},re.createElement("div",{ref:_.refs.setFloating,style:_.floatingStyles,className:S,"data-placement":_.placement,onKeyDown:g},u,E&&re.createElement(TL,{ref:_.arrowRef,context:_.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(j=C.createElement(this.props.popperContainer,{},j)),y&&!o&&(j=re.createElement(CT,{portalId:y,portalHost:x},j));var A=Mn("react-datepicker-wrapper",s);return re.createElement(re.Fragment,null,re.createElement("div",{ref:_.refs.setReference,className:A},h),j)},e}(C.Component),C9=S9(T9),mb="react-datepicker-ignore-onclickoutside";function j9(n,e){return n&&e?xr(n)!==xr(e)||ut(n)!==ut(e):n!==e}var C0="Date input not valid.",fm=function(n){On(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ut()},r.modifyHolidays=function(){var s;return(s=r.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var u=new Date(o.date);return qi(u)?li(li([],i,!0),[Tt(Tt({},o),{date:u})],!1):i},[])},r.calcInitialState=function(){var s,i=r.getPreSelection(),o=NT(r.props),u=ST(r.props),h=o&&xl(i,qf(o))?o:u&&vo(i,eb(u))?u:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&s!==void 0?s:h,highlightDates:lb(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Tt(Tt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Tt(Tt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(s,i){i===void 0&&(i=!1),r.setState({open:s,preSelection:s&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:j0},function(){s||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Gi(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(s){var i,o,u=r.state.wasHidden,h=u?r.state.open:!0;u&&r.resetHiddenStatus(),!r.state.preventFocus&&h&&((o=(i=r.props).onFocus)===null||o===void 0||o.call(i,s),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(s){var i,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(i=r.props).onBlur)===null||o===void 0||o.call(i,s)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(s){var i,o;r.props.inline||r.setOpen(!1),(o=(i=r.props).onClickOutside)===null||o===void 0||o.call(i,s),r.props.withPortal&&s.preventDefault()},r.handleChange=function(){for(var s,i,o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var h=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:k9});var p=r.props,g=p.dateFormat,y=g===void 0?e.defaultProps.dateFormat:g,x=p.strictParsing,_=x===void 0?e.defaultProps.strictParsing:x,E=p.selectsRange,j=p.startDate,S=p.endDate,A=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(E){var M=A.split("-",2).map(function(F){return F.trim()}),P=M[0],L=M[1],D=N0(P??"",y,r.props.locale,_),B=N0(L??"",y,r.props.locale,_),R=(j==null?void 0:j.getTime())!==(D==null?void 0:D.getTime()),T=(S==null?void 0:S.getTime())!==(B==null?void 0:B.getTime());if(!R&&!T||D&&cs(D,r.props)||B&&cs(B,r.props))return;(i=(s=r.props).onChange)===null||i===void 0||i.call(s,[D,B],h)}else{var k=N0(A,y,r.props.locale,_,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&k&&!bt(k,r.props.selected)&&(k=PO(r.props.selected,{hours:mi(k),minutes:gi(k),seconds:Xi(k)})),(k||!A)&&r.setSelected(k,h,!0)}}},r.handleSelect=function(s,i,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(s,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(s);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,h=u.startDate,p=u.endDate;h&&!p&&(r.props.swapRange||!hb(s,h))&&r.setOpen(!1)}},r.setSelected=function(s,i,o,u){var h,p,g=s;if(r.props.showYearPicker){if(g!==null&&Hf(ut(g),r.props))return}else if(r.props.showMonthYearPicker){if(g!==null&&ET(g,r.props))return}else if(g!==null&&cs(g,r.props))return;var y=r.props,x=y.onChange,_=y.selectsRange,E=y.startDate,j=y.endDate,S=y.selectsMultiple,A=y.selectedDates,M=y.minTime,P=y.swapRange;if(!Zo(r.props.selected,g)||r.props.allowSameDay||_||S)if(g!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(g=S0(g,{hour:mi(r.props.selected),minute:gi(r.props.selected),second:Xi(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&M&&(g=S0(g,{hour:M.getHours(),minute:M.getMinutes(),second:M.getSeconds()})),r.props.inline||r.setState({preSelection:g}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),_){var L=!E&&!j,D=E&&!j,B=E&&j;L?x==null||x([g,null],i):D&&(g===null?x==null||x([null,null],i):hb(g,E)?P?x==null||x([g,E],i):x==null||x([g,null],i):x==null||x([E,g],i)),B&&(x==null||x([g,null],i))}else if(S){if(g!==null)if(!(A!=null&&A.length))x==null||x([g],i);else{var R=A.some(function(k){return bt(k,g)});if(R){var T=A.filter(function(k){return!bt(k,g)});x==null||x(T,i)}else x==null||x(li(li([],A,!0),[g],!1),i)}}else x==null||x(g,i);o||((p=(h=r.props).onSelect)===null||p===void 0||p.call(h,g,i),r.setState({inputValue:null}))},r.setPreSelection=function(s){var i=Gi(r.props.minDate),o=Gi(r.props.maxDate),u=!0;if(s){var h=qf(s);if(i&&o)u=nd(s,r.props.minDate,r.props.maxDate);else if(i){var p=qf(r.props.minDate);u=vo(s,p)||Zo(h,p)}else if(o){var g=eb(r.props.maxDate);u=xl(s,g)||Zo(h,g)}}u&&r.setState({preSelection:s})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(s){var i,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),h=r.props.selected?s:S0(u,{hour:mi(s),minute:gi(s)});r.setState({preSelection:h}),(o=(i=r.props).onChange)===null||o===void 0||o.call(i,h),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var s,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(s=r.props).onInputClick)===null||i===void 0||i.call(s)},r.onInputKeyDown=function(s){var i,o,u,h,p,g;(o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s);var y=s.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(y===be.ArrowDown||y===be.ArrowUp||y===be.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(y===be.ArrowDown||y===be.ArrowUp){s.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',_=((h=r.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);_ instanceof HTMLElement&&_.focus({preventScroll:!0});return}var E=Ut(r.state.preSelection);y===be.Enter?(s.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===j0?(r.handleSelect(E,s),!r.props.shouldCloseOnSelect&&r.setPreSelection(E)):r.setOpen(!1)):y===be.Escape?(s.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):y===be.Tab&&r.setOpen(!1),r.inputOk()||(g=(p=r.props).onInputError)===null||g===void 0||g.call(p,{code:1,msg:C0})}},r.onPortalKeyDown=function(s){var i=s.key;i===be.Escape&&(s.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(s){var i,o,u,h,p,g,y=r.props,x=y.minDate,_=y.maxDate,E=y.disabledKeyboardNavigation,j=y.showWeekPicker,S=y.shouldCloseOnSelect,A=y.locale,M=y.calendarStartDay,P=y.adjustDateOnChange,L=y.inline;if((o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,s),!E){var D=s.key,B=s.shiftKey,R=Ut(r.state.preSelection),T=function(we,xe){var ve=xe;switch(we){case be.ArrowRight:ve=j?bp(xe,1):sa(xe,1);break;case be.ArrowLeft:ve=j?B2(xe,1):mO(xe,1);break;case be.ArrowUp:ve=B2(xe,1);break;case be.ArrowDown:ve=bp(xe,1);break;case be.PageUp:ve=B?Qc(xe,1):Kc(xe,1);break;case be.PageDown:ve=B?Qi(xe,1):Vs(xe,1);break;case be.Home:ve=co(xe,A,M);break;case be.End:ve=$L(xe);break}return ve},k=function(we,xe){for(var ve=40,Q=we,le=!1,ce=0,Y=T(we,xe);!le;){if(ce>=ve){Y=xe;break}x&&Y<x&&(Q=be.ArrowRight,Y=cs(x,r.props)?T(Q,Y):x),_&&Y>_&&(Q=be.ArrowLeft,Y=cs(_,r.props)?T(Q,Y):_),cs(Y,r.props)?((Q===be.PageUp||Q===be.Home)&&(Q=be.ArrowRight),(Q===be.PageDown||Q===be.End)&&(Q=be.ArrowLeft),Y=T(Q,Y)):le=!0,ce++}return Y};if(D===be.Enter){s.preventDefault(),r.handleSelect(R,s),!S&&r.setPreSelection(R);return}else if(D===be.Escape){s.preventDefault(),r.setOpen(!1),r.inputOk()||(h=(u=r.props).onInputError)===null||h===void 0||h.call(u,{code:1,msg:C0});return}var F=null;switch(D){case be.ArrowLeft:case be.ArrowRight:case be.ArrowUp:case be.ArrowDown:case be.PageUp:case be.PageDown:case be.Home:case be.End:F=k(D,R);break}if(!F){(g=(p=r.props).onInputError)===null||g===void 0||g.call(p,{code:1,msg:C0});return}if(s.preventDefault(),r.setState({lastPreSelectChange:j0}),P&&r.setSelected(F),r.setPreSelection(F),L){var $=xr(R),U=xr(F),V=ut(R),Pe=ut(F);$!==U||V!==Pe?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(s){var i=s.key;i===be.Escape&&(s.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),r.sendFocusBackToInput();var i=r.props,o=i.selectsRange,u=i.onChange;o?u==null||u([null,null],s):u==null||u(null,s),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(s){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(s)&&r.setOpen(!1)},r.renderCalendar=function(){var s,i;return!r.props.inline&&!r.isCalendarOpen()?null:re.createElement(_9,Tt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(s=r.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:ZL(r.modifyHolidays()),outsideClickIgnoreClass:mb,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var s=r.props,i=s.dateFormat,o=i===void 0?e.defaultProps.dateFormat:i,u=s.locale,h=r.props.showTimeInput||r.props.showTimeSelect,p=h?"PPPPp":"PPPP",g;return r.props.selectsRange?g="Selected start date: ".concat(ls(r.props.startDate,{dateFormat:p,locale:u}),". ").concat(r.props.endDate?"End date: "+ls(r.props.endDate,{dateFormat:p,locale:u}):""):r.props.showTimeSelectOnly?g="Selected time: ".concat(ls(r.props.selected,{dateFormat:o,locale:u})):r.props.showYearPicker?g="Selected year: ".concat(ls(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?g="Selected month: ".concat(ls(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?g="Selected quarter: ".concat(ls(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):g="Selected date: ".concat(ls(r.props.selected,{dateFormat:p,locale:u})),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},g)},r.renderDateInput=function(){var s,i,o,u=Mn(r.props.className,(s={},s[mb]=r.state.open,s)),h=r.props.customInput||re.createElement("input",{type:"text"}),p=r.props.customInputRef||"ref",g=r.props,y=g.dateFormat,x=y===void 0?e.defaultProps.dateFormat:y,_=g.locale,E=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?LL(r.props.startDate,r.props.endDate,{dateFormat:x,locale:_}):r.props.selectsMultiple?FL((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:x,locale:_}):ls(r.props.selected,{dateFormat:x,locale:_});return C.cloneElement(h,(i={},i[p]=function(j){r.input=j},i.value=E,i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=Mn(h.props.className,u),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var s=r.props,i=s.isClearable,o=s.disabled,u=s.selected,h=s.startDate,p=s.endDate,g=s.clearButtonTitle,y=s.clearButtonClassName,x=y===void 0?"":y,_=s.ariaLabelClose,E=_===void 0?"Close":_,j=s.selectedDates;return i&&(u!=null||h!=null||p!=null||j!=null&&j.length)?re.createElement("button",{type:"button",className:Mn("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":E,onClick:r.onClearClick,title:g,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Kd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var s,i,o,u;t.inline&&j9(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:lb(this.props.highlightDates)}),!r.focused&&!Zo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),r.open===!0&&this.state.open===!1&&((u=(o=this.props).onCalendarClose)===null||u===void 0||u.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,s=t.icon,i=t.calendarIconClassname,o=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,h=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),re.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&re.createElement(b9,Tt({icon:s,className:Mn(o,!o&&i,h&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?re.createElement(jT,{enableTabLoop:this.props.enableTabLoop},re.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=re.createElement(CT,Tt({portalId:this.props.portalId},this.props),r)),re.createElement("div",null,this.renderInputContainer(),r)}return re.createElement(C9,Tt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(C.Component),k9="input",j0="navigate";function I9(){var _;const n=cr(),e=Cn(),{userData:t,loading:r}=st(),{selectedTown:s="",selectedLocation:i=""}=n.state||{},[o,u]=C.useState({town:s,location:i,atMyHouse:"",childAge:"",gender:"",selectedDate:null,timeType:"",monthsSlider:0,experienceSlider:0}),h=()=>Object.values(o).every(E=>E===""||E===null||E===0),p=(E,j)=>{E==="selectedDate"&&console.log("starting date is: "+j),u(S=>({...S,[E]:j}))},{data:g,isLoading:y}=Dt({queryFn:({signal:E})=>A2(o),queryKey:["searchNannies",o],refetchOnWindowFocus:!1,staleTime:0,cacheTime:0});C.useEffect(()=>{t&&A2(o)},[o,t]),C.useEffect(()=>{n.state&&e(n.pathname,{replace:!0,state:null})},[n,e]);const x=new Date;if(r)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!r)return c.jsxs("div",{className:"",children:[_n(t),c.jsxs("div",{className:"w-full flex h-screen justify-between bg-white",children:[c.jsx("div",{className:"w-1/3 h-full flex flex-col items-center overflow-y-auto py-10 ",children:c.jsxs("div",{className:"w-3/4 bg-gray-100 shadow-lg rounded-md shadow-gray-700 flex flex-col gap-3 py-5 items-center justify-center",children:[c.jsx("p",{className:"text-3xl font-bold",children:"Φίλτρα Αναζήτησης"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-l",children:"Πόλη"}),c.jsxs("select",{onChange:E=>{p("town",E.target.value),p("location",""),p("atMyHouse","")},value:o.town,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),Xv.map((E,j)=>c.jsx("option",{value:E,children:E},j))]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-l",children:"Περιοχή"}),c.jsxs("select",{value:o.location,onChange:E=>{p("location",E.target.value),p("atMyHouse",!0)},className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),o.town!==""&&((_=wp.find(E=>E.city===o.town))==null?void 0:_.areas.map((E,j)=>c.jsx("option",{value:E,children:E},j)))]})]}),c.jsxs("div",{className:"w-60 flex flex-col gap-2 ",children:[c.jsx("p",{className:"text-l",children:"Μπορεί ο επαγγελματίας να φιλοξενήσει στην οικία του"}),c.jsxs("div",{className:`flex gap-3 ${o.location===""?"text-gray-400":""}`,children:[c.jsx("input",{type:"radio",name:"radio-1",checked:o.atMyHouse===!0,title:o.location===""||o.town===""?"Επιλέξτε πρώτα πόλη και περιοχή.":"",className:"radio radio-secondary",onChange:()=>p("atMyHouse",!0),disabled:o.location===""}),c.jsx("p",{children:"Ναι"})]}),c.jsxs("div",{className:`flex gap-3 ${o.location===""?"text-gray-400":""}`,children:[c.jsx("input",{type:"radio",name:"radio-1",checked:o.atMyHouse===!1,title:o.location===""||o.town===""?"Επιλέξτε πρώτα πόλη και περιοχή.":"",className:"radio radio-secondary",onChange:()=>p("atMyHouse",!1),disabled:o.location===""}),c.jsx("p",{children:"Όχι"})]})]}),c.jsxs("div",{className:"flex w-60 flex-col gap-2",children:[c.jsx("p",{className:"text-l",children:"Τύπος Απασχόλησης"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-type",checked:o.timeType==="",className:"radio radio-secondary",onChange:()=>p("timeType","")}),c.jsx("p",{children:"Όλα"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-type",checked:o.timeType==="full-time",className:"radio radio-secondary",onChange:()=>p("timeType","full-time")}),c.jsx("p",{children:"Πλήρης"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-type",checked:o.timeType==="part-time",className:"radio radio-secondary",onChange:()=>p("timeType","part-time")}),c.jsx("p",{children:"Μερική"})]})]}),c.jsxs("div",{className:"w-60 flex flex-col gap-2 ",children:[c.jsx("p",{className:"text-l",children:"Ηλικία Παιδιού"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-2",checked:o.childAge==="0-1",className:"radio radio-secondary",onChange:()=>p("childAge","0-1")}),c.jsx("p",{children:"0-1 έτους"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-2",checked:o.childAge==="1-3",className:"radio radio-secondary",onChange:()=>p("childAge","1-3")}),c.jsx("p",{children:"1-3 ετών"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-2",checked:o.childAge==="3-5",className:"radio radio-secondary",onChange:()=>p("childAge","3-5")}),c.jsx("p",{children:"3-5 ετών"})]})]}),c.jsxs("div",{className:"w-60 flex flex-col gap-1 ",children:[c.jsx("p",{className:"text-l",children:"Χρόνια Εμπειρίας"}),c.jsx("input",{onChange:E=>p("experienceSlider",Number(E.target.value)),type:"range",min:0,max:4,value:o.experienceSlider,className:"range range-secondary bg-white w-56 mx-auto",step:"1"}),c.jsxs("div",{className:"flex w-52 mx-auto justify-between text-xs",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"1"}),c.jsx("span",{children:"2"}),c.jsx("span",{children:"3"}),c.jsx("span",{children:"4+"})]})]}),c.jsxs("div",{className:"w-60 flex flex-col gap-2 ",children:[c.jsx("p",{className:"text-l",children:"Φύλο"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-3",checked:o.gender==="",className:"radio radio-secondary",onChange:()=>p("gender","")}),c.jsx("p",{children:"Όλα"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-3",checked:o.gender===!0,className:"radio radio-secondary",onChange:()=>p("gender",!0)}),c.jsx("p",{children:"Αρσενικό"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"radio",name:"radio-3",checked:o.gender===!1,className:"radio radio-secondary",onChange:()=>p("gender",!1)}),c.jsx("p",{children:"Θηλυκό"})]})]}),c.jsxs("div",{className:"w-60 flex flex-col gap-1",children:[c.jsx("p",{className:"text-l",children:"Διάστημα Απασχόλησης (μήνες)"}),c.jsx("input",{onChange:E=>p("monthsSlider",Number(E.target.value)),type:"range",min:1,max:9,value:o.monthsSlider,className:"range range-secondary w-60 mx-auto bg-white",step:"1"}),c.jsxs("div",{className:"flex w-56 mx-auto justify-between text-xs",children:[c.jsx("span",{children:"1"}),c.jsx("span",{children:"2"}),c.jsx("span",{children:"3"}),c.jsx("span",{children:"4"}),c.jsx("span",{children:"5"}),c.jsx("span",{children:"6"}),c.jsx("span",{children:"7"}),c.jsx("span",{children:"8"}),c.jsx("span",{children:"9"})]})]}),c.jsxs("div",{className:"w-60 flex mt-2 flex-col gap-1",children:[c.jsx("p",{className:"text-l",children:"Ημερομηνία Έναρξης"}),c.jsx(fm,{selected:o.selectedDate,onChange:E=>p("selectedDate",E),minDate:x,filterDate:E=>E>=x,inline:!0,disabledKeyboardNavigation:!0,dateFormat:"yyyy-MM-dd",className:"calendar-only"})]})]})}),c.jsxs("div",{className:"w-2/3 flex-grow   overflow-y-auto p-5",children:[y&&c.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl  font-medium",children:c.jsx("span",{className:"",children:"Αναζήτηση Επαγγελματιών..."})}),!y&&(g==null?void 0:g.length)===0&&h()===!1&&c.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl text-gray-500 font-semibold",children:c.jsx("p",{children:"Δεν βρέθηκαν επαγγελματίες με βάση τα φίλτρα σας."})}),!y&&(g==null?void 0:g.length)===0&&h()===!0&&c.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl text-gray-500 font-semibold",children:c.jsx("p",{children:"Δεν βρέθηκαν διαθέσιμοι επαγγελματίες."})}),!y&&(g==null?void 0:g.length)>0&&(g==null?void 0:g.map((E,j)=>c.jsx(HS,{id:E==null?void 0:E.userId,name:E==null?void 0:E.name,surname:E==null?void 0:E.surname,bio:E==null?void 0:E.bio,rating:E==null?void 0:E.rating,img:E==null?void 0:E.img,ratingCount:E==null?void 0:E.ratingCount},j)))]})]}),c.jsx(on,{})]})}function R9(){const n=Cn(),{login:e,loading:t}=st(),[r,s]=C.useState(""),[i,o]=C.useState(""),[u,h]=C.useState(!1),[p,g]=C.useState(""),x=cr().state||"/",_=()=>h(M=>!M),E=async M=>{M.preventDefault(),console.log("handleLogin started");try{const P=await e(r,i);P?(g(`Welcome back, ${P.email}`),(P==null?void 0:P.role)===!1?n("/nannyOffers"):x==="/"?n("/search"):x!=="/signupnanny"&&x!=="/signupparent"?n(x):(x==="/signupnanny"||x==="/signupparent")&&n("/")):g("Unexpected error: Login failed without errors.")}catch(P){P.message&&g("Λάθος email ή κωδικός πρόσβασης.")}finally{console.log("handleLogin finished")}o(""),s("")},[j,S]=C.useState("");C.useEffect(()=>{!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)&&r.length>0?S("Το email δεν έχει έγκυρη μορφή."):S("")},[r]);const A=()=>{const M=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),P=i.length>0;return M&&P};return c.jsxs("div",{className:"w-full min-h-screen flex flex-col overflow-hidden justify-between bg-white ",children:[c.jsx(sm,{}),c.jsx("div",{className:"w-full h-full overflow-y-auto flex flex-col items-center py-20 ",children:c.jsxs("form",{className:"w-1/3 rounded-xl flex flex-col p-20 justify-center items-center    my-auto ",children:[c.jsx("p",{className:"text-5xl font-bold",children:"Σύνδεση"}),p&&c.jsx("p",{className:" text-xl mt-14 font-medium -mb-14 text-red-600",children:p}),c.jsxs("div",{className:"w-1/2 mt-20 ",children:[c.jsx("p",{className:"text-xl ml-1 font-medium ",children:"Email"}),j.length>0&&c.jsx("p",{className:"text-red-700 my-2 font-medium text-sm ",children:j}),c.jsx("input",{type:"email",className:`w-full h-10 border-2 border-gray-300 rounded-md pl-2 mt-1 bg-white ${j.length===0?"border-gray-300":"border-red-700"}`,placeholder:"johndoe@gmail.com",value:r,onChange:M=>{g(""),s(M.target.value)}})]}),c.jsxs("div",{className:"w-1/2 mt-5 ",children:[c.jsx("p",{className:"text-xl ml-1 font-medium ",children:"Κωδικός Πρόσβασης"}),c.jsxs("div",{className:"w-full flex items-center justify-center",children:[c.jsx("input",{type:u?"text":"password",className:"w-full h-10 border-l-2 border-y-2 rounded-l-md pl-2 mt-1 border-gray-300 bg-white",value:i,onChange:M=>{g(""),o(M.target.value)}}),c.jsx("button",{onClick:_,type:"button",className:"w-7 rounded-r-md border-2 border-gray-300 h-10 mt-1 bg-white flex items-center justify-center",children:u?c.jsx(vy,{}):c.jsx(Lf,{})})]})]}),c.jsxs("span",{className:"mt-3 w-1/2   ",children:["Νέος Χρήστης;",c.jsx(Le,{to:"/signup",children:c.jsxs("span",{className:" hover:text-pallete-800 font-medium ml-2",children:[c.jsx("span",{className:"underline",children:"Εγγραφή"})," >"]})})]}),c.jsx("div",{className:"w-full flex justify-end mt-3  ",children:c.jsxs("button",{onClick:E,type:"submit",className:`${A()?"bg-pallete-800 hover:bg-pallete-700":"bg-gray-500"} h-10 w-32 text-lg justify-center ml-60 flex items-center font-medium text-white rounded-md px-3 py-1 mt-5`,disabled:t||!A(),title:A()?"Σύνδεση":"Συμπληρώστε πρώτα τα στοιχεία σύνδεσής σας",children:[t&&c.jsx("span",{className:"loading loading-spinner loading-md "}),!t&&"Σύνδεση"]})})]})}),c.jsx(on,{})]})}jy.propTypes={role:ie.bool.isRequired};function jy({role:n}){Cn();const[e,t]=C.useState(""),[r,s]=C.useState({email:"",password:"",number:"",bio:"",name:"",surname:"",gender:"",role:n,newUser:!0,img:"https://us-tuna-sounds-images.voicemod.net/9508b716-9458-4d69-9508-54c06cc48caa-1728958336005.jpeg",availabilityMatrix:[],skills:[],rating:0,ratingCount:0,experience:0,age:18}),i=3e3,[o,u]=C.useState(!1);C.useEffect(()=>{if(o){const U=setTimeout(()=>{u(!1)},i);return()=>clearTimeout(U)}},[o,i]);const{mutateAsync:h,isPending:p,error:g}=qt({mutationFn:()=>kM(r),onSuccess:()=>{console.log("Added User successfully"),u(!0),t(""),x(""),s({email:"",password:"",number:"",bio:"",name:"",surname:"",gender:"",role:n,newUser:!0,img:"https://us-tuna-sounds-images.voicemod.net/9508b716-9458-4d69-9508-54c06cc48caa-1728958336005.jpeg",availabilityMatrix:[],skills:[],rating:0,ratingCount:0,experience:0,age:18})},onError:U=>{console.log(U.message),U.message==="Firebase: Error (auth/email-already-in-use)."?t("Το email χρησιμοποιείται ήδη."):t(U.message)}}),[y,x]=C.useState(""),[_,E]=C.useState(!1),j=()=>E(U=>!U),[S,A]=C.useState(!1),M=()=>A(U=>!U),[P,L]=C.useState(!0);C.useEffect(()=>{y.length===0?L(!0):L(r.password===y&&r.password.length>0)},[r.password,y]),C.useEffect(()=>{const U=Math.floor(Math.random()*u0.length),V=Math.floor(Math.random()*d0.length),Pe=Math.floor(Math.random()*l0.length),we=Math.floor(Math.random()*c0.length);r.gender===!0?(s(xe=>({...xe,name:l0[Pe],surname:c0[we]})),console.log("Male name and surname set:",l0[Pe],c0[we])):r.gender===!1&&(s(xe=>({...xe,name:u0[U],surname:d0[V]})),console.log("Female name and surname set:",u0[U],d0[V]))},[r.gender]);const[D,B]=C.useState("");C.useEffect(()=>{const U=/^\d{10}$/.test(r.number);!/^\d+$/.test(r.number)&&r.number.length>0?B("Ο αριθμός τηλεφώνου πρέπει να περιέχει μόνο ψηφία."):!U&&r.number.length>0?B("Ο αριθμός τηλεφώνου πρέπει να αποτελείται από 10 ψηφία."):B("")},[r.number]);const[R,T]=C.useState("");C.useEffect(()=>{!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&r.email.length>0?T("Το email δεν έχει έγκυρη μορφή."):T("")},[r.email]);const[k,F]=C.useState("");C.useEffect(()=>{const U=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d_]{6,}$/.test(r.password);/^[\d_]+$/.test(r.password)&&r.password.length>0?F("Ο κωδικός πρέπει να περιέχει τουλάχιστον έναν λατινικό χαρακτήρα."):!U&&r.password.length>0?F("Ο κωδικός πρέπει να αποτελείται από τουλάχιστον 6 χαρακτήρες και να περιέχει μόνο λατινικούς χαρακτήρες, ψηφία και το σύμβολο '_'."):F("")},[r.password]);const $=()=>y.length>0&&r.email.length>0&&R===""&&r.number.length>0&&D===""&&r.password.length>0&&P&&r.gender!==""&&r.password.length>6&&k===""&&r.age.length!==null;return c.jsxs("div",{className:"w-full min-h-screen  flex flex-col  justify-between bg-white ",children:[o&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-32 left-1/2 transform -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-2xl",children:"Η εγγραφή σας ολοκληρώθηκε!"})]}),c.jsx(sm,{}),c.jsx("div",{className:"w-full py-10 flex-grow flex flex-col  justify-center items-center  ",children:c.jsxs("div",{className:"w-2/3 rounded-md flex flex-col  items-center bg-white  ",children:[c.jsx("p",{className:"text-5xl font-bold",children:"Εγγραφή"}),e.length>0&&c.jsx("p",{className:"text-red-500 text-3xl font-medium -mb-10 mx-auto mt-10",children:e}),c.jsxs("div",{className:"w-1/4  mt-10 ",children:[c.jsx("p",{className:"text-xl ml-1 font-medium ",children:"Email"}),R.length>0&&c.jsx("p",{className:"text-red-700 my-2 font-medium text-sm ",children:R}),c.jsx("input",{type:"text",className:`w-full h-10 border-2 bg-white rounded-md pl-2 mt-1 ${R.length===0?"border-gray-300":"border-red-700"}`,placeholder:"johndoe@gmail.com",value:r.email,onChange:U=>s({...r,email:U.target.value})})]}),c.jsxs("div",{className:"w-1/4  mt-5 ",children:[c.jsx("p",{className:"text-xl ml-1 font-medium ",children:"Κωδικός Πρόσβασης"}),k.length>0&&c.jsx("p",{className:"text-red-700 my-2 font-medium text-sm ",children:k}),c.jsxs("div",{className:"w-full flex  items-center justify-center",children:[c.jsx("input",{type:_?"text":"password",className:"w-full h-10 border-l-2 border-y-2 rounded-l-md pl-2 mt-1 border-gray-300 bg-white",value:r.password,onChange:U=>s({...r,password:U.target.value})}),c.jsx("button",{onClick:j,className:"w-7  rounded-r-md border-2 border-gray-300 h-10 mt-1 bg-white flex items-center justify-center",children:_?c.jsx(vy,{}):c.jsx(yo,{})})]})]}),c.jsxs("div",{className:"w-1/4  mt-5 ",children:[c.jsx("p",{className:"text-xl ml-1  font-medium ",children:"Επανάληψη Κωδικού Πρόσβασης"}),!P&&c.jsx("p",{className:"text-red-700 my-2 font-medium text-sm ",children:"Οι κωδικοί δεν ταιριάζουν!"}),c.jsxs("div",{className:"w-full flex  items-center justify-center",children:[c.jsx("input",{type:S?"text":"password",className:`w-full ${P?"border-gray-300":"border-red-700"} h-10 border-l-2 border-y-2 rounded-l-md pl-2 mt-1  bg-white`,value:y,onChange:U=>x(U.target.value)}),c.jsx("button",{onClick:M,className:`w-7 ${P?"border-gray-300":"border-red-700 text-red-700"} rounded-r-md border-2 border-gray-300 h-10 mt-1 bg-white flex items-center justify-center`,children:S?c.jsx(vy,{}):c.jsx(yo,{})})]})]}),c.jsxs("div",{className:"w-1/4  mt-5 ",children:[c.jsx("p",{className:"text-xl ml-1 font-medium ",children:"Τηλέφωνο"}),D.length>0&&c.jsx("p",{className:"text-red-700 my-2 font-medium text-sm ",children:D}),c.jsx("input",{type:"tel",className:`w-full h-10 border-2 bg-white rounded-md pl-2 mt-1 ${D.length>0?"border-red-700":"border-gray-300"}`,value:r.number,onChange:U=>s({...r,number:U.target.value}),placeholder:"6999999999"})]}),c.jsxs("div",{className:"w-1/4  mt-5 flex flex-col gap-2 text-lg  ",children:[c.jsx("p",{className:"text-xl ml-1 font-medium ",children:"Ηλικία"}),c.jsx("input",{type:"number",className:"w-full h-10 border-2 bg-white rounded-md px-2 mt-1 border-gray-300",value:r.age,onChange:U=>s({...r,age:U.target.value}),placeholder:"Ηλικία",min:16,max:99})]}),c.jsxs("div",{className:"w-1/4  mt-5 flex flex-col gap-2 text-lg  ",children:[c.jsx("p",{className:"text-xl ml-1 font-medium ",children:"Φύλο"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{type:"radio",checked:r.gender===!0,className:"radio radio-secondary",onChange:()=>s({...r,gender:!0})}),c.jsx("p",{children:"Αρσενικό"})]}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("input",{type:"radio",checked:r.gender===!1,className:"radio radio-secondary",onChange:()=>{console.log("Changed gender!"),s({...r,gender:!1})}}),c.jsx("p",{children:"Θηλυκό"})]})]}),c.jsxs("span",{className:"mt-10 mr-20 ",children:["Έχετε ήδη εγγραφτεί;",c.jsx(Le,{to:"/login",children:c.jsxs("span",{className:"underline font-medium ml-2 hover:text-pallete-800 ",children:["Σύνδεση"," >"]})})]}),c.jsx("div",{className:"w-full flex justify-end px-32 ",children:c.jsx("button",{className:`h-10 w-36  flex items-center justify-center text-xl font-medium text-white rounded-md px-3 py-1 mt-10 ${$()?"hover:bg-pallete-700 bg-pallete-800":"bg-gray-400 "}`,disabled:$()===!1,onClick:()=>{h()},title:$()?"":"Παρακαλούμε συμπληρώστε όλα τα πεδία.",children:p?c.jsx("span",{className:"loading loading-spinner loading-md "}):"Εγγραφή"})})]})}),c.jsx(on,{})]})}function P9(){const{userData:n,loading:e}=st(),[t,r]=C.useState(!1),s=()=>{const h=document.querySelector(".w-3/4");h&&window.scrollY>h.offsetTop?r(!0):r(!1)},i=()=>{window.scrollTo({top:0,behavior:"smooth"})};C.useEffect(()=>(window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)),[]);const[o,u]=C.useState(0);if(C.useEffect(()=>{o>0&&setTimeout(()=>{u(0)},700)},[o]),e)return c.jsx("div",{className:"w-full h-screen flex justify-center items-center bg-white",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!e)return c.jsxs("div",{className:"w-full h-screen flex flex-col justify-between bg-white",children:[_n(n,0),c.jsxs("div",{className:"w-full h-full overflow-hidden flex-grow flex relative bg-white",children:[c.jsxs("div",{className:"w-1/6 flex flex-col items-center  ",children:[c.jsx("p",{className:" text-3xl font-bold text-pallete-800 mt-5 mb-2",children:"Εγχειρίδιο Χρήσης"}),c.jsxs("div",{className:"w-5/6  rounded-md  py-2 pl-3 flex flex-col gap-2 text-lg font-medium bg-white",children:[c.jsx("p",{className:"underline -ml-3 text-2xl",children:"Περιεχόμενα"}),c.jsx("a",{href:"#section1",onClick:()=>u(1),className:"hover:text-pallete-500",children:"1. Εισαγωγή"}),c.jsx("a",{href:"#section2",onClick:()=>u(2),className:"hover:text-pallete-500",children:"2. Δημιουργία Λογαριασμού/ Είσοδος στην υπηρεσία"}),c.jsx("a",{href:"#section3",onClick:()=>u(3),className:"hover:text-pallete-500",children:"3. Προφίλ Γονέα"}),c.jsx("a",{href:"#section4",onClick:()=>u(4),className:"hover:text-pallete-500",children:"4. Προφίλ Επαγγελματία"}),c.jsx("a",{href:"#section5",onClick:()=>u(5),className:"hover:text-pallete-500",children:"5. Αλλαγή Στοιχείων Λογαριασμού"}),c.jsx("a",{href:"#section6",onClick:()=>u(6),className:"hover:text-pallete-500",children:"6. Ιστορικό"}),c.jsx("a",{href:"#section7",onClick:()=>u(7),className:"hover:text-pallete-500",children:"7. Συμφωνία"}),c.jsx("a",{href:"#section8",onClick:()=>u(8),className:"hover:text-pallete-500",children:"8. Πληρωμές"}),c.jsx("a",{href:"#section9",onClick:()=>u(9),className:"hover:text-pallete-500",children:"9. Αποσύνδεση"}),c.jsx("a",{href:"#section10",onClick:()=>u(10),className:"hover:text-pallete-500",children:"10. Υποστήριξη Πελατών"}),c.jsx("a",{href:"#section11",onClick:()=>u(11),className:"hover:text-pallete-500",children:"11. Πληροφορίες Ασφάλειας"}),c.jsx("a",{href:"#section12",onClick:()=>u(12),className:"hover:text-pallete-500",children:"12. Ειδοποιήσεις"}),c.jsx("a",{href:"#section13",onClick:()=>u(13),className:"hover:text-pallete-500",children:"13. Κριτικές και Βαθμολογίες"}),c.jsx("a",{href:"#section14",onClick:()=>u(14),className:"hover:text-pallete-500",children:"14. Δυνατότητες για Επαγγελματίες"}),c.jsx("a",{href:"#section15",onClick:()=>u(15),className:"hover:text-pallete-500",children:"15. Δυνατότητες για Γονείς"})]})]}),c.jsx("div",{class:"vertical-line"}),c.jsxs("div",{className:"w-5/6 h-full overflow-y-scroll ",children:[c.jsxs("div",{id:"section1",className:"px-20 mt-10",children:[c.jsx("p",{className:` ${o===1?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"1. Εισαγωγή"}),c.jsx("p",{children:"Το nanika είναι ίσως η καλύτερη πλατφόρμα που συνδέει γονείς που αναζητούν φροντίδα για τα παιδιά τους με επαγγελματίες που ψάχνουν δουλειά. Ως αρχική σελίδα παρουσιάζεται η σελίδα αναζήτησης επαγγελματία, όπου μπορείτε ως γονέας χωρίς να συνδεθείτε στην υπηρεσία, να ελέγξετε την διαθεσιμότητα νταντάδων που αντιστοιχεί στα φίλτρα που επιλέξατε."}),c.jsxs("p",{className:"mt-5",children:[c.jsx("span",{className:" font-semibold",children:"Ως γονέας,"})," στο nanika θα βρείτε επαγγελματίες με αξιολογήσεις για να κρίνετε τον κατάλληλο για τις ανάγκες σας. Μόλις βρείτε έναν επαγγελματία που σας έκανε καλή εντύπωση, μπορείτε να στείλετε αίτημα επικοινωνίας (απαιτεί είσοδο), ώστε να μοιραστείτε μαζί του τα απαραίτητα στοιχεία για να επικοινωνήσει μαζί σας αν και αυτός ενδιαφέρεται."]}),c.jsxs("p",{className:"mt-5",children:[c.jsx("span",{className:" font-semibold",children:"Ως επαγγελματίας,"})," μπορείτε να δημοσιεύσετε την αγγελία σας για να βρείτε εργασία και να δεχτείτε αιτήματα επικοινωνίας από γονείς που ενδιαφέρονται."]}),c.jsxs("p",{className:"mt-5",children:[" Για να συνεχίσετε ως επαγγελματίας πρέπει να κάνετε αντίστοιχη εγγραφή/είσοδο πατώντας το ",c.jsx("span",{className:" font-semibold",children:"sign up/ login"})," ή το  ",c.jsx("span",{className:" font-semibold",children:"Βρείτε Εργασία."})]})]}),c.jsxs("div",{id:"section2",className:"px-20 mt-10",children:[c.jsx("p",{className:` ${o===2?"text-pallete-800":""} font-semibold text-xl mb-2`,children:" 2. Δημιουργία Λογαριασμού/ Είσοδος στην υπηρεσία"}),c.jsxs("p",{children:["Με την επιλογή ",c.jsx("span",{className:"font-medium",children:"Sign Up"})," κατευθύνεστε σε ιστοσελίδα για να επιλέξετε αν ο λογαριασμός σας αντιστοιχεί σε επαγγελματία ή γονέα. Η δημιουργία λογαριασμού θα απαιτήσει να συμπληρώσετε πεδία όπως email, κωδικό και στη συνέχεια μέσω εισόδου από την σελίδα του gov.gr ανακτούνται τα προσωπικά στοιχεία σας (Ονοματεπώνυμο, ΑΜΚΑ,φύλο)."]}),c.jsxs("p",{className:"mt-5",children:["Με την επιλογή ",c.jsx("span",{className:"font-medium",children:"Login"})," κατευθύνεστε σε ιστοσελίδα για να συμπληρώσετε το email σας και τον κωδικό που εισάγατε κατά την εγγραφή σας στην υπηρεσία."]})]}),c.jsxs("div",{id:"section3",className:"px-20 mt-10",children:[c.jsx("p",{className:` ${o===3?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"3. Προφίλ Γονέα"}),c.jsxs("p",{children:["Μπορείτε να επεξεργαστείτε το προφίλ σας επιλέγοντας ",c.jsx("span",{className:"font-medium",children:"“Ρυθμίσεις Λογαριασμού”"}),", οι οποίες βρίσκονται στο δεξί μέρος του header, πατώντας το βέλος."]}),c.jsx("p",{children:"Πατώντας στο όνομα ή την φωτογραφία σας, μπορείτε να επισκεπτείτε το προφίλ σας, το οποίο θα γίνεται ορατό σε επαγγελματίες στους οποίους στέλνετε αίτημα επικοινωνίας αλλά και σε άλλους γονείς που διαβάζουν αξιολογήσεις που αφήνετε για κάποιον επαγγελματία με τον οποίο επιβεβαιωμένα συνεργαστήκατε."})]}),c.jsxs("div",{id:"section4",className:"px-20 mt-10",children:[c.jsx("p",{className:` ${o===4?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"4. Προφίλ Επαγγελματία"}),c.jsxs("p",{className:"",children:["Μπορείτε να επεξεργαστείτε το προφίλ σας πατώντας ",c.jsx("span",{className:"font-medium",children:"“Ρυθμίσεις Λογαριασμού”"}),". Εκεί μετά την εγγραφή σας μπορείτε να προσθέσετε μια φωτογραφία σας, καθώς και μια σύντομη περιγραφή."]}),c.jsxs("p",{children:["Αφότου συνδεθείτε επιλέγοντας ",c.jsx("span",{className:"font-medium",children:"Αγγελίες, Ειδοποιήσεις, Αξιολογήσεις"})," μπορείτε να δείτε τις τρέχουσες φόρμες, τις μη οριστικοποιημένες αγγελίες σας και την επεξεργασία τους."]}),c.jsx("p",{children:"Ένα πλήρως συμπληρωμένο προφίλ κερδίζει περισσότερη προσοχή από τους γονείς, καθώς δείχνει ότι είστε οργανωμένοι και αξιόπιστοι. Μην ξεχάσετε να προσθέσετε τις υπηρεσίες που προσφέρετε και να διατηρείτε το ημερολόγιό σας ενημερωμένο, ώστε να διευκολύνετε τους γονείς στην επιλογή τους."})]}),c.jsxs("div",{id:"section5",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===5?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"5. Αλλαγή Στοιχείων Λογαριασμού"}),c.jsx("p",{children:"Αφού έχετε συνδεθεί στην υπηρεσία μας μπορείτε να κάνετε αλλαγή των στοιχείων του λογαριασμού σας (εκτός των απαραίτητων στοιχείων για την ταυτοποίηση σας) πατώντας στο βέλος δίπλα από το προφίλ σας και στην συνέχεια “Ρυθμίσεις Λογαριασμού”."})]}),c.jsxs("div",{id:"section6",className:"px-20 mt-10",children:[c.jsx("p",{className:` ${o===6?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"6. Ιστορικό"}),c.jsx("p",{children:"Για τους γονείς με την επιλογή Ιστορικό, δίνεται η δυνατότητα προεπισκόπησης παλαιότερων αιτήσεων, πληρωμών, αξιολογήσεων και επαγγελματιών με τους οποίους έχετε έρθει σε επικοινωνία."}),c.jsx("p",{children:"Για τους επαγγελματίες με την επιλογή Ιστορικό, δίνεται η δυνατότητα προεπισκόπησης παλιότερων αγγελιών, συμφωνητικών, πληρωμών και τα στοιχεία των γονέων με τους οποίους έχετε έρθει σε επικοινωνία."}),c.jsx("p",{children:"Αυτό σας βοηθά να έχετε πλήρη εικόνα των συναλλαγών σας και να βρίσκετε εύκολα ό,τι χρειάζεστε."})]}),c.jsxs("div",{id:"section7",className:"px-20 mt-10",children:[c.jsx("p",{className:` ${o===7?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"7. Συμφωνία"}),c.jsx("p",{children:"Εφόσον έγινε επικοινωνία με τον επαγγελματία, ως γονέας πρέπει να στείλετε συμφωνητικό απασχόλησης στην οποία θα είναι ξεκάθαρη η σύμβαση ωρών, χρονικής περιόδου και μέρους. Περιμένετε την αποδοχή από τον επαγγελματία σαν υπογραφή του στην συμφωνία σας και η πρόσληψη ολοκληρώθηκε!"}),c.jsx("p",{children:"Ως επαγγελματίας, μετά την επικοινωνία, περιμένετε το συμφωνητικό απασχόλησης στις Ειδοποιήσεις, επιβεβαιώστε πως είναι όπως συμφωνήσατε και η πρόσληψη σας ολοκληρώθηκε!"})]}),c.jsxs("div",{id:"section8",className:"px-20 mt-10",children:[c.jsx("p",{className:` ${o===8?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"8. Πληρωμές"}),c.jsx("p",{children:"Η πληρωμή γίνεται μέσω της παροχής κωδικού voucher από τον γονέα στον επαγγελματία. Στην συνέχεια ο επαγγελματίας ωφείλει να επιβεβαιώσει την παραλαβή του voucher, πατώντας “αποδοχή” στην ειδοποίηση."})]}),c.jsxs("div",{id:"section9",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===9?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"9. Αποσύνδεση"}),c.jsx("p",{children:"Αφού έχετε συνδεθεί στην υπηρεσία μας μπορείτε να αποσυνδεθείτε πατώντας στο βέλος δίπλα από το προφίλ σας και στην συνέχεια Αποσύνδεση."})]}),c.jsxs("div",{id:"section10",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===10?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"10. Υποστήριξη Πελατών"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Είμαστε εδώ για να σας βοηθήσουμε με οποιαδήποτε απορία ή πρόβλημα! Μη διστάσετε να επικοινωνήσετε μαζί μας στην παρακάτω ηλεκτρονική διεύθυνση."}),c.jsx("p",{className:"mt-4 text-lg font-medium text-gray-800",children:c.jsx("a",{href:"mailto:nanika@gmail.com",className:" hover:text-pallete-600 transition duration-200",children:"nanika@gmail.com"})}),c.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Ωράριο λειτουργίας: Δευτέρα έως Παρασκευή, 09:00 - 17:00"})]}),c.jsxs("div",{id:"section11",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===11?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"11. Πληροφορίες Ασφάλειας"}),c.jsxs("p",{children:["Για την επιβεβαίωση της ταυτότητας, συνεργαζόμαστε με την πλατφόρμα του gov.gr, εξασφαλίζοντας την αξιοπιστία των στοιχείων που χρησιμοποιούνται στην υπηρεσία μας. Τα προσωπικά σας δεδομένα χρησιμοποιούνται αποκλειστικά για τη λειτουργία της πλατφόρμας και δεν κοινοποιούνται ποτέ σε τρίτους χωρίς τη συγκατάθεσή σας.",c.jsx("br",{})," ",c.jsx("br",{})," Σας συνιστούμε να επιλέγετε ισχυρούς κωδικούς πρόσβασης και να αποφεύγετε τη χρήση του ίδιου κωδικού σε άλλες πλατφόρμες. Εάν παρατηρήσετε οποιαδήποτε ύποπτη δραστηριότητα στον λογαριασμό σας, παρακαλούμε να επικοινωνήσετε άμεσα με την υποστήριξη πελατών μας.     ."]})]}),c.jsxs("div",{id:"section12",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===12?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"12. Ειδοποιήσεις"}),c.jsx("p",{className:"text-base leading-relaxed",children:"Στην πλατφόρμα, οι επαγγελματίες λαμβάνουν ειδοποιήσεις για να παραμένουν ενήμεροι σχετικά με αιτήματα και ενέργειες από γονείς. Υπάρχουν τέσσερα βασικά είδη ειδοποιήσεων:"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αίτημα Επικοινωνίας:"})," Όταν ένας γονέας ενδιαφέρεται να επικοινωνήσει με έναν επαγγελματία, στέλνει αίτημα επικοινωνίας. Ο επαγγελματίας μπορεί να αποδεχτεί ή να απορρίψει το αίτημα ανάλογα με τη διαθεσιμότητά του."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Λήξη Συνεργασίας:"})," Αυτή η ειδοποίηση ενημερώνει τον επαγγελματία ότι μια συνεργασία με έναν γονέα έχει ολοκληρωθεί. Είναι χρήσιμη για την παρακολούθηση του ιστορικού συνεργασιών."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Συμφωνητικό Απασχόλησης:"})," Όταν ένας γονέας στέλνει το συμφωνητικό για συγκεκριμένη εργασία, ο επαγγελματίας λαμβάνει σχετική ειδοποίηση. Έχει τη δυνατότητα να αποδεχτεί ή να απορρίψει το συμφωνητικό με βάση τις ανάγκες και τη διαθεσιμότητά του."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αποστολή Κωδικού Voucher:"})," Για την πληρωμή των υπηρεσιών, οι γονείς αποστέλλουν κωδικό voucher στους επαγγελματίες. Με τη λήψη αυτής της ειδοποίησης, ο επαγγελματίας πρέπει να επιβεβαιώσει την παραλαβή του κωδικού για να ολοκληρωθεί η διαδικασία πληρωμής."]})]}),c.jsxs("p",{className:"text-base leading-relaxed",children:[c.jsx("br",{}),"Αντίστοιχα, οι γονείς λαμβάνουν ειδοποιήσεις για να παρακολουθούν αιτήματα, συνεργασίες και πληρωμές με επαγγελματίες. Υπάρχουν έξι βασικά είδη ειδοποιήσεων:"]}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αποδοχή Αιτήματος Επικοινωνίας:"})," Ενημερώνεστε όταν ένας επαγγελματίας αποδεχτεί το αίτημα επικοινωνίας που του στείλατε, επιτρέποντάς σας να προχωρήσετε στη συνεργασία."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Λήξη Συνεργασίας:"})," Λαμβάνετε ενημέρωση ότι η συνεργασία σας με έναν επαγγελματία ολοκληρώθηκε, ώστε να γνωρίζετε πότε έληξε η συμφωνία."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Απόρριψη Συμφωνητικού Απασχόλησης:"})," Ενημερώνεστε όταν ένας επαγγελματίας απορρίψει το συμφωνητικό απασχόλησης που του στείλατε, διευκολύνοντάς σας να αναζητήσετε άλλες επιλογές."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αποδοχή Συμφωνητικού Απασχόλησης:"})," Ενημερώνεστε όταν ένας επαγγελματίας αποδεχτεί το συμφωνητικό απασχόλησης που του στείλατε, ενημερώνοντας σας πως η συνεργασία έγινε επίσημη."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Απόρριψη Αιτήματος Επικοινωνίας:"})," Ενημερώνεστε όταν ένας επαγγελματίας απορρίψει το αίτημα επικοινωνίας σας."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Επιβεβαίωση Λήψης Voucher:"})," Λαμβάνετε ειδοποίηση όταν ένας επαγγελματίας επιβεβαιώσει την παραλαβή του κωδικού voucher που του αποστείλατε, ολοκληρώνοντας τη διαδικασία πληρωμής."]})]})]}),c.jsxs("div",{id:"section13",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===13?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"13. Κριτικές και Αξιολογήσεις"}),c.jsx("p",{children:'Μετά την λήξη της απασχόλησης ενός επαγγελματία μπορεί ο γονιός να κάνει κριτική για τις υπηρεσίες του. Πατώντας στην ειδοποίηση μπορεί να αξιολογήσει τον επαγγελματία και να γράψει αξιοσημείωτα στοιχεία σχετικά με την συνεργασία τους. Ως επαγγελματίας μπορείτε να δείτε προηγούμενες αξιολογήσεις πατώντας την επιλογή "Αξιολογήσεις" και στο Προφίλ σας εμφανίζονται οι πιο πρόσφατες.'})]}),c.jsxs("div",{id:"section14",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===14?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"14. Δυνατότητες για Επαγγελματίες"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Δημιουργία Πλήρους Προφίλ:"})," Συμπληρώστε το προφίλ σας με φωτογραφία, περιγραφή και τις υπηρεσίες που προσφέρετε. Ένα πλήρες προφίλ αυξάνει τις πιθανότητες να σας επιλέξουν οι γονείς."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Διαχείριση Διαθεσιμότητας:"})," Ενημερώστε το ημερολόγιό σας για να δείξετε τις ημέρες και ώρες που είστε διαθέσιμος/-η."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Λήψη Αιτημάτων Επικοινωνίας:"})," Δεχτείτε αιτήματα από γονείς που ενδιαφέρονται για τις υπηρεσίες σας και επιλέξτε αν θέλετε να προχωρήσετε σε συνεργασία."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αγγελίες και Προβολή Υπηρεσιών:"})," Δημοσιεύστε αγγελίες για να αναδείξετε τις δεξιότητες και την εμπειρία σας."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αξιολογήσεις και Βαθμολογίες:"})," Λάβετε αξιολογήσεις από γονείς με τους οποίους συνεργαστήκατε, ώστε να ενισχύσετε την αξιοπιστία σας."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Εύκολες Πληρωμές:"})," Λάβετε πληρωμές μέσω κωδικών voucher, εξασφαλίζοντας ασφάλεια και διαφάνεια στις συναλλαγές."]})]})]}),c.jsxs("div",{id:"section15",className:"px-20 mt-10 mb-10",children:[c.jsx("p",{className:` ${o===15?"text-pallete-800":""} font-semibold text-xl mb-2`,children:"15. Δυνατότητες για Γονείς"}),c.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αναζήτηση Επαγγελματιών:"})," Χρησιμοποιήστε φίλτρα (π.χ. τοποθεσία, διαθεσιμότητα, αξιολογήσεις) για να βρείτε επαγγελματίες που ταιριάζουν στις ανάγκες σας."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αιτήματα Επικοινωνίας:"})," Στείλτε αιτήματα επικοινωνίας σε επαγγελματίες που σας ενδιαφέρουν και συζητήστε τις λεπτομέρειες της συνεργασίας σας."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Αξιολόγηση Επαγγελματιών:"})," Αφήστε αξιολογήσεις για τους επαγγελματίες με τους οποίους συνεργαστήκατε, βοηθώντας άλλους γονείς να κάνουν την καλύτερη επιλογή."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Διαχείριση Συνεργασιών:"})," Παρακολουθήστε τις ενεργές και παλαιότερες συνεργασίες σας μέσω του ιστορικού."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Ασφαλείς Πληρωμές:"})," Πραγματοποιήστε πληρωμές μέσω κωδικών voucher, εξασφαλίζοντας ασφάλεια και διαφάνεια."]}),c.jsxs("li",{children:[c.jsx("span",{className:"font-semibold",children:"Λήψη Ειδοποιήσεων:"})," Λαμβάνετε ενημερώσεις για την πρόοδο των αιτημάτων σας, τις συνεργασίες και τις πληρωμές."]})]})]}),t&&c.jsx("button",{onClick:i,className:"fixed bottom-20 right-8 p-4 bg-blue-800 text-white size-16 flex items-center justify-center text-2xl font-semibold rounded-full shadow-lg hover:bg-blue-600 transition-all duration-300 z-50",children:"↑"})]})]}),c.jsx(on,{})]})}gx.propTypes={setSuccessMessage:ie.func.isRequired};function gx({setSuccessMessage:n}){const e=cr();console.log(e);const t=e.pathname;console.log(t);const{userData:r,loading:s,refetch:i}=st(),[o,u]=C.useState(""),[h,p]=C.useState(!1),[g,y]=C.useState(0),[x,_]=C.useState(0),[E,j]=C.useState("");C.useEffect(()=>{r&&(u(r==null?void 0:r.bio),j(r==null?void 0:r.img),y(r==null?void 0:r.age),t==="/nannysettings"&&_(r==null?void 0:r.experience))},[r]);const{mutateAsync:S,isPending:A}=qt({mutationFn:()=>_M(r==null?void 0:r.id,o),onSuccess:()=>{n("Το βιογραφικό σας ενημερώθηκε επιτυχώς."),i()}}),{mutateAsync:M,isPending:P}=qt({mutationFn:()=>bM(r==null?void 0:r.id,E),onSuccess:()=>{n("Η φωτογραφία σας ενημερώθηκε επιτυχώς."),i(),p(!1),j("")}}),{mutateAsync:L,isPending:D}=qt({mutationFn:()=>EM(r==null?void 0:r.id,g),onSuccess:()=>{n("Η ηλικία σας ενημερώθηκε επιτυχώς."),i()}}),{mutateAsync:B,isPending:R}=qt({mutationFn:()=>NM(r==null?void 0:r.id,x),onSuccess:()=>{n("Τα χρόνια εμπειρίας σας ενημερώθηκε επιτυχώς."),i()}}),T=$=>{u($.target.value)},k=()=>{(r==null?void 0:r.bio)!==o&&S(),(r==null?void 0:r.img)!==E&&M(),(r==null?void 0:r.age)!==g&&L(),t==="/nannysettings"&&(r==null?void 0:r.experience)!==x&&B()},F=()=>!(r!=null&&r.uid)||A||D||P||R?!0:(r==null?void 0:r.bio)===o&&(r==null?void 0:r.img)===E&&(r==null?void 0:r.age)===g?!(t==="/nannysettings"&&(r==null?void 0:r.experience)!==x):!1;if(s)return c.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!s)return c.jsxs("div",{className:"w-full  flex gap-5 py-10 flex-col items-center",children:[c.jsx("p",{className:"text-3xl font-bold ",children:"Το Προφίλ Μου"}),c.jsxs("div",{className:"flex flex-col items-center gap-2 relative ",children:[c.jsx("img",{id:"pfp",src:r==null?void 0:r.img,className:"size-36 border-2 object-cover rounded-full"}),c.jsx("div",{onClick:()=>{p(!h)},className:`absolute inset-0 flex items-center text-2xl justify-center cursor-pointer text-white 
                                        bg-black bg-opacity-50 opacity-70 hover:opacity-100 rounded-full`,children:c.jsx(ex,{})})]}),h&&c.jsxs("div",{className:"w-1/3 font-medium h-20 mx-auto flex flex-col gap-1 mb-3 items-center  justify-center",children:[c.jsx("p",{children:"URL εικόνας προφίλ:"}),c.jsx("input",{className:"bg-white h-10 w-1/2 rounded-md border-2 pl-2   border-gray-400 px-1",placeholder:"https://jdm-restoration.com/cdn/shop/collections/jzx100_1350x902.jpg?v=1679301822",value:E,onChange:$=>j($.target.value)})]}),c.jsx("div",{className:"w-1/2 px-auto h-1/2  flex flex-col  items-center",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Όνομα"}),c.jsx("input",{disabled:!0,className:"bg-gray-300 w-full h-10 font-medium rounded-md border-2 border-gray-500 px-1 ",value:r==null?void 0:r.name,title:"Τα συμπληρωμένα στοιχεία αντλήθηκαν από την ιστοσελίδα του gov.gr"})]})}),c.jsx("div",{className:"w-1/2 px-auto h-1/2 flex flex-col  items-center",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Επίθετο"}),c.jsx("input",{disabled:!0,className:"bg-gray-300 w-full h-10 font-medium rounded-md border-2 border-gray-500 px-1",value:r==null?void 0:r.surname,title:"Τα συμπληρωμένα στοιχεία αντλήθηκαν από την ιστοσελίδα του gov.gr"})]})}),c.jsx("div",{className:"w-1/2 px-auto h-1/2  flex flex-col  items-center",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"ΑΜΚΑ"}),c.jsx("input",{disabled:!0,className:"bg-gray-300 w-full h-10 font-medium rounded-md border-2 border-gray-500 px-1",value:r==null?void 0:r.AMKA,title:"Τα συμπληρωμένα στοιχεία αντλήθηκαν από την ιστοσελίδα του gov.gr"})]})}),c.jsx("div",{className:"w-1/2 px-auto h-1/2  flex flex-col  items-center",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Φύλο"}),c.jsx("input",{disabled:!0,className:"bg-gray-300 w-full h-10 font-</label>medium rounded-md border-2 border-gray-500 px-1",value:(r==null?void 0:r.gender)==!0?"Αρσενικό":"Θηλυκό",title:"Τα συμπληρωμένα στοιχεία αντλήθηκαν από την ιστοσελίδα του gov.gr"})]})}),c.jsx("div",{className:"w-1/3  h-1/2 px-auto flex flex-col  items-center",children:c.jsxs("div",{className:"w-2/4  ml-8",children:[c.jsx("p",{className:"font-medium",children:"Ηλικία"}),c.jsx("input",{className:"bg-gray-50 w-3/6  border-gray-700 h-10 font-medium rounded-md border-2  px-2",value:g,title:"Τα συμπληρωμένα στοιχεία αντλήθηκαν από την ιστοσελίδα του gov.gr",type:"number",onChange:$=>{y($.target.value)},min:18,max:99})]})}),t==="/nannysettings"&&c.jsx("div",{className:"w-1/3  h-1/2 px-auto flex flex-col  items-center",children:c.jsxs("div",{className:"w-2/4  ml-8",children:[c.jsx("p",{className:"font-medium",children:"Χρόνια Εμπειρίας"}),c.jsx("input",{className:"bg-gray-50 w-3/6  border-gray-700 h-10 font-medium rounded-md border-2  px-2",value:x,title:"Τα συμπληρωμένα στοιχεία αντλήθηκαν από την ιστοσελίδα του gov.gr",type:"number",onChange:$=>{_($.target.value)},min:0,max:99})]})}),c.jsxs("label",{className:"form-control  w-1/3",children:[c.jsx("div",{className:"label ml-1",children:c.jsx("span",{className:"label-text font-medium",children:"Σύντομο Βιογραφικό"})}),c.jsx("textarea",{className:"textarea bg-gray-50  textarea-bordered h-24 w-full px-1 resize-none border-2 border-gray-700 rounded-md",value:o,placeholder:`${(r==null?void 0:r.bio)==0?" Δεν βρέθηκε βιογραφικό":""}`,onChange:T})]}),c.jsx("button",{className:`border-2 ${F()?"bg-gray-400 border-gray-400":"hover:bg-pallete-700 hover:border-pallete-700 text-white border-pallete-800 bg-pallete-800"}  w-32 font-medium h-10 px-2 text-center rounded-md`,onClick:()=>k(),disabled:F(),children:A||D||P||R?c.jsx("span",{className:"loading loading-md"}):"Ενημέρωση"})]})}yx.propTypes={setSuccessMessage:ie.func.isRequired};function yx({setSuccessMessage:n}){const{userData:e,loading:t,refetch:r}=st(),[s,i]=C.useState(""),[o,u]=C.useState(""),[h,p]=C.useState("aasda"),[g,y]=C.useState(""),[x,_]=C.useState(""),[E,j]=C.useState(""),[S,A]=C.useState(""),[M,P]=C.useState(""),[L,D]=C.useState(""),[B,R]=C.useState(!1),T=()=>R(Ne=>!Ne),[k,F]=C.useState(!1),$=()=>F(Ne=>!Ne),[U,V]=C.useState(!1),Pe=()=>V(Ne=>!Ne);C.useEffect(()=>{e&&!t&&(y((e==null?void 0:e.number)||""),console.log(e),_((e==null?void 0:e.skype)||""))},[e]),C.useEffect(()=>{we()},[s,o]);const we=()=>{s!=o&&s.length!=0&&o.length!=0?p("Οι διευθύνσεις email πρέπει να ταυτίζονται."):s==(e==null?void 0:e.email)?p("Δεν επιτρέπεται η χρήση του ίδιου email ως νέο."):p("")},xe=()=>{S!==M&&S.length!==0&&M.length!==0?D("Οι κωδικοί πρέπει να ταυτίζονται."):S==(e==null?void 0:e.password)&&S===M?D("Δεν επιτρέπεται η χρήση του ίδιου κωδικού ως νέο."):E.length===0&&S.length>0&&M.length>0?D("Παρακαλώ συμπληρώστε τον τρέχων κωδικό σας."):D("")};C.useEffect(()=>{xe()},[E,S,M]);const[ve,Q]=C.useState("");C.useEffect(()=>{const Ne=/^\d+$/;g.length!==10?Q("Ο αριθμός τηλεφώνου πρέπει να περιέχει 10 ψηφία."):Ne.test(g)?g===(e==null?void 0:e.number)?Q("Δεν χρειάζεται ενημέρωση με τον ίδιο αριθμό τηλεφώνου."):Q(""):Q("Ο αριθμός τηλεφώνου πρέπει να περιέχει μόνο ψηφία.")},[g]);const[le,ce]=C.useState("");C.useEffect(()=>{const Ne=/^[A-Za-z0-9_]+$/;x===(e==null?void 0:e.skype)||x.length>0?ce(""):!Ne.test(x)&&x.length>0?ce('H διεύθυνση Skype πρέπει να περιέχει μόνο χαρακτήρες a-z,A-Z,0-9 και "_".'):(Ne.test(x)&&x.length>0||x.length===0)&&ce("")},[x]);const{mutateAsync:Y,isPending:se}=qt({mutationFn:()=>xM(e==null?void 0:e.password,s),onSuccess:()=>{console.log("Email updated successfully"),n("Το email ενημερώθηκε επιτυχώς"),r()},onError:Ne=>{p(Ne.message)}}),{mutateAsync:Ee,isPending:Xe}=qt({mutationFn:()=>wM(e==null?void 0:e.password,S),onSuccess:()=>{console.log("password updated successfully"),n("Ο κωδικός πρόσβασης ενημερώθηκε επιτυχώς."),r()},onError:Ne=>{D(Ne.message)}}),{mutateAsync:ze,isPending:at}=qt({mutationFn:()=>CM(e==null?void 0:e.id,g),onSuccess:()=>{console.log("Bio updated successfully"),n("Ο αριθμός τηλεφώνου ενημερώθηκε επιτυχώς."),r()}}),{mutateAsync:lt,isPending:dt}=qt({mutationFn:()=>jM(e==null?void 0:e.id,x),onSuccess:()=>{console.log("Bio updated successfully"),n("Η διεύθυνση Skype ενημερώθηκε επιτυχώς."),r()}});if(t)return c.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})});if(!t&&e)return c.jsxs("div",{className:"w-full  bg-white gap-5 py-10 flex flex-col items-center ",children:[c.jsx("p",{className:"text-3xl mb-8 font-bold ",children:"Στοιχεία Λογαριασμού"}),c.jsxs("div",{className:"w-2/3 flex flex-col ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Αλλαγή email"}),c.jsxs("div",{className:"ml-5 w-full mt-8 flex flex-col gap-5 font-medium text-lg",children:[c.jsxs("div",{className:"w-full flex",children:[c.jsx("p",{className:"w-1/6",children:"Τρέχον Εmail:"}),c.jsxs("p",{className:"w-1/3 ml-5 ",children:[e==null?void 0:e.email," "]})]}),c.jsxs("div",{className:"w-full flex",children:[c.jsx("p",{className:"w-1/6",children:"Νέο Εmail:"}),c.jsx("input",{className:"w-1/3 ml-5 h-10 border-2 bg-white border-gray-500 rounded-md px-1",value:s,onChange:Ne=>i(Ne.target.value)})]}),c.jsxs("div",{className:"w-full flex",children:[c.jsx("p",{className:"w-1/6",children:"Επανάληψη Nέου email:"}),c.jsx("input",{className:"w-1/3 ml-5 h-10 border-2 bg-white border-gray-500 rounded-md px-1",value:o,onChange:Ne=>u(Ne.target.value)})]}),h.length>0&&c.jsx("p",{className:"mt-5 -mb-10 text-red-500 ",children:h})]}),c.jsxs("div",{className:"w-2/3 font-medium  mt-10 flex justify-end items-center gap-4 px-3  h-16",children:[c.jsx("button",{className:" border-2 border-gray-500 rounded-md p-2  bg-white hover:border-red-600 hover:text-red-600 ",onClick:()=>{i(""),u("")},children:"Καθαρισμός"}),c.jsx("button",{className:` border-2  rounded-md p-2 ${h.length>0||s.length===0||o.length===0?"border-gray-400 bg-gray-400":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"}`,disabled:h.length>0||s.length===0||o.length===0,onClick:()=>Y(),children:"Ενημέρωση"})]})]}),c.jsxs("div",{className:"w-2/3 mt-10 flex flex-col  ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Αλλαγή κωδικού πρόσβασης"}),c.jsxs("div",{className:"ml-5 w-full mt-8 flex flex-col gap-5 font-medium text-lg",children:[c.jsxs("div",{className:"w-full flex items-center",children:[c.jsx("p",{className:"w-1/6 ",children:"Τρέχων κωδικός:"}),c.jsxs("div",{className:"w-1/3 h-10 flex ml-5 items-center justify-center",children:[c.jsx("input",{type:B?"text":"password",className:"w-full h-full border-l-2 border-y-2 rounded-l-md pl-2  border-gray-500 bg-white",value:E,onChange:Ne=>j(Ne.target.value)}),c.jsx("button",{onClick:T,className:"w-7  rounded-r-md border-2 border-gray-500 h-full  bg-white flex items-center justify-center",children:B?c.jsx(o0,{}):c.jsx(Lf,{})})]})]}),c.jsxs("div",{className:"w-full flex",children:[c.jsx("p",{className:"w-1/6",children:"Nέος κωδικός:"}),c.jsxs("div",{className:"w-1/3 h-10 flex ml-5 items-center justify-center",children:[c.jsx("input",{type:k?"text":"password",className:"w-full h-full border-l-2 border-y-2 rounded-l-md pl-2  border-gray-500 bg-white",value:S,onChange:Ne=>A(Ne.target.value)}),c.jsx("button",{onClick:$,className:"w-7  rounded-r-md border-2 border-gray-500 h-full  bg-white flex items-center justify-center",children:k?c.jsx(o0,{}):c.jsx(Lf,{})})]})]}),c.jsxs("div",{className:"w-full flex items-center",children:[c.jsx("p",{className:"w-1/6 ",children:"Επανάληψη Nέου κωδικού:"}),c.jsxs("div",{className:"w-1/3 h-10 flex ml-5 items-center justify-center",children:[c.jsx("input",{type:U?"text":"password",className:"w-full h-full border-l-2 border-y-2 rounded-l-md pl-2  border-gray-500 bg-white",value:M,onChange:Ne=>P(Ne.target.value)}),c.jsx("button",{onClick:Pe,className:"w-7  rounded-r-md border-2 border-gray-500 h-full  bg-white flex items-center justify-center",children:U?c.jsx(o0,{}):c.jsx(Lf,{})})]})]}),L.length>0&&c.jsx("p",{className:"font-medium mt-10 -mb-10 text-red-500 ",children:L})]}),c.jsxs("div",{className:"w-2/3 font-medium mt-10 flex gap-3 justify-end items-center px-3  h-16",children:[c.jsx("button",{className:" border-2 border-gray-500 rounded-md p-2  bg-white hover:border-red-600 hover:text-red-600 ",onClick:()=>{j(""),A(""),P("")},children:"Καθαρισμός"}),c.jsx("button",{className:` border-2 border-gray-500 rounded-md p-2 ${L.length>0||E.length===0||S.length===0||M.length===0?"border-gray-400 bg-gray-400":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"}`,disabled:L.length>0||E.length===0||S.length===0||M.length===0,onClick:()=>Ee(),children:"Ενημέρωση"})]})]}),c.jsxs("div",{className:"w-2/3 mt-20 flex flex-col font-medium   ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Αλλαγή Τηλεφώνου"}),c.jsx("input",{className:"w-1/6 pl-2 ml-5 text-xl h-10 bg-white border-2 border-gray-500 rounded-md mt-5",value:g,onChange:Ne=>y(Ne.target.value)}),ve.length>0&&c.jsx("p",{className:"font-medium mt-10 -mb-10 text-red-500 ",children:ve}),c.jsx("div",{className:"w-2/3  mt-10 flex gap-3 justify-end items-center px-3  h-16",children:c.jsx("button",{className:` ${ve.length>0?"border-gray-400 bg-gray-400":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"} border-2 border-gray-500 rounded-md p-2 `,disabled:ve.length>0,onClick:()=>ze(),children:"Ενημέρωση"})})]}),c.jsxs("div",{className:"w-2/3 mt-14 flex flex-col font-medium   ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Αλλαγή Διεύθυνσης Skype"}),c.jsx("input",{className:"w-1/6 pl-2 ml-5 text-xl h-10 bg-white border-2 border-gray-500 rounded-md mt-5",value:x,onChange:Ne=>_(Ne.target.value)}),le.length>0&&c.jsx("p",{className:"font-medium mt-10 -mb-10 text-red-500 ",children:le}),c.jsx("div",{className:"w-2/3  mt-10 flex gap-3 justify-end items-center px-3  h-16",children:c.jsx("button",{className:` ${le.length>0||x.length===0||x===(e==null?void 0:e.skype)?"border-gray-400 bg-gray-400":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"} flex items-center justify-center h-12 w-28 border-2 border-gray-500 rounded-md p-2 `,disabled:le.length>0||x.length===0||x===(e==null?void 0:e.skype),onClick:()=>lt(),children:dt?c.jsx("span",{className:"loading loading-sm  text-black"}):"Ενημέρωση"})})]})]})}function A9(){const[n,e]=C.useState(1),t=h=>e(h),{userData:r,loading:s}=st(),[i,o]=C.useState(""),u=3e3;return C.useEffect(()=>{if(i.length>0){const h=setTimeout(()=>{o("")},u);return()=>clearTimeout(h)}},[i,u]),s?c.jsx("div",{className:"w-full bg-white h-screen flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})}):c.jsxs("div",{className:"w-full  ",children:[_n(r,0),c.jsxs("div",{className:"w-full bg-white flex ",children:[i.length>0&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-20 left-1/2 transform z-10 -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-xl",children:i})]}),c.jsxs("div",{className:"w-1/5 flex flex-col items-center h-full  mt-10 ml-10 sticky top-5 ",children:[c.jsx("button",{className:`${n==1?"text-pallete-800 font-semibold underline":" text-black"} hover:text-pallete-700 font-medium text-lg  `,onClick:()=>t(1),children:"Το Προφίλ Μου"}),c.jsx("button",{className:`${n==2?"text-pallete-800 font-semibold underline":" text-black"} hover:text-pallete-700 font-medium text-lg  `,onClick:()=>t(2),children:"Στοιχεία Λογαριασμού"})]}),c.jsxs("div",{className:"w-full   ",children:[n==1&&c.jsx(gx,{setSuccessMessage:o}),n==2&&c.jsx(yx,{setSuccessMessage:o})]})]}),c.jsx(on,{})]})}function D9(){const{id:n}=_o(),{userData:e,loading:t}=st(),r=(e==null?void 0:e.id)===n,{data:s,isLoading:i}=Dt({queryKey:["parentProfile",n],queryFn:()=>DS(n),enabled:n&&!r,retry:1,cacheTime:0}),o=r?e:s;if(t||i)return c.jsx("div",{className:"w-full bg-white h-screen flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!r&&(!s||(s==null?void 0:s.id)!==(e==null?void 0:e.id)&&(s==null?void 0:s.role)!==!0))return c.jsxs("div",{className:"w-full h-screen bg-white",children:[_n(e,0),c.jsxs("div",{className:"h-screen bg-white flex flex-col gap-5 items-center justify-center text-3xl font-medium",children:[c.jsx("p",{children:"Δεν βρέθηκε ο χρήστης."}),c.jsx(Le,{to:"/",className:"text-blue-500 ml-2",children:"Επιστροφή στην αρχική σελίδα."})]}),c.jsx(on,{})]});if(n===(e==null?void 0:e.id)||(o==null?void 0:o.role)===!0)return c.jsxs("div",{className:"w-full min-h-screen flex flex-col bg-white",children:[_n(e,0),c.jsxs("div",{className:"flex-grow w-full flex flex-col",children:[c.jsx("p",{className:"text-center font-bold mt-10 text-4xl mx-auto ",children:"Προφίλ Κηδεμόνα"}),c.jsx("div",{className:"w-3/4 mx-auto mt-2 pt-5 flex flex-col gap-2 ",children:c.jsxs("div",{className:"w-full flex  gap-8 p-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{className:"h-44 w-44 rounded-full object-cover",src:o==null?void 0:o.img})}),c.jsxs("div",{className:" w-full h-20 flex items-center",children:[c.jsxs("p",{className:"text-2xl font-medium",children:[o==null?void 0:o.name," ",o==null?void 0:o.surname," , ",o==null?void 0:o.age]}),o!=null&&o.gender?c.jsx(IS,{className:"text-2xl ml-2",title:"Αρσενικό"}):c.jsx(kS,{className:"text-2xl ml-2",title:"Θηλυκό"})]})]})}),c.jsxs("div",{className:"w-3/4 flex flex-col pl-10  0  mt-5  mx-auto",children:[c.jsx("span",{className:"w-2/3  mb-2 text-start pl-2 font-medium text-xl  ",children:"Σύντομη Περιγραφή"}),c.jsx("textarea",{className:"w-2/3  h-40 rounded-md shadow-md border-2 resize-none border-gray-400 bg-white shadow-gray-400 p-2",value:(o==null?void 0:o.bio)||"Δεν βρέθηκε βιογραφικό.",readOnly:!0})]})]}),c.jsx(on,{})]})}pm.propTypes={review:ie.shape({bio:ie.string,createdAt:ie.string.isRequired,parentId:ie.string.isRequired,rating:ie.number.isRequired,img:ie.string.isRequired,personName:ie.string.isRequired,personSurname:ie.string.isRequired,nannyId:ie.string.isRequired}).isRequired,nannyName:ie.string,nannySurname:ie.string,nannyImg:ie.string,seenFrom:ie.string.isRequired};function pm({seenFrom:n,nannyName:e,nannySurname:t,nannyImg:r,review:s}){const[i,o]=C.useState(0),[u,h]=C.useState(0),[p,g]=C.useState(0);return C.useEffect(()=>{if(s.rating){const y=s.rating;o(Math.floor(y)),h(y%1>=.5?1:0),g(5-Math.floor(y)-(y%1>=.5?1:0))}},[]),c.jsxs("div",{className:"w-11/12 md:w-3/5 mx-auto  flex h-40  items-center justify-center font-medium  border-2 pb-2 shadow-lg shadow-gray-300 border-black rounded-lg px-2 py-1 mt-5",children:[c.jsx("div",{className:"w-32 h-full flex items-center justify-center",children:c.jsx("img",{src:n==="parent"?r:s.img,alt:"",className:" h-32 rounded-full"})}),c.jsxs("div",{className:"w-5/6 h-full flex flex-col pl-2",children:[c.jsx("p",{className:"ml-1 font-normal",children:s.createdAt}),c.jsxs("div",{className:"w-full flex pl-1 items-center  justify-between",children:[c.jsxs("div",{className:"flex items-center text-xl mb-2",children:[n==="parent"&&c.jsxs("span",{className:"",children:[s.personName," ",s.personSurname," ",">"," ",c.jsxs(Le,{className:" underline hover:text-pallete-700 ",to:`/nannyprofile/${s.nannyId}`,children:[e," ",t]})]}),n!=="parent"&&c.jsxs(Le,{className:" underline hover:text-pallete-700 ",to:`/parentprofile/${s.parentId}`,children:[s.personName," ",s.personSurname]})]}),c.jsxs("div",{className:"flex items-center h-full mr-1",title:`Βαθμολογία: ${s.rating}/5`,children:[Array.from({length:i},(y,x)=>c.jsx(Kv,{className:"text-black text-xl"},`full-${x}`)),u>0&&c.jsx(Yv,{className:"text-black text-xl"}),Array.from({length:p},(y,x)=>c.jsx(Qv,{className:"text-black text-xl"},`empty-${x}`))]})]}),c.jsx("textarea",{className:"w-full px-2 py-1 bg-white resize-none h-full rounded-md border-2 border-gray-400",value:s.bio,placeholder:s.bio.length===0?"Ο γονέας δεν πρόσθεσε κάποια περιγραφή.":"",readOnly:!0})]})]})}function M9(){var P,L,D,B,R,T;const{userData:n,loading:e}=st(),{id:t}=_o(),r=(n==null?void 0:n.id)===t,{data:s,isLoading:i}=Dt({queryKey:["nannyProfile",t],queryFn:()=>DS(t),enabled:t&&!r,retry:1,cacheTime:0}),o=r?n:s,{data:u,isLoading:h}=Dt({queryFn:()=>FS(o==null?void 0:o.id),queryKey:["reviews",o==null?void 0:o.id],retry:1}),[p,g]=C.useState(0),[y,x]=C.useState(0),[_,E]=C.useState(0);C.useEffect(()=>{if((o==null?void 0:o.rating)>=0){const k=o==null?void 0:o.rating;g(Math.floor(k)),x(k%1>=.5?1:0),E(5-Math.floor(k)-(k%1>=.5?1:0)),console.log(5-Math.floor(k)-(k%1>=.5?1:0))}},[o]);const[j,S]=C.useState(!1),A=()=>{window.scrollY>200?S(!0):S(!1)},M=()=>{window.scrollTo({top:0,behavior:"smooth"})};if(C.useEffect(()=>(window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)),[]),e||i)return c.jsx("div",{className:"w-full bg-white h-screen flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!r&&(!s||(s==null?void 0:s.id)!==(n==null?void 0:n.id)&&(s==null?void 0:s.role)!==!1))return c.jsxs("div",{className:"w-full h-screen bg-white",children:[_n(n,0),c.jsxs("div",{className:"h-screen bg-white flex flex-col gap-5 items-center justify-center text-3xl font-medium",children:[c.jsx("p",{children:"Δεν βρέθηκε ο χρήστης."}),c.jsx(Le,{to:"/",className:"text-blue-500 ml-2",children:"Επιστροφή στην αρχική σελίδα."})]}),c.jsx(on,{})]});if(t===(n==null?void 0:n.id)||(o==null?void 0:o.role)===!1)return c.jsxs("div",{className:"w-full bg-white",children:[_n(n,0),c.jsxs("div",{className:" w-full  bg-white flex",children:[c.jsxs("div",{className:"w-4/6 pb-2 ",children:[c.jsxs("div",{className:"my-4 px-2 w-full h-40  flex items-center justify-between pr-14 pl-5",children:[c.jsxs("div",{className:"flex h-full",children:[c.jsx("img",{src:o==null?void 0:o.img,className:"size-40 rounded-full",alt:"Nanny Profile"}),c.jsxs("div",{className:"ml-4 h-2/3 mt-5 text-2xl flex flex-col justify-start",children:[c.jsxs("div",{className:"w-full flex items-center font-medium",children:[c.jsxs("span",{children:[o==null?void 0:o.name," ",o==null?void 0:o.surname,", "]}),c.jsx("p",{className:"ml-1 mr-2",children:o==null?void 0:o.age}),!(o!=null&&o.gender)&&c.jsx(kS,{className:"text-xl",title:"Θηλυκό"}),(o==null?void 0:o.gender)&&c.jsx(IS,{className:"text-xl",title:"Αρσενικό"})]}),c.jsxs("p",{children:[o==null?void 0:o.experience," ",`${(o==null?void 0:o.experience)===1?"χρόνος":"χρόνια"}`," εμπειρίας"]}),c.jsxs("div",{className:"flex items-center",title:`Βαθμολογία: ${o==null?void 0:o.rating}/5`,children:[Array.from({length:p},(k,F)=>c.jsx(Kv,{className:"text-black"},`full-${F}`)),y>0&&c.jsx(Yv,{className:"text-black"}),Array.from({length:_},(k,F)=>c.jsx(Qv,{className:"text-black"},`empty-${F}`)),c.jsxs("p",{className:"ml-2",title:`${o==null?void 0:o.ratingCount} ${(o==null?void 0:o.ratingCount)!==1?"χρήστες έχουν ":"χρήστης έχει"} αξιολογήσει την νταντά.`,children:["(",o==null?void 0:o.ratingCount,")"]})]})]})]}),t!==(n==null?void 0:n.id)&&c.jsx(Le,{state:`/contact/${o==null?void 0:o.id}`,to:`${n?`/contact/${o==null?void 0:o.id}`:"/login"}`,className:"w-1/5 hover:bg-pallete-700 hover:text-white hover:underline border-2 border-pallete-800 bg-white text-pallete-800  text-3xl flex items-center justify-center rounded-md font-medium h-1/2 ml-auto mr-4",children:"Επικοινωνία"})]}),c.jsxs("div",{className:"w-2/4 ml-4  mt-10 ",children:[c.jsx("p",{className:"text-xl pl-2 font-medium",children:"Σύντομη Περιγραφή"}),c.jsx("textarea",{className:`rounded-md pl-6 pr-2 ${o!=null&&o.bio?"":"text-gray-600"} resize-none  py-1 bg-gray-100 w-full`,readOnly:!0,value:o!=null&&o.bio?o==null?void 0:o.bio:"Δεν βρέθηκε περιγραφή."})]}),c.jsxs("div",{className:"w-2/4 ml-4  mt-8 ",children:[c.jsxs("p",{className:"text-xl pl-2 font-medium flex cursor-default items-center gap-2 ",title:"Επαληθευμένο από εμάς.",children:["Σπουδές ",c.jsx(Fs,{})]}),c.jsx("div",{className:"rounded-md px-2 py-1 bg-gray-100 w-full",children:c.jsxs("ul",{className:"list-disc pl-4",children:[(!(o!=null&&o.education)||((P=o==null?void 0:o.education)==null?void 0:P.length)===0)&&c.jsx("p",{className:"text-gray-600",children:"Δεν βρέθηκαν σπουδές."}),(L=o==null?void 0:o.education)==null?void 0:L.map((k,F)=>c.jsx("li",{children:k.title},F))]})})]}),c.jsxs("div",{className:"w-2/4 ml-4  mt-8 ",children:[c.jsxs("p",{className:"text-xl pl-2 font-medium flex cursor-default items-center gap-2 ",title:"Επαληθευμένο από εμάς.",children:["Πιστοποιήσεις",c.jsx(Fs,{})]}),c.jsx("div",{className:"rounded-md px-2 py-1 bg-gray-100 w-full",children:c.jsxs("ul",{className:"list-disc pl-4",children:[(!(o!=null&&o.certificates)||((D=o==null?void 0:o.certificates)==null?void 0:D.length)===0)&&c.jsx("p",{className:"text-gray-600",children:"Δεν βρέθηκαν πιστοποιήσεις."}),(B=o==null?void 0:o.certificates)==null?void 0:B.map((k,F)=>c.jsx("li",{children:k.title},F))]})})]}),c.jsxs("div",{className:"w-2/4 ml-4  mt-8 ",children:[c.jsx("p",{className:"text-xl pl-2 font-medium flex cursor-default items-center gap-2 ",title:"Επαληθευμένο από εμάς.",children:"Συστατικές Επιστολές"}),c.jsxs("div",{className:"rounded-md px-2 py-1 bg-gray-100 w-full",children:[(!(o!=null&&o.letters)||(o==null?void 0:o.letters.length)===0)&&c.jsx("p",{className:"text-gray-600",children:"Δεν βρέθηκαν συστατικές επιστολές."}),(R=o==null?void 0:o.letters)==null?void 0:R.map((k,F)=>c.jsxs("li",{className:"flex my-1 items-center",children:[c.jsx("span",{className:"mr-2 text-3xl",children:"•"}),c.jsx("button",{title:`${k.name} (DUMMY ΑΡΧΕΊΟ)`,className:" overflow-x-auto  bg-white py-2  px-3 rounded-md shadow-sm shadow-gray-600",onClick:()=>Vf(k.name),children:k.name})]},F))]})]}),c.jsx("div",{className:"border-b-2 border-gray-700 my-10 w-3/4 mx-auto h-1"}),c.jsx("p",{className:"text-2xl mx-auto w-fit font-medium",children:"Πρόσφατες Αξιολογήσεις Γονέων "}),c.jsxs("div",{className:"w-full   mt-5 flex flex-col items-center ",children:[h&&c.jsxs("div",{className:"w-full flex-grow  flex items-center justify-center",children:[" ",c.jsx("span",{className:"loading loading-lg"})," "]}),!h&&u.length===0&&c.jsx("p",{className:"text-gray-500 text-xl font-semibold",children:"Δεν βρέθηκαν πρόσφατες αξιολογήσεις."}),!h&&u.length>0&&u.slice(0,5).map((k,F)=>c.jsx(pm,{seenFrom:"nanny",review:k,nannyName:o==null?void 0:o.name,nannySurname:o==null?void 0:o.surname,nannyId:o==null?void 0:o.id},F))]}),j&&c.jsx("button",{onClick:M,className:"fixed bottom-20 right-8 p-4 bg-blue-500 text-white size-16 flex items-center justify-center text-2xl font-semibold rounded-full shadow-lg hover:bg-blue-600 transition-all duration-300 z-50",children:"↑"})]}),c.jsxs("div",{className:"w-2/6 mr-10 mt-10  px-2",children:[c.jsx("p",{className:"font-medium text-xl",children:"Εβδομαδιαίες Διαθέσιμες ώρες"}),c.jsxs("table",{className:"table-auto w-full my-1 rounded-md text-xs bg-slate-200 border-collapse shadow-sm shadow-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-300 rounded-md",children:[c.jsx("th",{className:"px-2 py-1 text-center"}),Qn.map((k,F)=>c.jsx("th",{className:"px-2 cursor-default rounded-md text-center",children:k},F))]})}),c.jsx("tbody",{children:Ds.map((k,F)=>c.jsxs("tr",{className:"text-center border-y-2 border-slate-400 hover:bg-gray-100",children:[c.jsx("td",{className:"text-center cursor-default font-normal",children:k}),Qn.map(($,U)=>c.jsx("td",{className:"border-2 border-slate-400 border-x",children:o!=null&&o.availabilityMatrix.some(V=>V.day===$&&V.time===k)?c.jsx(iM,{className:"text-green-800 font-medium mx-auto"}):""},U))]},F))})]}),c.jsxs("div",{className:"w-2/3 p-2  mt-5 ",children:[c.jsxs("p",{className:" font-medium",children:[o!=null&&o.gender?"Εξοικιωμένος":"Εξοικιωμένη"," με:"]}),c.jsx("div",{className:"bg-gray-100 shadow-md py-1 shadow-gray-700 pl-2 w-full h-44 overflow-y-auto rounded-md",children:c.jsxs("ul",{className:"list-disc pl-4",children:[(!(o!=null&&o.skills)||((T=o==null?void 0:o.skills)==null?void 0:T.length)===0)&&c.jsx("p",{className:"font-medium mt-2  text-gray-600",children:"Δεν βρέθηκαν εξοικιώσεις του χρήστη"}),o==null?void 0:o.skills.map((k,F)=>c.jsx("li",{children:k},F))]})})]})]})]}),c.jsx(on,{})]})}function O9(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(n)}function L9(n){return tt({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 11 4 C 7.144531 4 4 7.144531 4 11 C 4 12.03125 4.316406 12.988281 4.71875 13.875 C 4.589844 14.566406 4.5 15.269531 4.5 16 C 4.5 22.339844 9.660156 27.5 16 27.5 C 16.730469 27.5 17.433594 27.410156 18.125 27.28125 C 19.011719 27.683594 19.96875 28 21 28 C 24.855469 28 28 24.855469 28 21 C 28 19.96875 27.683594 19.011719 27.28125 18.125 C 27.410156 17.433594 27.5 16.730469 27.5 16 C 27.5 9.660156 22.339844 4.5 16 4.5 C 15.269531 4.5 14.566406 4.589844 13.875 4.71875 C 12.988281 4.316406 12.03125 4 11 4 Z M 11 6 C 11.863281 6 12.667969 6.210938 13.375 6.59375 C 13.585938 6.707031 13.828125 6.738281 14.0625 6.6875 C 14.691406 6.558594 15.332031 6.5 16 6.5 C 21.257813 6.5 25.5 10.742188 25.5 16 C 25.5 16.667969 25.441406 17.308594 25.3125 17.9375 C 25.261719 18.171875 25.292969 18.414063 25.40625 18.625 C 25.789063 19.332031 26 20.136719 26 21 C 26 23.773438 23.773438 26 21 26 C 20.136719 26 19.332031 25.789063 18.625 25.40625 C 18.414063 25.292969 18.171875 25.261719 17.9375 25.3125 C 17.308594 25.441406 16.667969 25.5 16 25.5 C 10.742188 25.5 6.5 21.257813 6.5 16 C 6.5 15.332031 6.558594 14.691406 6.6875 14.0625 C 6.738281 13.828125 6.707031 13.585938 6.59375 13.375 C 6.210938 12.667969 6 11.863281 6 11 C 6 8.226563 8.226563 6 11 6 Z M 15.84375 9.15625 C 13.371094 9.15625 10.71875 10.203125 10.71875 13 C 10.71875 14.347656 11.195313 15.773438 13.84375 16.4375 L 17.15625 17.25 C 18.152344 17.496094 18.40625 18.058594 18.40625 18.5625 C 18.40625 19.402344 17.574219 20.21875 16.0625 20.21875 C 13.109375 20.21875 13.488281 17.96875 11.90625 17.96875 C 11.195313 17.96875 10.6875 18.457031 10.6875 19.15625 C 10.6875 20.519531 12.363281 22.3125 16.0625 22.3125 C 19.582031 22.3125 21.3125 20.613281 21.3125 18.34375 C 21.3125 16.875 20.636719 15.34375 17.96875 14.75 L 15.53125 14.1875 C 14.605469 13.976563 13.53125 13.714844 13.53125 12.84375 C 13.53125 11.96875 14.273438 11.34375 15.625 11.34375 C 18.347656 11.34375 18.117188 13.21875 19.46875 13.21875 C 20.179688 13.21875 20.78125 12.8125 20.78125 12.09375 C 20.78125 10.414063 18.121094 9.15625 15.84375 9.15625 Z"},child:[]}]})(n)}function F9(){const{id:n}=_o(),{userData:e,loading:t}=st(),[r,s]=C.useState("0"),[i,o]=C.useState(0),{mutateAsync:u,isPending:h}=qt({mutationFn:()=>zM(p),onError:S=>console.log(S),onSuccess:()=>x(!0)}),[p,g]=C.useState({senderId:e==null?void 0:e.id,receiverId:n,contactType:r==="1"?"phone":r==="2"?"email":"skype",status:"pending",contactInfo:r==="1"?e==null?void 0:e.number:r==="2"?e==null?void 0:e.email:e==null?void 0:e.skype});C.useEffect(()=>{t||g({...p,senderId:e==null?void 0:e.id})},[e,t]),C.useEffect(()=>{g({...p,contactType:r==="1"?"phone":r==="2"?"email":"skype",contactInfo:r==="1"?e==null?void 0:e.number:r==="2"?e==null?void 0:e.email:e==null?void 0:e.skype})},[r,e]);const[y,x]=C.useState(!1),_=2e3;C.useEffect(()=>{if(y){const S=setTimeout(()=>{x(!1)},_);return()=>clearTimeout(S)}},[y,_]);const E=Cn();if(t)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});async function j(){await u(),s("0")}if(!t)return c.jsxs("div",{className:"w-full h-screen flex flex-col",children:[y&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-28 left-1/2 transform -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-2xl",children:"Το αίτημα επικοινωνίας στάλθηκε!"})]}),_n(e),c.jsxs("div",{className:"flex-grow pb-5 flex flex-col bg-white",children:[c.jsx("div",{className:"breadcrumbs pl-5 text-md",children:c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(Le,{to:"/search",children:"Αναζήτηση"})}),c.jsx("li",{children:c.jsx(Le,{to:"/nannyProfile",children:"Προφίλ Επαγγελματία"})}),c.jsx("li",{className:"font-medium",children:"Επικοινωνία με Επαγγελματία"})]})}),c.jsx("button",{className:"size-12 mt-5 flex items-center hover:bg-pallete-800 hover:text-white  bg-white border-2 border-pallete-800 text-pallete-800 rounded-md  ml-10  shadow-md shadow-gray-700",onClick:()=>E(`/nannyProfile/${n}`),children:c.jsx(O9,{className:"text-4xl mx-auto"})}),c.jsx("p",{className:"text-4xl mt-5 text-center font-medium",children:"Επιλέξτε Τρόπο Επικοινωνίας"}),c.jsxs("div",{className:"w-full  flex flex-col flex-grow font-medium items-center justify-center",children:[c.jsxs("div",{className:"flex w-full  justify-center items-center gap-14",children:[c.jsxs("div",{className:`flex flex-col w-60 h-60 px-3 rounded-md cursor-pointer border-2 ${r!=="1"&&i!==1?"text-black border-black":""} ${r==="1"?"border-white bg-pallete-800 text-white":""} ${i===1?"border-white bg-pallete-700 text-white":""} justify-center items-center gap-2`,onMouseEnter:()=>i!==1&&o(1),onMouseLeave:()=>i!==0&&o(0),onClick:()=>r!=="1"&&s("1"),children:[c.jsx(Zv,{className:"text-7xl"}),c.jsx("span",{className:`text-2xl ${r==="1"?"underline":""}`,children:"Τηλεφωνικά"}),c.jsx("p",{className:"w-full text-center text-xl overflow-x-auto",children:e==null?void 0:e.number})]}),c.jsxs("div",{className:`flex flex-col w-60 h-60 px-3 rounded-md cursor-pointer border-2 ${r!=="2"&&i!==2?"text-black border-black":""} ${r==="2"?"border-white bg-pallete-800 text-white":""} ${i===2?"border-white bg-pallete-700 text-white":""} justify-center items-center gap-2`,onMouseEnter:()=>i!==2&&o(2),onMouseLeave:()=>i!==0&&o(0),onClick:()=>r!=="2"&&s("2"),children:[c.jsx(Jv,{className:"text-7xl"}),c.jsx("span",{className:`text-2xl ${r==="2"?"underline":""}`,children:"Email"}),c.jsx("p",{className:"w-full text-center text-xl overflow-x-auto",children:e==null?void 0:e.email})]}),c.jsxs("div",{className:`flex flex-col w-60 h-60 px-3 rounded-md cursor-pointer border-2 ${r!=="3"&&i!==3?"text-black border-black":""} ${r==="3"?"border-white bg-pallete-800 text-white":""} ${i===3?"border-white bg-pallete-700 text-white":""} justify-center items-center gap-2 ${e!=null&&e.skype?"":"cursor-not-allowed opacity-50"}`,onMouseEnter:()=>(e==null?void 0:e.skype)&&i!==3&&o(3),onMouseLeave:()=>(e==null?void 0:e.skype)&&i!==0&&o(0),onClick:()=>(e==null?void 0:e.skype)&&r!=="3"&&s("3"),children:[c.jsx(L9,{className:"text-7xl"}),c.jsx("span",{className:`text-2xl ${r==="3"?"underline":""}`,children:"Skype"}),c.jsx("p",{className:"w-full text-center text-xl overflow-x-auto",children:e==null?void 0:e.skype})]})]}),c.jsxs("div",{className:"w-full mt-20  mt flex justify-center items-center",children:[c.jsx("div",{className:"w-1/2"}),c.jsx("button",{className:`text-xl w-36 font-medium rounded-md p-3   ${r==="0"?"bg-gray-400":"hover:bg-pallete-700 bg-pallete-800 text-white"}`,disabled:r==="0",onClick:()=>{j()},children:h?c.jsx("span",{className:"loading loading-sm"}):"Επιβεβαίωση"})]})]})]}),c.jsx(on,{})]})}function V9(n){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422s-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256s17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]},{tag:"path",attr:{d:"M277 360h-42V235h42v125zm0-166h-42v-42h42v42z"},child:[]}]})(n)}function kT({paymentId:n,firstName:e,lastName:t,paymentDate:r,status:s,voucher:i,senderId:o,role:u,setSuccessMessage:h}){const p=Cn(),g=()=>{const M=new Date;return M.setUTCHours(0,0,0,0),M.toISOString().split("T")[0]},y=M=>{const[P,L,D]=M.split("/"),B=new Date(Date.UTC(D,L-1,P));return B.setUTCHours(0,0,0,0),B};let x;x=g(),x="2025-06-30";const _=()=>y(r)<=new Date(x);C.useEffect(()=>{console.log("PaymentDate:",y(r)),console.log("CurrentDate:",y(x))},[]);const[E,j]=C.useState(s),{mutateAsync:S,isPending:A}=qt({mutationFn:()=>e6(n),onSuccess:()=>{j("pending")}});return C.useEffect(()=>{s==="unavailable"&&_()&&j("available")},[s,r]),c.jsxs("div",{className:"w-full h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium py-2",children:[c.jsx("div",{className:"flex gap-3 w-1/4 cursor-pointer hover:text-pallete-700 justify-center",onClick:()=>p(u?`/nannyprofile/${o}`:`/parentprofile/${o}`),children:c.jsxs("p",{children:[e," ",t]})}),c.jsxs("div",{className:`flex flex-col w-1/4 items-center ${_()?"text-red-600":""}`,children:[c.jsx("p",{children:r}),_()&&c.jsx("p",{children:"(Εκκρεμεί Πληρωμή)"})]}),c.jsx("div",{className:"w-1/4 flex items-center justify-center",children:c.jsx("p",{className:`cursor-pointer ${E==="unavailable"&&"text-gray-400"}`,title:E==="unavailable"?"Το Voucher γίνεται διαθέσιμο για πληρωμή του επαγγελματία μετά την λήξη της συνεργασίας σας.":"",children:i})}),c.jsxs("div",{className:"w-1/4 flex justify-center items-center",children:[c.jsx("div",{className:"w-1/4"}),c.jsxs("button",{className:`${E==="unavailable"||E==="pending"?"bg-gray-400":"bg-green-600 hover:bg-green-400"} text-xl text-white font-semibold flex justify-center items-center rounded-md w-1/2 h-14 p-2`,disabled:E==="unavailable"||E==="pending",onClick:async()=>{await S(n),h("Ο κωδικός Voucher στάλθηκε επιτυχώς!")},children:[!A&&E==="available"&&"Αποστολή Voucher",E==="pending"&&"Εκκρεμεί Επιβεβαίωση",E==="unavailable"&&"Αναμονή Λήξης Συνεργασίας",A&&E==="available"&&c.jsx("span",{className:"loading loading-md"})]}),c.jsx("div",{className:"w-1/4",children:(E==="pending"||E==="unavailable")&&c.jsx(V9,{className:"text-black hover:text-pallete-700 text-3xl ml-2 cursor-pointer",title:E==="pending"?"Έχει σταλθεί το Voucher στον επαγγελματία. Αναμένετε την επιβεβαίωση λήψης του.":"Πρέπει να λήξει η συνεργασία σας με τον επαγγελματία πριν μπορέσετε να στείλετε το Voucher."})})]})]})}kT.propTypes={paymentId:ie.string.isRequired,firstName:ie.string.isRequired,lastName:ie.string.isRequired,paymentDate:ie.string.isRequired,voucher:ie.number.isRequired,role:ie.bool.isRequired,senderId:ie.string.isRequired,status:ie.string.isRequired,setSuccessMessage:ie.func.isRequired};function U9(){const{userData:n,loading:e}=st(),{data:t,isLoading:r}=Dt({queryKey:["parentPayments"],queryFn:()=>ZM(n==null?void 0:n.id),enabled:!!(n!=null&&n.id)}),[s,i]=C.useState(""),o=3e3;return C.useEffect(()=>{if(s.length>0){const u=setTimeout(()=>{i("")},o);return()=>clearTimeout(u)}},[s,o]),e?c.jsx("div",{className:"w-full bg-white h-screen flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})}):c.jsxs("div",{className:"w-full bg-white min-h-screen flex flex-col",children:[s.length>0&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-20 left-1/2 transform z-10 -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-xl",children:s})]}),_n(n,4),c.jsxs("div",{className:"w-full flex flex-grow flex-col bg-white  pt-10",children:[c.jsxs("div",{className:"w-11/12 rounded-md text-xl font-medium mx-auto h-16 bg-gray-200 border-2 text-center border-gray-400 flex items-center justify-evenly  ",children:[c.jsx("p",{className:"w-1/4 ",children:"Ονοματεπώνυμο Επαγγελματία"}),c.jsx("p",{className:"w-1/4 ",children:"Νωρίτερη Ημερομηνία Πληρωμής"}),c.jsx("p",{className:"w-1/4 ",children:"Κωδικός Voucher"}),c.jsx("p",{className:"w-1/4 ",children:"Ενέργεια"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex-grow flex flex-col mb-5  gap-2 items-center justify-start  mt-2",children:[r&&c.jsxs("div",{className:"w-full flex-grow  flex items-center justify-center",children:[" ",c.jsx("span",{className:"loading loading-lg"})," "]}),!r&&t&&(t==null?void 0:t.length)===0&&c.jsx("div",{className:"w-full flex-grow  flex items-center justify-center",children:c.jsx("p",{className:"text-3xl font-semibold text-gray-500",children:"Καμία Πληρωμή Ακόμα."})}),!r&&t&&(t==null?void 0:t.length)>0&&(t==null?void 0:t.map((u,h)=>c.jsx(kT,{firstName:u.nannyName,lastName:u==null?void 0:u.nannySurname,paymentDate:u==null?void 0:u.payDate,setSuccessMessage:i,role:!0,voucher:u==null?void 0:u.voucherCode,senderId:u==null?void 0:u.nannyId,status:u==null?void 0:u.status,paymentId:u==null?void 0:u.id},h)))]})]}),c.jsx(on,{})]})}function mm(n){return tt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 1.1l3.4 3.5.1.4v2h-1V6H8V2H3v11h4v1H2.5l-.5-.5v-12l.5-.5h6.7l.3.1zM9 2v3h2.9L9 2zm4 14h-1v-3H9v-1h3V9h1v3h3v1h-3v3z"},child:[]}]})(n)}function vx({code:n,firstName:e,lastName:t,status:r,finalDate:s,returnTo:i="applications"}){const o=Cn();return console.log("Inside FinalApplication: "+i),c.jsxs("div",{className:"w-full h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsx("div",{className:"w-1/5 text-center",children:c.jsx("p",{children:n})}),c.jsxs("div",{className:"flex gap-3 w-1/5 justify-center ",children:[c.jsx("p",{children:e}),c.jsx("p",{children:t})]}),c.jsx("div",{className:"w-1/5 ",children:c.jsx("p",{children:r})}),c.jsx("div",{className:"w-1/5 ",children:c.jsx("p",{children:s})}),c.jsx("div",{className:"w-1/5 flex justify-center ",children:c.jsxs("button",{className:"w-2/3  h-14 rounded-md border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white flex gap-2 items-center justify-center px-2",onClick:()=>o(`/viewapplication/${n}`,{state:i}),children:[c.jsx(yo,{className:"text-3xl"}),"Προβολή"]})})]})}vx.propTypes={code:ie.string.isRequired,firstName:ie.string.isRequired,lastName:ie.string.isRequired,status:ie.string.isRequired,finalDate:ie.string.isRequired,returnTo:ie.string};function $9(){const{userData:n}=st(),[e,t]=C.useState("date-desc"),{data:r,isLoading:s}=Dt({queryFn:()=>IM(n==null?void 0:n.id),queryKey:["finalApplications",n==null?void 0:n.id]});return c.jsxs("div",{className:"w-full py-2 ",children:[c.jsxs("div",{className:"h-16 w-11/12 mx-auto flex  items-center justify-between ",children:[c.jsxs(Le,{to:"/applicationform",className:"h-full w-2/12 text-xl border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white font-medium flex items-center gap-4 justify-center rounded-md",children:[c.jsx(mm,{className:"text-3xl"}),c.jsx("span",{children:"Νέο Συμφωνητικό "})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>t(i.target.value),value:e,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"}),c.jsx("option",{value:"status",children:"Κατάσταση"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center  font-medium text-xl ",children:[c.jsx("p",{className:"w-1/5  ",children:"Κωδικός"}),c.jsx("p",{className:"w-1/5 ",children:"Ονοματεπώνυμο Επαγγελματία"}),c.jsx("p",{className:"w-1/5 ",children:"Κατάσταση"}),c.jsxs("div",{className:"w-1/5 flex items-center justify-center gap-1 ",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Οριστικοποίησης"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/5 ",children:"Ενέργεια"})]}),c.jsxs("div",{className:"w-11/12 mx-auto h-full flex flex-col mb-5  gap-2 items-center justify-start overflow-y-auto mt-2",children:[s&&c.jsx("span",{className:"loading loading-lg h-96"}),!s&&Array.isArray(r)&&(r==null?void 0:r.length)===0&&c.jsx("div",{className:"w-full  h-96  flex items-center justify-center",children:c.jsx("h1",{className:"text-3xl font-semibold text-gray-500",children:"Δεν βρέθηκαν οριστικοποιημένα συμφωνητικά."})}),!s&&Array.isArray(r)&&r.map((i,o)=>c.jsx(vx,{code:i.id,firstName:i.nannyName,lastName:i.nannySurname,status:i.status,finalDate:i.finalizedAt},o))]})]})}function IT({code:n,firstName:e,lastName:t}){const r=Cn();return c.jsxs("div",{className:"w-full h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsxs("div",{className:"flex gap-3 w-1/2 justify-center ",children:[c.jsx("p",{children:e}),c.jsx("p",{children:t})]}),c.jsxs("div",{className:"w-1/2 flex gap-7 justify-center ",children:[c.jsxs("button",{className:"w-1/3  h-14 rounded-md border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white flex gap-2 items-center justify-center px-2",onClick:()=>r(`/viewapplication/${n}`),children:[c.jsx(yo,{className:"text-3xl"}),"Προβολή"]}),c.jsxs("button",{className:"w-1/3  h-14 rounded-md border-2  border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white flex gap-2 items-center justify-center px-2",onClick:()=>r(`/editapplication/${n}`),children:[c.jsx(ex,{className:"text-3xl"}),"Επεξεργασία"]})]})]})}IT.propTypes={code:ie.string.isRequired,firstName:ie.string,lastName:ie.string};function z9(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>RM(n==null?void 0:n.id),queryKey:["draftApplications",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-full flex-grow flex flex-col py-2 ",children:[c.jsxs("div",{className:"h-16 w-11/12 mx-auto flex  items-center justify-between ",children:[c.jsxs(Le,{to:"/applicationform",className:"h-full w-2/12 text-xl border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white font-medium flex items-center gap-4 justify-center rounded-md",children:[c.jsx(mm,{className:"text-3xl"}),c.jsx("span",{children:"Νέο Συμφωνητικό "})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"}),c.jsx("option",{value:"status",children:"Κατάσταση"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center  font-medium text-xl ",children:[c.jsx("p",{className:"w-1/2  ",children:"Ονοματεπώνυμο Επαγγελματία"}),c.jsx("p",{className:"w-1/2 ",children:"Ενέργειες"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex-grow flex flex-col mb-2  gap-2 items-center justify-start overflow-y-auto mt-2",children:[t&&c.jsx("div",{className:"flex flex=grow items-center justify-center ",children:c.jsx("span",{className:"loading loading-lg h-96"})}),!t&&Array.isArray(e)&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"w-full h-96 flex items-center justify-center",children:c.jsx("h1",{className:"text-3xl font-semibold text-gray-500",children:"Δεν βρέθηκαν μη οριστικοποιημένα συμφωνητικά."})}),!t&&Array.isArray(e)&&e.map((i,o)=>c.jsx(IT,{code:i.id,firstName:i.nannyName,lastName:i.nannySurname},o))]})]})}function B9(){var h;const{userData:n,loading:e}=st(),[t,r]=C.useState(1),s=cr(),[i,o]=C.useState(((h=s.state)==null?void 0:h.successMessage)||"");C.useEffect(()=>{var p;(p=s.state)!=null&&p.successMessage&&window.history.replaceState({},document.title)},[s.state]);const u=3e3;if(C.useEffect(()=>{if(i.length>0){const p=setTimeout(()=>{o("")},u);return()=>clearTimeout(p)}},[i,u]),e)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center text-black justify-center text-3xl font-medium",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!e&&n)return c.jsxs("div",{className:"w-full flex flex-col bg-white min-h-screen ",children:[_n(n,2),i.length>0&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-20 left-1/2 transform z-10 -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-xl",children:i})]}),c.jsxs("div",{className:"w-full  flex-grow  flex flex-col ",children:[c.jsxs("div",{className:"w-full h-16 font-medium text-xl flex items-center justify-center my-5 gap-10 rounded-md ",children:[c.jsx("button",{className:`border-2  hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2
                                        ${t===1?"  border-pallete-800 bg-pallete-800 text-white":"  border-pallete-800 bg-white text-pallete-800"} h-full rounded-md  w-1/6  `,onClick:()=>r(1),children:"Οριστικοποιημένα"}),c.jsx("button",{className:`border-2  hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2
                                                ${t===2?" border-pallete-800 bg-pallete-800 text-white":"border-pallete-800 bg-white text-pallete-800"} h-full rounded-md  w-1/6  
                                                `,onClick:()=>r(2),children:"Μη Οριστικοποιημένα"})]}),c.jsxs("div",{className:"flex flex-col flex-grow bg-white ",children:[t===1&&c.jsx($9,{}),t===2&&c.jsx(z9,{})]})]}),c.jsx(on,{})]})}function RT({myId:n,form:e,setForm:t,nextFn:r,returnTo:s}){const[i,o]=C.useState({name:"",surname:"",AMKA:""}),u=S=>{const{name:A,value:M}=S.target;t(L=>({...L,[A]:M}));let P="";A==="name"||A==="surname"?/\d/.test(M)?P="Δεν επιτρέπονται αριθμοί.":/\s/.test(M)&&(P="Επιτρέπονται μόνο χαρακτήρες αλφάβητου."):A==="AMKA"&&(/^\d*$/.test(M)?M.length!==11&&M.length!==0?(P="Το ΑΜΚΑ πρέπει να αποτελείται από 11 ψηφία.",t(L=>({...L,nannySchedule:[]}))):M.length>0&&!h.some(L=>L.AMKA===M&&L.name===e.name&&L.surname===e.surname)?(P="Το ΑΜΚΑ που εισάγατε δεν αντιστοιχεί στον συγκεκριμένο επαγγελματία.",t(L=>({...L,correctAMKA:!1,nannySchedule:[]}))):M.length===11&&h.some(L=>L.AMKA===M&&L.name===(e==null?void 0:e.name)&&L.surname===(e==null?void 0:e.surname))&&(t(L=>({...L,correctAMKA:!0})),t(L=>({...L,nannySchedule:h.find(D=>D.AMKA===M).availabilityMatrix}))):(P="Επιτρέπονται μόνο αριθμοί.",t(L=>({...L,nannySchedule:[]})))),o(L=>({...L,[A]:P}))},{data:h,isLoading:p}=Dt({queryKey:["nannies"],queryFn:()=>$S(n),enabled:e.cantEdit&&!!n}),[g,y]=C.useState(""),[x,_]=C.useState([]);C.useEffect(()=>{h&&_(h.map(S=>({img:S.img,name:S.name,surname:S.surname,AMKA:S.AMKA})))},[h]),C.useEffect(()=>{_(g!==""?h.filter(S=>S.name.toLowerCase().includes(g.toLowerCase())||S.surname.toLowerCase().includes(g.toLowerCase())):h),console.log(x)},[g]);const[E,j]=C.useState("");return C.useEffect(()=>{E&&(E!==(e==null?void 0:e.AMKA)&&(e==null?void 0:e.AMKA.length)===11?(o(S=>({...S,AMKA:"Το ΑΜΚΑ που εισάγατε δεν αντιστοιχεί στον συγκεκριμένο επαγγελματία."})),t(S=>({...S,correctAMKA:!1,nannySchedule:[]}))):E===(e==null?void 0:e.AMKA)&&(e==null?void 0:e.AMKA.length)===11&&(o(S=>({...S,AMKA:""})),t(S=>({...S,correctAMKA:!0})),t(S=>({...S,nannySchedule:h==null?void 0:h.find(A=>A.AMKA===(e==null?void 0:e.AMKA)).availabilityMatrix})),console.log(h==null?void 0:h.find(S=>(S==null?void 0:S.AMKA)===(e==null?void 0:e.AMKA)).availabilityMatrix)))},[E,e==null?void 0:e.AMKA]),c.jsxs("div",{className:"w-full",children:[!e.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),e.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2  mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-1/6 h-1 bg-gray-400 w-3/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]})]}),c.jsx("p",{className:"text-3xl font-medium mt-16 text-center",children:"Στοιχεία Επαγγελματία"}),c.jsxs("div",{className:" h-96 flex",children:[c.jsx("div",{className:"w-1/3  py-5 flex items-center",children:!e.cantEdit&&c.jsxs("div",{className:"h-full w-3/4  mx-auto flex flex-col items-center pb-3 px-5",children:[c.jsx("p",{className:"font-semibold mt-2 text-lg",children:"Επαγγελματίες από τις επαφές σας:"}),c.jsx("input",{value:g,onChange:S=>y(S.target.value),className:"w-full h-12 mb-1 border-2 rounded-md pl-2 mt-2 bg-white border-gray-300",placeholder:"Ψάξτε επαγγελματία",disabled:e.cantEdit}),c.jsxs("div",{className:"bg-white overflow-y-auto h-full w-full border-2 border-gray-300 shadow-md rounded-md shadow-gray-700",children:[e.cantEdit&&c.jsx("div",{className:"w-full h-full bg-gray-300"}),p&&c.jsx("div",{className:"h-full w-full flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!e.cantEdit&&(x==null?void 0:x.length)>0&&(x==null?void 0:x.map((S,A)=>c.jsxs("div",{onClick:M=>{t(P=>({...P,name:S.name,surname:S.surname})),j(S.AMKA),u({target:{name:"AMKA",value:e==null?void 0:e.AMKA}})},className:` ${E===S.AMKA?"text-pallete-900 underline":"text-black"} flex h-20 pl-5 items-center border-b-2 border-gray-300 hover:bg-white bg-slate-50 hover:text-pallete-500 cursor-pointer`,children:[c.jsx("img",{src:S.img,className:"h-16 w-16 rounded-full object-cover"}),c.jsxs("p",{className:"text-lg font-medium ml-4",children:[S.name," ",S.surname]})]},A))),!e.cantEdit&&(x==null?void 0:x.length)===0&&c.jsx("div",{className:"h-full w-full flex items-center justify-center",children:c.jsx("p",{children:"Δεν βρέθηκαν αποτελέσματα."})})]})]})}),c.jsxs("div",{className:"w-1/3  pl-32 flex pt-14 flex-col ",children:[c.jsxs("div",{className:"w-3/5  mt-4",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"Όνομα"}),i.name&&c.jsx("p",{className:"text-red-500 text-md ",children:i.name}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${e.cantEdit?"bg-gray-300":"bg-white"}  ${i.name?"border-red-500":"border-gray-300"}`,value:e.name,name:"name",disabled:e.cantEdit,onChange:u})]}),c.jsxs("div",{className:"w-3/5 mt-4",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"Επώνυμο"}),i.surname&&c.jsx("p",{className:"text-red-500 text-md",children:i.surname}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${e.cantEdit?"bg-gray-300":"bg-white"} ${i.surname?"border-red-500":"border-gray-300"}`,value:e.surname,name:"surname",disabled:e.cantEdit,onChange:u})]}),c.jsxs("div",{className:"w-3/5  mt-4",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"AMKA"}),i.AMKA&&c.jsx("p",{className:"text-red-500 text-md",children:i.AMKA}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${e.cantEdit?"bg-gray-300":"bg-white"} ${i.AMKA?"border-red-500":"border-gray-300"}`,value:e.AMKA,name:"AMKA",disabled:e.cantEdit,onChange:u})]})]}),c.jsx("div",{className:"w-1/3"})]}),c.jsx("div",{className:"w-11/12  mx-auto flex justify-end ",children:c.jsx("button",{onClick:()=>{r(1)},className:"bg-white border-2 font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Επόμενο"})})]})}RT.propTypes={myId:ie.string.isRequired,form:ie.object.isRequired,setForm:ie.func.isRequired,nextFn:ie.func.isRequired,returnTo:ie.string};function PT({form:n,setForm:e,nextFn:t,returnTo:r}){const{userData:s}=st(),[i,o]=C.useState(()=>{if(n.startingDate){const[P,L,D]=n.startingDate.split("/");return new Date(`${L}/${P}/${D}`)}return new Date}),u=P=>{const{name:L,value:D}=P.target;e(L!=="hasAccepted"&&L!=="hasSigned"?B=>({...B,[L]:D}):B=>({...B,[L]:!B[L]}))},h=P=>{o(P);const L=`${P.getDate().toString().padStart(2,"0")}/${(P.getMonth()+1).toString().padStart(2,"0")}/${P.getFullYear()}`;e(D=>({...D,startingDate:L}))},p=(P,L)=>{if(!P||!L)return"";const[D,B,R]=P.split("/"),T=new Date(`${B}/${D}/${R}`);T.setMonth(T.getMonth()+parseInt(L));const k=T.getDate().toString().padStart(2,"0"),F=(T.getMonth()+1).toString().padStart(2,"0"),$=T.getFullYear();return`${k}/${F}/${$}`},g=P=>{if(!P)return"";const[L,D,B]=P.split("/"),R=new Date(`${D}/${L}/${B}`);return new Intl.DateTimeFormat("en-GB").format(R)},y=p(n.startingDate,n.months),[x,_]=C.useState(!1),E=(P,L)=>{const D=n.schedule.some(B=>B.day===P&&B.time===L)?n.schedule.filter(B=>!(B.day===P&&B.time===L)):[...n.schedule,{day:P,time:L}];e(B=>({...B,schedule:D}))},j=P=>{e(L=>{const B=Ds.every(R=>L.schedule.some(T=>T.day===P&&T.time===R))?L.schedule.filter(R=>R.day!==P):[...L.schedule,...Ds.filter(R=>L.nannySchedule.some(T=>T.day===P&&T.time===R)).map(R=>({day:P,time:R}))];return{...L,schedule:B}})},S=P=>{e(L=>{const B=Qn.every(R=>L.schedule.some(T=>T.day===R&&T.time===P))?L.schedule.filter(R=>R.time!==P):[...L.schedule,...Qn.filter(R=>L.nannySchedule.some(T=>T.day===R&&T.time===P)).map(R=>({day:R,time:P}))];return{...L,schedule:B}})},{mutateAsync:A,isPending:M}=qt({mutationFn:()=>OS({...n,userId:s==null?void 0:s.id}),onSuccess:()=>{t(1)},onError:P=>{console.error("Error:",P)}});return c.jsxs("div",{className:"w-full",children:[!n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-5 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-pallete-800 w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2  mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-1/6 h-1 bg-pallete-800 w-3/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]})]}),c.jsx("button",{onClick:()=>t(-1),className:"bg-white  mt-10 ml-10 flex items-center justify-center font-medium border-2 size-14 border-gray-500 text-md rounded-md ",children:c.jsx(tx,{className:"text-3xl"})}),c.jsx("p",{className:"text-3xl font-medium mt-5 mb-10 text-center",children:"Περιοχή και Πρόγραμμα"}),c.jsxs("div",{className:"w-1/6 mx-auto",children:[c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"Διεύθυνση Οικίας"}),c.jsx(RS,{className:"text-md",title:"Μπορεί να συμπληρωθεί και η διεύθυνση του επαγγελματία, κατόπιν συνεννόησης."})]}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${n.cantEdit?"bg-gray-300":"bg-white"} border-gray-300`,value:n.address,name:"address",disabled:n.cantEdit,onChange:u})]}),c.jsxs("div",{className:"w-1/2 mx-auto my-5 ",children:[c.jsx("p",{className:"text-xl text-center font-medium mb-4",children:"Πρόγραμμα"}),c.jsxs("table",{className:"table-auto w-full border-collapse border-2 bg-white border-gray-300 text-xs",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"border border-gray-300 "}),Qn.map(P=>c.jsx("th",{className:"border border-gray-300 p-1 cursor-pointer",onClick:()=>j(P),children:P},P))]})}),c.jsx("tbody",{children:Ds.map(P=>c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-300 p-1 text-center cursor-pointer",onClick:()=>S(P),children:P}),Qn.map(L=>c.jsxs("td",{className:"border border-gray-300 px-1 text-center",children:[" ",c.jsx("input",{type:"checkbox",checked:n.schedule.some(D=>D.day===L&&D.time===P),onChange:()=>E(L,P),className:"checkbox checkbox-sm checkbox-secondary -my-1",disabled:n.cantEdit||(n==null?void 0:n.nannySchedule)&&!(n!=null&&n.nannySchedule.some(D=>D.day===L&&D.time===P)),title:n!=null&&n.nannySchedule&&!(n!=null&&n.nannySchedule.some(D=>D.day===L&&D.time===P))?"Ο/Η επαγγελματίας έχει δηλώσει πως δεν είναι διαθέσιμος/η την συγκεκριμένη ημέρα και ώρα.":""})]},`${L}-${P}`))]},P))})]}),c.jsx("div",{className:"w-full flex justify-end my-5",children:c.jsx("button",{className:"rounded-md bg-white border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white  font-medium p-2 ",onClick:()=>_(!0),disabled:n.cantEdit,children:"Καθαρισμός Ωρών"})})]}),c.jsxs("div",{className:"w-1/6 my-5 mx-auto",children:[c.jsx("p",{className:"text-xl ml-1 mb-1 font-medium",children:"Ημερομηνία Έναρξης"}),c.jsx(fm,{selected:i,onChange:n.cantEdit?void 0:h,minDate:new Date,inline:!0,disabledKeyboardNavigation:!0,dateFormat:"yyyy-MM-dd",className:`calendar-only ${n.cantEdit?"disabled-datepicker":""}`,disabled:n.cantEdit})]}),c.jsxs("div",{className:"w-1/6 mx-auto mt-4",children:[c.jsx("p",{className:"text-l font-medium",children:"Διάστημα Απασχόλησης"}),c.jsxs("select",{value:n.months,onChange:u,className:"select select-bordered rounded-md bg-white h-12 border-2 border-gray-300 pl-2 w-full max-w-xs",name:"months",disabled:n.cantEdit,children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),c.jsx("option",{value:1,children:"1 μήνας"}),c.jsx("option",{value:2,children:"2 μήνες"}),c.jsx("option",{value:3,children:"3 μήνες"}),c.jsx("option",{value:4,children:"4 μήνες"}),c.jsx("option",{value:5,children:"5 μήνες"}),c.jsx("option",{value:6,children:"6 μήνες"}),c.jsx("option",{value:7,children:"7 μήνες"}),c.jsx("option",{value:8,children:"8 μήνες"}),c.jsx("option",{value:9,children:"9 μήνες"})]})]}),c.jsxs("p",{className:"font-medium text-lg my-5 text-center",children:["Απασχόληση από ",c.jsx("span",{className:"mx-1 text-xl underline",children:g(n.startingDate)}),"έως ",c.jsx("span",{className:"mx-1 text-xl underline ",children:g(y)})]}),c.jsx("div",{className:"w-1/3 my-10 mx-auto",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"mr-2 h-6 w-6",checked:n.hasAccepted||!1,name:"hasAccepted",onChange:u,disabled:n.cantEdit}),c.jsxs("span",{className:"text-lg font-medium",children:["Αποδέχομαι τους ",c.jsx("span",{className:"underline",children:"όρους χρήσης"})]})]})}),c.jsx("div",{className:"w-1/3 my-10 mx-auto ",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"mr-2 h-6 w-6",checked:n.hasSigned||!1,name:"hasSigned",onChange:u,disabled:n.cantEdit}),c.jsx("span",{className:"text-lg font-medium",children:"Ψηφιακή Υπογραφή"})]})}),c.jsxs("div",{className:"w-11/12 mx-auto flex justify-end",children:[!n.cantEdit&&c.jsx("button",{onClick:()=>A(),className:` border-2 font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3
                                        ${!n.hasAccepted||!n.hasSigned||n.startingDate===""||n.months===""||n.address===""||n.name===""||n.surname===""||n.AMKA===""||n.schedule.length===0||n.AMKA.length!==11||n.correctAMKA===!1?"bg-gray-300":"bg-white"}
                            `,disabled:!n.hasAccepted||!n.hasSigned||n.startingDate===""||n.months===""||n.address===""||n.name===""||n.surname===""||n.AMKA===""||n.AMKA.length!==11||n.schedule.length===0||n.correctAMKA===!1,title:`${!n.hasAccepted||!n.hasSigned||n.startingDate===""||n.months===""||n.address===""||n.name===""||n.surname===""||n.AMKA===""||n.schedule.length===0||n.AMKA.length!==11||n.correctAMKA===!1?"Παρακαλώ συμπληρώστε σωστά όλα τα πεδία.":""}`,children:M?"Οριστικοποίηση...":"Οριστικοποίηση Συμφωνητικού"}),n.cantEdit&&r==="applications"&&c.jsx(Le,{to:"/parentapplications",className:" border-2 flex items-center justify-center bg-white font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Τα Συμφωνητικά Μου"}),n.cantEdit&&r==="history"&&c.jsx(Le,{to:"/parentHistory",className:" border-2 flex items-center text-center justify-center bg-white font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Επιστροφή Στο Ιστορικό"})]}),x&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40"}),c.jsxs("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 w-1/3 rounded-md z-50 bg-white shadow-xl p-6",children:[c.jsx("h3",{className:"font-bold text-lg",children:"Προσοχή!"}),c.jsx("p",{className:"py-4",children:"Πρόκειται να σβήσετε όλες τις ώρες που έχετε επιλέξει. Συνέχεια;"}),c.jsx("div",{className:"modal-action",children:c.jsxs("form",{method:"dialog",className:"flex gap-3",children:[c.jsx("button",{className:"bg-red-500 py-2 px-3 rounded-md font-semibold text-white",onClick:()=>_(!1),children:"Ακύρωση"}),c.jsx("button",{className:"text-black border-2 border-black py-2 px-3 rounded-md font-semibold text",onClick:()=>{e(P=>({...P,schedule:[]})),_(!1)},children:"Επιβεβαίωση"})]})})]})]})]})}PT.propTypes={form:ie.object.isRequired,setForm:ie.func.isRequired,nextFn:ie.func.isRequired,returnTo:ie.string};function q9({form:n,setForm:e,nextFn:t}){return c.jsxs("div",{className:"w-full  flex flex-col flex-grow",children:[c.jsxs("div",{className:"w-3/4 mt-5 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-pallete-800 w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-pallete-800  w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800  justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),c.jsx("p",{className:"text-3xl font-medium mt-10 text-center",children:"Το Συμφωνητικό Οριστικοποιήθηκε Επιτυχώς."}),c.jsx(Hv,{className:"text-9xl text-green-500 my-5 mx-auto"}),c.jsx("div",{className:"w-11/12  mx-auto flex justify-center ",children:c.jsx(Le,{to:"/parentapplications",className:"bg-white border-2  flex items-center justify-center text-lg font-medium w-52 border-gray-500 text-md h-14 rounded-md my-3",children:"Τα Συμφωνητικά Μου"})})]})}function Wf({action:n="Δημιουργία Νέου Συμφωνητικού"}){const e=Cn(),{id:t}=_o(),r=cr(),{state:s}=r||{},i=s||"applications",{userData:o,loading:u}=st(),[h,p]=C.useState({name:"",surname:"",AMKA:"",address:"",schedule:[],startingDate:"",months:"",hasAccepted:!1,hasSigned:!1,correctAMKA:!1}),{data:g,isLoading:y}=Dt({queryFn:()=>MS(t),queryKey:["application",t],retry:!1,enabled:n==="Προβολή Συμφωνητικού"||n==="Επεξεργασία Συμφωνητικού"&&!!t}),{mutateAsync:x,isPending:_}=qt({mutationFn:()=>LS({...h,userId:o.id}),retry:!1,onSuccess:()=>e("/parentapplications",{state:{successMessage:"Το συμφωνητικό αποθηκεύτηκε στα μη οριστικοποιημένα με επιτυχία."}})});console.log("inside application form: "+i),C.useEffect(()=>{if(!y&&g){const A=n==="Προβολή Συμφωνητικού",M=n==="Επεξεργασία Συμφωνητικού";p({...h,name:M||A?(g==null?void 0:g.nannyName)??"":"",surname:M||A?(g==null?void 0:g.nannySurname)??"":"",AMKA:M||A?(g==null?void 0:g.nannyAMKA)??"":"",address:M||A?(g==null?void 0:g.address)??"":"",schedule:M||A?(g==null?void 0:g.schedule)??[]:[],startingDate:M||A?(g==null?void 0:g.startingDate)??"":"",months:M||A?(g==null?void 0:g.months)??"":"",hasAccepted:A,hasSigned:A,cantEdit:A,id:M?g==null?void 0:g.id:null,correctAMKA:A?!0:(g==null?void 0:g.correctAMKA)??!1})}},[g,y,n]);const[E,j]=C.useState(1),S=(A=1)=>j(M=>M+A);if(y||u)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center justify-center text-3xl font-medium",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(n==="Προβολή Συμφωνητικού"&&!y&&g||n==="Δημιουργία Νέου Συμφωνητικού"||n==="Επεξεργασία Συμφωνητικού")return c.jsxs("div",{className:"w-full min-h-screen flex flex-col bg-white",children:[_n(o,i==="history"?5:2),c.jsxs("div",{className:"flex flex-col bg-white mb-5 flex-grow",children:[c.jsx("div",{className:"breadcrumbs  pl-5 text-md",children:c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(Le,{to:i==="applications"?"/parentapplications":"/parentHistory",children:i==="applications"?"Συμφωνητικά":"Ιστορικό"})}),c.jsx("li",{children:c.jsx("p",{className:"font-semibold",children:n})})]})}),c.jsx("p",{className:"my-5 mx-auto text-3xl font-medium",children:n}),n!=="Προβολή Συμφωνητικού"&&E!==3&&c.jsx("div",{className:"w-11/12  mx-auto",children:c.jsx("button",{className:`border-2 font-medium w-48 border-gray-500 text-md px-2 h-16 rounded-md my-3 
                                    ${h.name===""&&h.surname===""&&h.AMKA===""&&h.address===""&&h.schedule.length===0&&h.startingDate===""&&h.months===""&&!h.hasAccepted&&!h.hasSigned?"text-gray-500 cursor-not-allowed":"border-2 border-pallete-800 text-pallete-800 font-semibold hover:bg-pallete-800 hover:text-white hover:border-pallete-800"}
                                `,onClick:()=>x(),title:h.name===""||h.surname===""||h.AMKA===""||h.address===""||h.schedule.length===0||h.startingDate===""||h.months===""||!h.hasAccepted||!h.hasSigned?"Συμπληρώστε κάποιο από τα πεδία πρώτα.":"",disabled:_||h.name===""&&h.surname===""&&h.AMKA===""&&h.address===""&&h.schedule.length===0&&h.startingDate===""&&h.months===""&&!h.hasAccepted&&!h.hasSigned,children:_?"Αποθήκευση...":"Προσωρινή Αποθήκευση"})}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col flex-grow bg-white rounded-lg shadow-md shadow-gray-600 mb-3 ",children:[E==1&&c.jsx(RT,{myId:o==null?void 0:o.id,form:h,setForm:p,returnTo:i,nextFn:S}),E==2&&c.jsx(PT,{form:h,setForm:p,nextFn:S,returnTo:i}),E==3&&c.jsx(q9,{})]})]}),c.jsx(on,{})]})}Wf.propTypes={action:ie.string};const Hn=[];for(let n=0;n<256;++n)Hn.push((n+256).toString(16).slice(1));function H9(n,e=0){return(Hn[n[e+0]]+Hn[n[e+1]]+Hn[n[e+2]]+Hn[n[e+3]]+"-"+Hn[n[e+4]]+Hn[n[e+5]]+"-"+Hn[n[e+6]]+Hn[n[e+7]]+"-"+Hn[n[e+8]]+Hn[n[e+9]]+"-"+Hn[n[e+10]]+Hn[n[e+11]]+Hn[n[e+12]]+Hn[n[e+13]]+Hn[n[e+14]]+Hn[n[e+15]]).toLowerCase()}let k0;const W9=new Uint8Array(16);function Y9(){if(!k0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");k0=crypto.getRandomValues.bind(crypto)}return k0(W9)}const K9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gb={randomUUID:K9};function I0(n,e,t){if(gb.randomUUID&&!e&&!n)return gb.randomUUID();n=n||{};const r=n.random||(n.rng||Y9)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,H9(r)}AT.propTypes={setSuccessMessage:ie.func.isRequired};function AT({setSuccessMessage:n}){const{userData:e,loading:t,refetch:r}=st(),{mutateAsync:s,isPending:i}=qt({mutationFn:()=>m0(e==null?void 0:e.id,"education",x),onError:Q=>{console.log(Q)},onSuccess:()=>{r(),n("Οι σπουδές σας ενημερώθηκαν επιτυχώς.")}}),{mutateAsync:o,isCertPending:u}=qt({mutationFn:()=>m0(e==null?void 0:e.id,"certificates",M),onError:Q=>{console.log(Q)},onSuccess:()=>{r(),n("Οι βεβαιώσεις σας ενημερώθηκαν επιτυχώς.")}}),{mutateAsync:h,isLettPending:p}=qt({mutationFn:()=>m0(e==null?void 0:e.id,"letters",T),onError:Q=>{console.log(Q)},onSuccess:()=>{r(),n("Οι συστατικές επιστολές σας ενημερώθηκαν επιτυχώς.")}}),[g,y]=C.useState(!1),[x,_]=C.useState((e==null?void 0:e.education)||[]),[E,j]=C.useState({title:"",name:""}),[S,A]=C.useState(!1),[M,P]=C.useState((e==null?void 0:e.certificates)||[]),[L,D]=C.useState({title:"",name:""}),[B,R]=C.useState(!1),[T,k]=C.useState((e==null?void 0:e.letters)||[]),[F,$]=C.useState({name:""});C.useEffect(()=>{e&&(_((e==null?void 0:e.education)||[]),P((e==null?void 0:e.certificates)||[]),k((e==null?void 0:e.letters)||[]))},[e]);const U=()=>{E.title&&E.name?(_(Q=>[...Q,{id:I0(),title:E.title,name:E.name}]),j({title:"",name:""}),y(!1)):alert("Παρακαλούμε υποβάλλετε τίτλο σπουδών και αντίγραφο.")},V=Q=>{_(le=>le.filter(ce=>ce.id!==Q))},Pe=()=>{L.name?(P(Q=>[...Q,{id:I0(),title:L.title,name:L.name}]),D({title:"",name:""}),A(!1)):alert("Παρακαλούμε υποβάλλετε τίτλο πιστοποιητικού και αντίγραφο.")},we=Q=>{P(le=>le.filter(ce=>ce.id!==Q))},xe=()=>{F.name?(k(Q=>[...Q,{id:I0(),name:F.name}]),$({name:""}),R(!1)):alert("Παρακαλούμε υποβάλλετε συστατική επιστολή.")},ve=Q=>{k(le=>le.filter(ce=>ce.id!==Q))};if(t)return c.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!t&&e)return c.jsxs("div",{className:"w-full bg-white gap-5 py-10 flex flex-col items-center ",children:[c.jsx("p",{className:"text-3xl mb-8 font-bold ",children:"Πιστοποιητικά"}),c.jsxs("div",{className:"w-2/3 flex flex-col ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Σπουδές"}),c.jsxs("p",{className:"font-medium text-md flex items-center gap-1 ml-2 mt-2",children:[c.jsx(g0,{className:"text-lg text-green-600"}),"Εμφανίζονται στο προφίλ σας:"]}),x.map((Q,le)=>c.jsxs("div",{className:"font-medium mt-5 w-1/2 ml-10 text-lg  flex items-center",children:[c.jsx("button",{className:"font-extrabold text-red-500 text-2xl mr-4 hover:text-red-700",onClick:()=>V(Q.id),children:c.jsx(y0,{})}),c.jsx("span",{className:"w-2/5",children:Q.title}),c.jsx("button",{title:`${Q.name} (DUMMY ΑΡΧΕΊΟ)`,className:"ml-2 w-2/5 flex items-center overflow-x-auto  bg-gray-100 px-2 rounded-md shadow-sm shadow-gray-400",onClick:()=>Vf(Q.name),children:Q.name})]},le)),c.jsxs("div",{className:" ml-5 mb-5 mt-20 w-fit",children:[c.jsxs("button",{className:"flex gap-1 items-center  px-1 text-xl font-medium",onClick:()=>y(!g),children:[c.jsx(Ff,{className:"text-2xl "}),"Επισύναψη Επιπλέον Τίτλου Σπουδών"]}),g&&c.jsxs("div",{className:"flex flex-col w-full  gap-2 ml-5 mt-3",children:[c.jsx("p",{className:"text-sm",children:"Παρακαλούμε επιλέξτε τίτλο σπουδών και επισυνάψτε το αντίστοιχο αντίγραφο."}),c.jsxs("div",{className:"w-full flex justify-between  items-center",children:[c.jsxs("select",{className:"w-2/4 pl-2 overflow-x-hidden h-10 border bg-white  border-gray-300 rounded-md shadow-sm shadow-gray-400",value:E.title,onChange:Q=>j({...E,title:Q.target.value}),children:[c.jsx("option",{value:"",disabled:!0,children:"Επιλέξτε"}),fM.map((Q,le)=>c.jsx("option",{className:"w-1/2",value:Q,children:Q},le))]}),c.jsx("input",{type:"file",className:"w-2/5 border  bg-white border-gray-300 rounded-md ",onChange:Q=>{const le=Q.target.files[0];le&&j(ce=>({...ce,name:le.name}))}})]}),c.jsx("div",{className:"w-full flex justify-end mt-5",children:c.jsx("button",{className:"bg-green-600 font-semibold text-white w-1/4 h-10 rounded-md shadow-md hover:bg-green-600",onClick:()=>{U()},children:"Προσθήκη"})})]})]}),c.jsx("div",{className:"w-full flex justify-end px-20 mt-10",children:c.jsx("button",{className:` ${i||(e==null?void 0:e.education)===x?"border-gray-400 bg-gray-400":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"}  text-white w-1/5 h-10 rounded-md shadow-md `,onClick:()=>s(),disabled:i||(e==null?void 0:e.education)===x,children:i?c.jsx("span",{className:"loading loading-md"}):"Ενημέρωση"})})]}),c.jsxs("div",{className:"w-2/3 flex flex-col ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Βεβαιώσεις"}),c.jsxs("p",{className:"font-medium text-md flex items-center gap-1 ml-2 mt-2",children:[c.jsx(g0,{className:"text-lg text-green-600"}),"Εμφανίζονται στο προφίλ σας:"]}),M.map((Q,le)=>c.jsxs("div",{className:"font-medium mt-5 w-1/2 ml-10 text-lg  flex items-center",children:[c.jsx("button",{className:"font-extrabold text-red-500 text-2xl mr-4 hover:text-red-700",onClick:()=>we(Q.id),children:c.jsx(y0,{})}),c.jsx("span",{className:"w-2/5",children:Q.title}),c.jsx("button",{title:Q.name,className:"ml-2 w-2/5 flex items-center overflow-x-auto  bg-gray-100 px-2 rounded-md shadow-sm shadow-gray-400",onClick:()=>Vf(Q.name),children:Q.name})]},le)),c.jsxs("div",{className:" ml-5 mb-5 mt-20 w-fit",children:[c.jsxs("button",{className:"flex gap-1 items-center  px-1 text-xl font-medium",onClick:()=>A(!S),children:[c.jsx(Ff,{className:"text-2xl "}),"Επισύναψη Επιπλέον Βεβαίωσης"]}),S&&c.jsxs("div",{className:"flex flex-col w-full  gap-2 ml-5 mt-3",children:[c.jsx("p",{className:"text-sm",children:"Παρακαλούμε επιλέξτε τύπο βεβαίωσης και επισυνάψτε το αντίστοιχο αντίγραφο."}),c.jsxs("div",{className:"w-full flex justify-between  items-center",children:[c.jsxs("select",{className:"w-2/4 pl-2 overflow-x-hidden h-10 border bg-white  border-gray-300 rounded-md shadow-sm shadow-gray-400",value:L.title,onChange:Q=>D({...L,title:Q.target.value}),children:[c.jsx("option",{value:"",disabled:!0,children:"Επιλέξτε"}),pM.map((Q,le)=>c.jsx("option",{className:"w-1/2",value:Q,children:Q},le))]}),c.jsx("input",{type:"file",className:"w-2/5 border  bg-white border-gray-300 rounded-md ",onChange:Q=>{const le=Q.target.files[0];le&&D(ce=>({...ce,name:le.name}))}})]}),c.jsx("div",{className:"w-full flex justify-end mt-5",children:c.jsx("button",{className:"bg-green-600 font-semibold text-white w-1/4 h-10 rounded-md shadow-md hover:bg-green-600",onClick:()=>{Pe()},children:"Προσθήκη"})})]})]}),c.jsx("div",{className:"w-full flex justify-end px-20 mt-10",children:c.jsx("button",{className:` ${u||(e==null?void 0:e.certificates)===M?"border-gray-400 bg-gray-400":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"}  text-white w-1/5 h-10 rounded-md shadow-md `,onClick:()=>o(),disabled:u||(e==null?void 0:e.certificates)===M,children:i?c.jsx("span",{className:"loading loading-md"}):"Ενημέρωση"})})]}),c.jsxs("div",{className:"w-2/3 flex flex-col ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Συστατικές Επιστολές"}),c.jsxs("p",{className:"font-medium text-md flex items-center gap-1 ml-2 mt-2",children:[c.jsx(g0,{className:"text-lg text-green-600"}),"Εμφανίζονται στο προφίλ σας:"]}),T.map((Q,le)=>c.jsxs("div",{className:"font-medium mt-5 w-1/2 ml-10 text-lg  flex items-center",children:[c.jsx("button",{className:"font-extrabold text-red-500 text-2xl mr-4 hover:text-red-700",onClick:()=>ve(Q.id),children:c.jsx(y0,{})}),c.jsx("button",{title:`${Q.name} (DUMMY ΑΡΧΕΊΟ)`,className:"ml-2 w-2/5 flex items-center overflow-x-auto  bg-gray-100 px-2 rounded-md shadow-sm shadow-gray-400",onClick:()=>Vf(Q.name),children:Q.name})]},le)),c.jsxs("div",{className:" ml-5 mb-5 mt-20 w-fit",children:[c.jsxs("button",{className:"flex gap-1 items-center  px-1 text-xl font-medium",onClick:()=>R(!B),children:[c.jsx(Ff,{className:"text-2xl "}),"Επισύναψη Επιπλέον Επιστολών"]}),B&&c.jsxs("div",{className:"flex flex-col w-full  gap-2 ml-5 mt-3",children:[c.jsx("p",{className:"text-sm",children:"Παρακαλούμε επιλέξτε τίτλο σπουδών και επισυνάψτε το αντίστοιχο αντίγραφο."}),c.jsx("div",{className:"w-full flex justify-between  items-center",children:c.jsx("input",{type:"file",className:"w-2/5 border  bg-white border-gray-300 rounded-md ",onChange:Q=>{const le=Q.target.files[0];le&&$(ce=>({...ce,name:le.name}))}})}),c.jsx("div",{className:"w-full flex justify-end mt-5",children:c.jsx("button",{className:"bg-green-600 font-semibold text-white w-1/4 h-10 rounded-md shadow-md hover:bg-green-600",onClick:()=>{xe()},children:"Προσθήκη"})})]})]}),c.jsx("div",{className:"w-full flex justify-end px-20 mt-10",children:c.jsx("button",{className:` ${p||(e==null?void 0:e.letters)===T?"border-gray-400 bg-gray-400":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"}  text-white w-1/5 h-10 rounded-md shadow-md `,onClick:()=>h(),disabled:p||(e==null?void 0:e.letters)===T,children:p?c.jsx("span",{className:"loading loading-md"}):"Ενημέρωση"})})]})]})}function Q9({setSuccessMessage:n}){const e=["Καλή σχέση με τα κατοικίδια","Δουλειές του σπιτιού","Διδασκαλία","Φροντίδα παιδιών","Εμπειρία με μικρότερα παιδιά","Βοήθεια με διάβασμα και εργασία","Μαγειρική","Διαχείριση χρόνου","Αντοχή και ενέργεια"],{userData:t,loading:r}=st(),[s,i]=C.useState([]),[o,u]=C.useState([]),h=M=>{u(P=>P.includes(M)?P.filter(L=>L!==M):[...P,M])},[p,g]=C.useState(!1),{mutateAsync:y,isPending:x}=qt({mutationFn:()=>SM(t==null?void 0:t.id,s),onSuccess:()=>{n("Η διαθεσιμότητά σας ενημερώθηκε επιτυχώς")}}),{mutateAsync:_,isPending:E}=qt({mutationFn:()=>TM(t==null?void 0:t.id,o),onSuccess:()=>{n("Οι εξοικιώσεις σας ενημερώθηκαν επιτυχώς")}});C.useEffect(()=>{t&&(i(t==null?void 0:t.availabilityMatrix),u((t==null?void 0:t.skills)||[]),console.log(s),console.log(o))},[t]);const j=(M,P)=>{const L=s.some(D=>D.day===M&&D.time===P)?s.filter(D=>!(D.day===M&&D.time===P)):[...s,{day:M,time:P}];i(L)},S=M=>{const P=Ds.map(B=>({day:M,time:B})),D=P.every(B=>s.some(R=>R.day===M&&R.time===B.time))?s.filter(B=>B.day!==M):[...s,...P];i(D)},A=M=>{const P=Qn.map(B=>({day:B,time:M})),D=P.every(B=>s.some(R=>R.day===B.day&&R.time===B.time))?s.filter(B=>B.time!==M):[...s,...P];i(D)};if(r)return c.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!r&&t)return c.jsxs("div",{className:"w-full  bg-white gap-5 py-10 flex flex-col items-center ",children:[c.jsx("p",{className:"text-3xl mb-8 font-bold ",children:"Διαθεσιμότητα & Εξοικιώσεις"}),c.jsxs("div",{className:"w-2/3 flex flex-col ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Αλλαγή Διαθεσιμότητας"}),c.jsxs("div",{className:"ml-5 w-full b mt-8 flex flex-col gap-5 font-medium text-lg",children:[c.jsxs("table",{className:"table-auto w-full border-collapse border-2 bg-white border-gray-300 text-xs",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"border border-gray-300 "}),Qn.map(M=>c.jsx("th",{className:"border border-gray-300 p-1 cursor-pointer",onClick:()=>S(M),children:M},M))]})}),c.jsx("tbody",{children:Ds.map(M=>c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-300 p-1 text-center cursor-pointer",onClick:()=>A(M),children:M}),Qn.map(P=>c.jsxs("td",{className:"border border-gray-300 px-1 text-center",children:[" ",c.jsx("input",{type:"checkbox",checked:s.some(L=>L.day===P&&L.time===M),onChange:()=>j(P,M),className:"checkbox checkbox-sm checkbox-secondary -my-1"})]},`${P}-${M}`))]},M))})]}),c.jsxs("div",{className:"w-full font-medium  mt-10 flex justify-end items-center gap-4 h-16",children:[c.jsx("button",{className:" border-2 border-gray-500 rounded-md p-2 bg-white hover:border-red-600 hover:text-red-600 ",onClick:()=>g(!0),disabled:s.length===0,children:"Καθαρισμός Ωρών"}),c.jsx("button",{className:` ${x?" text-white bg-pallete-800 border-pallete-800 border-2":" text-white border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 bg-pallete-800"} border-2  border-gray-500 rounded-md p-2    `,onClick:()=>y(),disabled:x,children:x?"Αποθήκευση...":"Ενημέρωση"})]})]})]}),c.jsxs("div",{className:"w-2/3 flex mt-5 flex-col ",children:[c.jsx("p",{className:"underline text-2xl font-medium",children:"Εξοικιώσεις"}),c.jsxs("div",{className:"ml-5 w-full  mt-8 flex flex-col gap-5 font-medium text-lg",children:[c.jsx("p",{children:"Διαλέξτε από την παρακάτω λίστα προσόντα που διαθέτετε για να εμφανιστούν στο προφίλ σας."}),c.jsx("div",{className:"w-full -mt-2 bg-gray-50 rounded-md shadow-md shadow-gray-500 h-48 overflow-auto",children:e.map((M,P)=>c.jsxs("div",{className:"my-2 pl-2 flex items-center",children:[c.jsx("input",{type:"checkbox",id:`skill-${P}`,checked:o.includes(M),onChange:()=>h(M),className:"checkbox checkbox-secondary p-1 mr-2 "}),c.jsx("label",{htmlFor:`skill-${P}`,className:"text-gray-700",children:M})]},P))}),c.jsxs("div",{className:"w-full font-medium  mt-10 flex justify-end items-center gap-4 h-16",children:[c.jsx("button",{className:" border-2 border-gray-500 rounded-md p-2  bg-white hover:text-red-600 hover:border-red-600 ",onClick:()=>u([]),children:"Καθαρισμός"}),c.jsx("button",{className:` ${E?" text-white bg-pallete-800 border-pallete-800 border-2":" text-white bg-pallete-800 border-pallete-800 border-2 hover:bg-pallete-700 hover:border-pallete-700 "} border-2  border-gray-500 rounded-md p-2    `,onClick:()=>_(),disabled:E,children:E?"Αποθήκευση...":"Ενημέρωση"})]})]})]}),p&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40"}),c.jsxs("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 w-1/3 rounded-md z-50 bg-white shadow-xl p-6",children:[c.jsx("h3",{className:"font-bold text-lg",children:"Προσοχή!"}),c.jsx("p",{className:"py-4",children:"Πρόκειται να σβήσετε όλες τις ώρες που έχετε επιλέξει. Συνέχεια;"}),c.jsx("div",{className:"modal-action",children:c.jsxs("form",{method:"dialog",className:"flex gap-3",children:[c.jsx("button",{className:"bg-red-500 py-2 px-3 rounded-md font-semibold text-white",onClick:()=>g(!1),children:"Ακύρωση"}),c.jsx("button",{className:"text-black border-2 border-black py-2 px-3 rounded-md font-semibold text",onClick:()=>{i([]),g(!1)},children:"Επιβεβαίωση"})]})})]})]})]})}function G9(){const[n,e]=C.useState(1),t=u=>e(u),{userData:r}=st(),[s,i]=C.useState(""),o=3e3;return C.useEffect(()=>{if(s.length>0){const u=setTimeout(()=>{i("")},o);return()=>clearTimeout(u)}},[s,o]),c.jsxs("div",{className:"w-full  ",children:[s.length>0&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-20 left-1/2 transform z-10 -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-xl",children:s})]}),_n(r,0),c.jsxs("div",{className:"w-full bg-white flex ",children:[c.jsxs("div",{className:"w-1/5 flex flex-col items-center h-full  mt-10 ml-10 sticky top-5 ",children:[c.jsx("button",{className:`${n==1?"text-pallete-800 font-semibold underline":" text-black"} hover:text-pallete-700 font-medium text-lg  `,onClick:()=>t(1),children:"Το Προφίλ Μου"}),c.jsx("button",{className:`${n==2?"text-pallete-800 font-semibold underline":" text-black"} hover:text-pallete-700 font-medium text-lg  `,onClick:()=>t(2),children:"Στοιχεία Λογαριασμού"}),c.jsx("button",{className:`${n==3?"text-pallete-800 font-semibold underline":" text-black"} hover:text-pallete-700 font-medium text-lg  `,onClick:()=>t(3),children:"Πιστοποιητικά"}),c.jsx("button",{className:`${n==4?"text-pallete-800 font-semibold underline":" text-black"} hover:text-pallete-700 font-medium text-lg  `,onClick:()=>t(4),children:"Διαθεσιμότητα & Εξοικιώσεις"})]}),c.jsxs("div",{className:"w-full   ",children:[n==1&&c.jsx(gx,{setSuccessMessage:i}),n==2&&c.jsx(yx,{setSuccessMessage:i}),n==3&&c.jsx(AT,{setSuccessMessage:i}),n==4&&c.jsx(Q9,{setSuccessMessage:i})]})]}),c.jsx(on,{})]})}function DT({code:n}){const e=Cn();return c.jsxs("div",{className:"w-full h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsx("div",{className:"flex gap-3 w-1/2 justify-center ",children:c.jsx("p",{children:n})}),c.jsxs("div",{className:"w-1/2 flex gap-7 justify-center ",children:[c.jsxs("button",{onClick:()=>e(`/viewoffer/${n}`),className:"w-1/3 border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white h-14 rounded-md  flex gap-2 items-center justify-center px-2",children:[c.jsx(yo,{className:"text-3xl"}),"Προβολή"]}),c.jsxs(Le,{to:`/editoffer/${n}`,className:"w-1/3  h-14 rounded-md border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white flex gap-2 items-center justify-center px-2",children:[c.jsx(ex,{className:"text-3xl"}),"Επεξεργασία"]})]})]})}DT.propTypes={code:ie.string.isRequired};function X9(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>AM(n==null?void 0:n.id),queryKey:["draftoffers",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-full py-2 ",children:[c.jsxs("div",{className:"h-16 w-11/12 mx-auto flex  items-center justify-between ",children:[c.jsxs(Le,{to:"/offerform",className:"h-full w-2/12 text-xl border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white font-medium flex items-center gap-4 justify-center rounded-md",children:[c.jsx(mm,{className:"text-3xl"}),c.jsx("span",{children:"Νέα Αγγελία "})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"}),c.jsx("option",{value:"status",children:"Κατάσταση"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center  font-medium text-xl ",children:[c.jsx("p",{className:"w-1/2  ",children:"Κωδικός"}),c.jsx("p",{className:"w-1/2 ",children:"Ενέργειες"})]}),c.jsxs("div",{className:"w-11/12 flex h-full mx-auto  flex-col mb-5 gap-2 items-center justify-start mt-2",children:[t&&c.jsx("div",{className:"w-full h-96 flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"w-full flex-grow h-96  flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-semibold text-gray-500",children:"Δεν βρέθηκαν μη οριστικοποιημένες αγγελίες."})}),!t&&Array.isArray(e)&&e.map((i,o)=>c.jsx(DT,{code:i.id},o))]})]})}function MT({code:n,finalDate:e,returnTo:t="offers"}){const r=Cn(),{mutateAsync:s,isPending:i}=qt({mutationFn:()=>OM(n),onSuccess:()=>{QT.invalidateQueries(["finalOffers"])}});return c.jsxs("div",{className:"w-full h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-semibold  py-2",children:[c.jsx("div",{className:"w-1/3 text-center",children:c.jsx("p",{children:n})}),c.jsx("div",{className:"w-1/3 ",children:c.jsx("p",{children:e})}),c.jsxs("div",{className:"w-1/3 flex justify-center px-2 gap-2 ",children:[c.jsxs("button",{onClick:()=>r(`/viewoffer/${n}`,{state:t}),className:"w-2/3 border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white h-14 rounded-md  flex gap-2 items-center justify-center px-2",children:[c.jsx(yo,{className:"text-3xl"}),"Προβολή"]}),c.jsxs("button",{className:"w-2/3 border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white h-14 rounded-md   flex gap-2 items-center justify-center px-2",onClick:()=>s(),children:[c.jsx(o6,{className:"text-3xl"}),i?c.jsx("span",{className:"loading loading-sm"}):"Διαγραφή"]})]})]})}MT.propTypes={code:ie.string.isRequired,finalDate:ie.string.isRequired,returnTo:ie.string};function J9(){const{userData:n}=st(),[e,t]=C.useState("date-desc"),{data:r,isLoading:s}=Dt({queryFn:()=>PM(n==null?void 0:n.id),queryKey:["finalOffers"],enabled:!!n});return C.useEffect(()=>{n&&console.log(n==null?void 0:n.id)},[n]),c.jsxs("div",{className:"w-full py-2 flex flex-col flex-grow",children:[c.jsxs("div",{className:"h-16 w-11/12 mx-auto flex items-center justify-between",children:[c.jsxs(Le,{to:"/offerform",className:"h-full w-2/12 text-xl border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white font-medium flex items-center gap-4 justify-center rounded-md",children:[c.jsx(mm,{className:"text-3xl"}),c.jsx("span",{children:"Νέα Αγγελία "})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>t(i.target.value),value:e,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"}),c.jsx("option",{value:"status",children:"Κατάσταση"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/3",children:"Κωδικός"}),c.jsxs("div",{className:"w-1/3 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Οριστικοποίησης"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/3",children:"Ενέργεια"})]}),c.jsxs("div",{className:"w-11/12 flex flex-grow mx-auto  flex-col mb-5 gap-2 items-center justify-start mt-2",children:[s&&c.jsx("div",{className:"w-full h-96 flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!s&&(r==null?void 0:r.length)===0&&c.jsx("div",{className:"w-full flex-grow h-96  flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-semibold text-gray-500",children:"Δεν βρέθηκαν οριστικοποιημένες αγγελίες."})}),!s&&Array.isArray(r)&&r.map((i,o)=>c.jsx(MT,{code:i.id,finalDate:i.finalizedAt},o))]})]})}function Z9(){var h;const{userData:n,loading:e}=st(),[t,r]=C.useState(1),s=cr(),[i,o]=C.useState(((h=s.state)==null?void 0:h.successMessage)||"");C.useEffect(()=>{var p;(p=s.state)!=null&&p.successMessage&&window.history.replaceState({},document.title)},[s.state]);const u=3e3;if(C.useEffect(()=>{if(i.length>0){const p=setTimeout(()=>{o("")},u);return()=>clearTimeout(p)}},[i,u]),e)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center text-black justify-center text-3xl font-medium",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!e&&n)return c.jsxs("div",{className:"w-full flex flex-col bg-white min-h-screen ",children:[i.length>0&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-20 left-1/2 transform z-10 -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-xl",children:i})]}),_n(n,1),c.jsxs("div",{className:"w-full  flex-grow  flex flex-col",children:[c.jsxs("div",{className:"w-full h-16 font-medium text-xl flex items-center justify-center my-5 gap-10 rounded-md ",children:[c.jsx("button",{className:`border-2  hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2
                                            ${t===1?"  border-pallete-800 bg-pallete-800 text-white":"  border-pallete-800 bg-white text-pallete-800"} h-full rounded-md  w-1/6  `,onClick:()=>r(1),children:"Οριστικοποιημένες"}),c.jsx("button",{className:`border-2  hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2
                                        ${t===2?"  border-pallete-800 bg-pallete-800 text-white":"  border-pallete-800 bg-white text-pallete-800"} h-full rounded-md  w-1/6  `,onClick:()=>r(2),children:"Μη Οριστικοποιημένες"})]}),c.jsxs("div",{className:"flex-grow",children:[t===1&&c.jsx(J9,{}),t===2&&c.jsx(X9,{})]})]}),c.jsx(on,{})]})}function OT({form:n,setForm:e,nextFn:t,returnTo:r}){var o;const[s,i]=C.useState([n.rows.map(u=>u.area)]);return C.useEffect(()=>{const u=Array.from(new Set(n.rows.map(h=>h.area).filter(h=>h!=="")));i(u)},[n.rows]),c.jsxs("div",{className:"w-full",children:[!n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-5 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Περιοχή Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"2"}),c.jsx("span",{children:"Πρόγραμμα Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2  mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Περιοχή Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4 left-1/6 h-1 bg-gray-400 w-3/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"2"}),c.jsx("span",{children:"Πρόγραμμα Απασχόλησης"})]})]}),c.jsx("p",{className:"text-3xl font-medium my-20 text-center",children:"Περιοχή Απασχόλησης"}),c.jsxs("div",{className:"w-1/5 mx-auto text-xl",children:[c.jsx("p",{className:" font-medium mb-pl-2",children:"Πόλη"}),c.jsxs("select",{value:n.town,onChange:u=>{e({...n,town:u.target.value,rows:[{index:1,area:"",canHost:""}]}),i([])},className:"select select-bordered font-medium text-xl rounded-md bg-white h-12 border-2 border-gray-300 pl-2 w-full ",disabled:n.cantEdit,children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),Xv.map((u,h)=>c.jsx("option",{value:u,children:u},h))]})]}),c.jsx("div",{className:"w-1/6 mt-10 mx-auto",children:n==null?void 0:n.rows.map((u,h)=>{var p,g,y,x,_,E,j,S,A,M,P;return c.jsxs("div",{className:" w-full mb-20 mx-auto ",children:[h!==0&&c.jsxs("button",{className:" flex items-center justify-center text-red-600 text-md font-medium rounded-md mb-2 w-full  p-2",onClick:()=>{var R;const L=(R=n.rows[h])==null?void 0:R.area,D=n.rows.filter((T,k)=>k!==h),B=s.filter(T=>T!==L);e({...n,rows:D}),i(B)},disabled:n.cantEdit,children:[c.jsx(c6,{className:"text-2xl mr-1"}),"Αφαίρεση Επιπλέον Περιοχής"]}),c.jsxs("div",{className:" w-full mx-auto ",children:[c.jsx("p",{className:"text-l font-medium pl-2",children:"Περιοχή"}),c.jsxs("select",{value:u.area,onChange:L=>{const D=L.target.value,B=u.area,R=n.rows.map((k,F)=>F===h?{...k,area:D}:k),T=[...s.filter(k=>k!==B),D];e({...n,rows:R}),i(T)},className:"select select-bordered rounded-md bg-white h-12 border-2 border-gray-300 pl-2 w-full max-w-xs",disabled:n.cantEdit,children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),n.town!==""&&((p=wp.find(L=>L.city===n.town))==null?void 0:p.areas.filter(L=>!s.includes(L)||L===u.area).map((L,D)=>c.jsx("option",{value:L,children:L},D)))]})]}),c.jsxs("div",{className:"w-full mt-3  mx-auto ",children:[c.jsx("p",{className:"text-l font-medium pl-2",children:"Μπορώ να φιλοξενήσω παιδί στην οικία μου"}),c.jsxs("div",{className:`flex ml-3 mt-2  gap-3 ${((g=n.rows[h])==null?void 0:g.area)===""?"text-gray-400":""} `,children:[c.jsx("input",{type:"radio",name:`radio-${h}`,checked:((y=n.rows[h])==null?void 0:y.canHost)===!0,title:((x=n.rows[h])==null?void 0:x.area)===""?"Επιλέξτε πρώτα πόλη και περιοχή.":"",className:"radio radio-secondary",disabled:((_=n.rows[h])==null?void 0:_.area)===""||n.cantEdit,onChange:()=>{const L=n.rows.map((D,B)=>B===h?{...D,canHost:!0}:D);e({...n,rows:L})}}),c.jsx("p",{className:`${((E=n.rows[h])==null?void 0:E.canHost)===!1?"text-gray-400":""}`,children:"Ναι"})]}),c.jsxs("div",{className:`flex ml-3 mt-2  gap-3 ${((j=n.rows[h])==null?void 0:j.area)===""?"text-gray-400":""} `,children:[c.jsx("input",{type:"radio",name:`radio-${h}`,checked:((S=n.rows[h])==null?void 0:S.canHost)===!1,title:((A=n.rows[h])==null?void 0:A.area)===""?"Επιλέξτε πρώτα πόλη και περιοχή.":"",className:"radio radio-secondary",disabled:((M=n.rows[h])==null?void 0:M.area)===""||n.cantEdit,onChange:()=>{const L=n.rows.map((D,B)=>B===h?{...D,canHost:!1}:D);e({...n,rows:L})}}),c.jsx("p",{className:`${((P=n.rows[h])==null?void 0:P.canHost)===!0?"text-gray-400":""}`,children:"Όχι"})]})]})]},h)})}),((o=wp.find(u=>u.city===n.town))==null?void 0:o.areas.length)>s.length&&!n.cantEdit&&c.jsxs("button",{onClick:()=>{const u=[...n.rows,{index:n.rows.length,area:"",canHost:""}];e({...n,rows:u})},className:"flex items-center justify-center mx-auto rounded-md font-medium text-2xl mt-10 p-2",children:[c.jsx(Ff,{className:"text-3xl mr-2"}),"Προσθήκη Επιπλέον Περιοχής"]}),c.jsx("div",{className:"w-11/12 mt-10  mx-auto flex justify-end ",children:c.jsx("button",{onClick:()=>{t(1)},className:"bg-white border-2 font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Επόμενο"})})]})}OT.propTypes={form:ie.object.isRequired,setForm:ie.func.isRequired,nextFn:ie.func.isRequired,returnTo:ie.string};function LT({form:n,setForm:e,nextFn:t,returnTo:r}){const{userData:s}=st(),[i,o]=C.useState(()=>{if(n.startingDate){const[x,_,E]=n.startingDate.split("/");return new Date(`${_}/${x}/${E}`)}return new Date}),u=x=>{const{name:_,value:E}=x.target;e(_!=="hasAccepted"&&_!=="hasSigned"?j=>({...j,[_]:E}):j=>({...j,[_]:!j[_]}))},h=x=>{o(x);const _=`${x.getDate().toString().padStart(2,"0")}/${(x.getMonth()+1).toString().padStart(2,"0")}/${x.getFullYear()}`;e(E=>({...E,startingDate:_}))},p=()=>n.hasAccepted&&n.hasSigned&&n.startingDate!==""&&n.months!==""&&n.town!==""&&n.rows.every(x=>Object.entries(x).every(([_,E])=>Array.isArray(E)?E.length>0:E!==""))&&n.timeType!==""&&n.childAge!=="",{mutateAsync:g,isPending:y}=qt({mutationFn:()=>MM({...n,userId:s==null?void 0:s.id}),onSuccess:()=>{t(1)},onError:x=>{console.error("Error:",x)}});return c.jsxs("div",{className:"w-full",children:[!n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-5 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Περιοχή Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-pallete-800 w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Πρόγραμμα Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2  mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Περιοχή Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4 left-1/6 h-1 bg-pallete-800 w-3/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Πρόγραμμα Απασχόλησης"})]})]}),c.jsx("button",{onClick:()=>t(-1),className:"bg-white  mt-10 ml-10 flex items-center justify-center font-medium border-2 size-14 border-gray-500 text-md rounded-md ",children:c.jsx(tx,{className:"text-3xl"})}),c.jsx("p",{className:"text-3xl font-medium mt-5 mb-10 text-center",children:"Πρόγραμμα Απασχόλησης"}),c.jsxs("div",{className:"w-1/6 mx-auto pl-2",children:[c.jsx("p",{className:"text-xl  mb-1 font-medium",children:"Τύπος Απασχόλησης"}),c.jsxs("div",{className:"flex gap-2 items-center mt-2 ",children:[c.jsx("input",{type:"radio",name:"type-radio",className:"radio radio-secondary ml-3 ",checked:n.timeType==="full-time",onChange:()=>u({target:{name:"timeType",value:"full-time"}}),disabled:n.cantEdit}),c.jsx("p",{className:`${n.timeType==="part-time"&&n.cantEdit?"text-gray-400":""}`,children:"Πλήρης"})]}),c.jsxs("div",{className:"flex gap-2 items-center mt-2 ",children:[c.jsx("input",{type:"radio",name:"type-radio",className:"radio radio-secondary ml-3 ",checked:n.timeType==="part-time",onChange:()=>u({target:{name:"timeType",value:"part-time"}}),disabled:n.cantEdit}),c.jsx("p",{className:`${n.timeType==="full-time"&&n.cantEdit?"text-gray-400":""}`,children:"Μερική"})]})]}),c.jsxs("div",{className:"w-1/6 my-5 mx-auto",children:[c.jsx("p",{className:"text-xl ml-2 mb-1 font-medium",children:"Ημερομηνία Έναρξης"}),c.jsx("p",{className:"text-xs ml-2 font-normal mb-2",children:"Παρακαλούμε επιλέξτε την κοντινότερη ημερομηνία που είστε διαθέσιμοι."}),c.jsx(fm,{selected:i,onChange:n.cantEdit?void 0:h,minDate:new Date,inline:!0,disabledKeyboardNavigation:!0,dateFormat:"yyyy-MM-dd",className:`calendar-only ${n.cantEdit?"disabled-datepicker":""}`,disabled:n.cantEdit})]}),c.jsxs("div",{className:"w-1/6 mx-auto mt-8",children:[c.jsx("p",{className:"text-l font-medium  ml-2",children:"Διάστημα Απασχόλησης"}),c.jsx("p",{className:"text-xs font-normal mb-2 ml-2",children:"Παρακαλούμε επιλέξτε το μεγαλύτερο διάστημα μηνών που είστε διατεθειμένοι να μείνετε απασχολημένοι από τον ίδιο κηδεμόνα."}),c.jsxs("select",{value:n.months,onChange:u,className:"select select-bordered rounded-md bg-white h-12 border-2 border-gray-300 pl-2 w-full max-w-xs",name:"months",disabled:n.cantEdit,children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),c.jsx("option",{value:1,children:"1 μήνας"}),c.jsx("option",{value:2,children:"2 μήνες"}),c.jsx("option",{value:3,children:"3 μήνες"}),c.jsx("option",{value:4,children:"4 μήνες"}),c.jsx("option",{value:5,children:"5 μήνες"}),c.jsx("option",{value:6,children:"6 μήνες"}),c.jsx("option",{value:7,children:"7 μήνες"}),c.jsx("option",{value:8,children:"8 μήνες"}),c.jsx("option",{value:9,children:"9 μήνες"})]})]}),c.jsxs("div",{className:"w-1/6 mx-auto flex flex-col mt-8",children:[c.jsx("p",{className:"text-l font-medium ml-2",children:"Ηλικία Παιδιού"}),c.jsxs("div",{className:"flex ml-3 mt-2  gap-3 ",children:[c.jsx("input",{type:"radio",name:"radio-child",checked:n.childAge==="0-1",className:"radio radio-secondary",disabled:n.cantEdit,onChange:()=>{u({target:{name:"childAge",value:"0-1"}})}}),c.jsx("p",{className:`${(n.childAge==="1-3"||n.childAge==="3-5")&&n.cantEdit?"text-gray-400":""}`,children:"0-1 έτους"})]}),c.jsxs("div",{className:"flex ml-3 mt-2  gap-3 ",children:[c.jsx("input",{type:"radio",name:"radio-child",checked:n.childAge==="1-3",className:"radio radio-secondary",disabled:n.cantEdit,onChange:()=>{u({target:{name:"childAge",value:"1-3"}})}}),c.jsx("p",{className:`${(n.childAge==="3-5"||n.childAge==="0-1")&&n.cantEdit?"text-gray-400":""}`,children:"1-3 ετών"})]}),c.jsxs("div",{className:"flex ml-3 mt-2  gap-3 ",children:[c.jsx("input",{type:"radio",name:"radio-child",checked:n.childAge==="3-5",className:"radio radio-secondary",disabled:n.cantEdit,onChange:()=>{u({target:{name:"childAge",value:"3-5"}})}}),c.jsx("p",{className:`${(n.childAge==="1-3"||n.childAge==="0-1")&&n.cantEdit?"text-gray-400":""}`,children:"3-5 ετών"})]})]}),c.jsx("div",{className:"w-1/3 my-10 mx-auto",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"mr-2 h-6 w-6",checked:n.hasAccepted||!1,name:"hasAccepted",onChange:u,disabled:n.cantEdit}),c.jsxs("span",{className:"text-lg font-medium",children:["Αποδέχομαι τους ",c.jsx("span",{title:"ΜΗ λειτουργικός σύνδεσμος.",className:"underline",children:"όρους χρήσης"})]})]})}),c.jsx("div",{className:"w-1/3 my-10 mx-auto ",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"mr-2 h-6 w-6",checked:n.hasSigned||!1,name:"hasSigned",onChange:u,disabled:n.cantEdit}),c.jsx("span",{className:"text-lg font-medium",children:"Ψηφιακή Υπογραφή"})]})}),c.jsxs("div",{className:"w-11/12 mx-auto flex justify-end",children:[!n.cantEdit&&c.jsx("button",{onClick:()=>g(),className:` border-2 font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3
                                        ${p()?"bg-white":"bg-gray-300"}
                            `,disabled:!p(),title:`${p()?"":"Παρακαλώ συμπληρώστε σωστά όλα τα πεδία."}`,children:y?"Οριστικοποίηση...":"Οριστικοποίηση Aγγελίας"}),n.cantEdit&&r==="offers"&&c.jsx(Le,{to:"/nannyoffers",className:" border-2 flex items-center justify-center bg-white font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Οι Αγγελίες Μου"}),n.cantEdit&&r==="history"&&c.jsx(Le,{to:"/nannyhistory",className:"text-center border-2 flex items-center justify-center bg-white font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Επιστροφή Στο Ιστορικό"})]})]})}LT.propTypes={form:ie.object.isRequired,setForm:ie.func.isRequired,nextFn:ie.func.isRequired,returnTo:ie.string};function e7({form:n,setForm:e,nextFn:t}){return c.jsxs("div",{className:"w-full  flex flex-col flex-grow",children:[c.jsxs("div",{className:"w-3/4 mt-5 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Περιοχή Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-pallete-800 w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Πρόγραμμα Απασχόλησης"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-pallete-800 w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),c.jsx("p",{className:"text-3xl font-medium mt-10 text-center",children:"Η αγγελία σας οριστικοποιήθηκε επιτυχώς."}),c.jsx(Hv,{className:"text-9xl text-green-500 my-5 mx-auto"}),c.jsx("div",{className:"w-11/12  mx-auto flex justify-center ",children:c.jsx(Le,{to:"/nannyoffers",className:"bg-white border-2  flex items-center justify-center text-lg font-medium w-48 border-gray-500 text-md h-14 rounded-md my-3",children:"Οι Αγγελίες μου"})})]})}function Yf({action:n="Δημιουργία Νέας Αγγελίας"}){const e=Cn(),{id:t}=_o(),r=cr(),{state:s}=r||{},i=s||"offers",{userData:o}=st(),[u,h]=C.useState({town:"",rows:[{index:0,area:"",neighborhood:[],canHost:""}],startingDate:"",months:"",childAge:"",timeType:""}),{data:p,isLoading:g}=Dt({queryFn:()=>LM(t),queryKey:["offers",t],retry:!1,enabled:n==="Προβολή Αγγελίας"||n==="Επεξεργασία Αγγελίας"&&!!t}),{mutateAsync:y,isPending:x}=qt({mutationFn:()=>FM({...u,userId:o.id}),retry:!1,onSuccess:()=>{e("/nannyoffers",{state:{successMessage:"Η αγγελία αποθηκεύτηκε στις μη οριστικοποιημένες με επιτυχία."}})}});C.useEffect(()=>{if(!g&&p){const A=n==="Προβολή Αγγελίας",M=n==="Επεξεργασία Αγγελίας";h({...u,town:M||A?(p==null?void 0:p.town)??"":"",rows:M||A?(p==null?void 0:p.rows)??[{index:0,area:"",neighborhood:[],canHost:""}]:[{index:0,area:"",neighborhood:[],canHost:""}],startingDate:M||A?(p==null?void 0:p.startingDate)??"":"",months:M||A?(p==null?void 0:p.months)??"":"",childAge:M||A?(p==null?void 0:p.childAge)??"":"",timeType:M||A?(p==null?void 0:p.timeType)??"":"",hasAccepted:A,hasSigned:A,cantEdit:A,id:M?p==null?void 0:p.id:null})}},[p,g,n]);const _=()=>!u.town&&u.rows.every(A=>!A.area&&A.neighborhood.length===0&&!A.canHost)&&!u.startingDate&&!u.months&&!u.childAge&&!u.timeType,[E,j]=C.useState(1),S=(A=1)=>j(M=>M+A);if(g)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center justify-center text-3xl font-medium",children:c.jsx("h1",{children:"Loading..."})});if(n==="Προβολή Αγγελίας"&&!g&&p||n==="Δημιουργία Νέας Αγγελίας"||n==="Επεξεργασία Αγγελίας")return c.jsxs("div",{className:"w-full min-h-screen flex flex-col bg-white",children:[_n(o,i==="history"?4:1),c.jsxs("div",{className:"flex flex-col bg-white flex-grow",children:[c.jsx("div",{className:"breadcrumbs  pl-5 text-md",children:c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(Le,{to:i==="offers"?"/nannyoffers":"/nannyhistory",children:i==="offers"?"Αγγελίες":"Ιστορικό"})}),c.jsx("li",{children:c.jsx("span",{className:"font-medium",children:n})})]})}),c.jsx("p",{className:"my-5 mx-auto text-3xl font-medium",children:n}),n!=="Προβολή Αγγελίας"&&c.jsx("div",{className:"w-11/12  mx-auto",children:c.jsx("button",{className:`border-2 font-medium w-48 border-gray-500 text-md px-2 h-16 rounded-md my-3  
                                            ${_()?"text-gray-500 cursor-not-allowed":"border-2 border-pallete-800 text-pallete-800 font-semibold hover:bg-pallete-800 hover:text-white hover:border-pallete-800"}    
                                `,disabled:_(),onClick:()=>y(),title:_()?"Παρακαλούμε τροποποιήστε κάποιο από τα πεδία πρώτα.":"",children:x?"Αποθήκευση...":"Προσωρινή Αποθήκευση"})}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col flex-grow bg-ςηιτε rounded-λγ shadow-md shadow-gray-600 mb-3 ",children:[E==1&&c.jsx(OT,{form:u,returnTo:i,setForm:h,nextFn:S}),E==2&&c.jsx(LT,{form:u,returnTo:i,setForm:h,nextFn:S}),E==3&&c.jsx(e7,{})]})]}),c.jsx(on,{})]})}Yf.propTypes={action:ie.string};function FT({id:n,type:e,role:t,setSuccessMessage:r}){const s=Cn(),[i,o]=C.useState(null),{data:u,isLoading:h}=Dt({queryFn:()=>VM(n),enabled:e==="jobOffer",queryKey:["jobOfferNotif",n]}),{data:p,isLoading:g}=Dt({queryFn:()=>UM(n),enabled:e==="contactRequest",queryKey:["contactRequestNotif",n]}),{data:y,isLoading:x}=Dt({queryFn:()=>$M(n),enabled:e==="payment",queryKey:["paymentNotif",n]}),{data:_,isLoading:E}=Dt({queryFn:()=>r6(n),enabled:e==="endOfJob",queryKey:["endOfJob",n]}),[j,S]=C.useState(!1),[A,M]=C.useState(!1),[P,L]=C.useState(!1),[D,B]=C.useState(0),[R,T]=C.useState(""),{mutateAsync:k,isPending:F}=qt({mutationFn:()=>s6(_==null?void 0:_.receiverId,_==null?void 0:_.senderId,D,R),onSuccess:()=>{T(""),B(0),L(!1)}}),$=()=>{M(!1),console.log("status in handle"+i),i==="renewed"&&s(`/renewapplication/${_==null?void 0:_.applicationId}`)};if(C.useEffect(()=>{p&&o(p==null?void 0:p.status),u&&o(u==null?void 0:u.status),y&&o(y==null?void 0:y.status),_&&o(_==null?void 0:_.status)},[p,u,y,_]),h||g||x||E)return c.jsx(c.Fragment,{children:c.jsxs("div",{className:"rounded-md bg-gray-200 mx-auto mt-5 w-2/3 flex items-center h-32",children:[c.jsxs("div",{className:"w-3/4 h-full rounded-l-md flex items-center space-x-3 px-4",children:[c.jsx("div",{className:"h-28 w-32 bg-gray-500 rounded-full animate-pulse"}),c.jsxs("div",{className:"h-full w-full flex flex-col justify-center space-y-2",children:[c.jsx("div",{className:"h-4 bg-gray-500 rounded-md animate-pulse w-3/4"}),c.jsx("div",{className:"h-4 bg-gray-500 rounded-md animate-pulse w-5/6"})]})]}),c.jsx("div",{className:"w-1/4 h-full rounded-r-md font-medium pr-5 flex items-center justify-center",children:c.jsx("div",{className:"h-8 w-full bg-gray-500 rounded-md animate-pulse"})})]})});if((!h&&e==="jobOffer"||!g&&e==="contactRequest"||!x&&e==="payment"||!E&&e==="endOfJob")&&!t)return c.jsxs("div",{className:"rounded-md bg-white shadow-md border-black border-2 shadow-gray-400 mx-auto mt-5 w-2/3 flex items-center h-32",children:[c.jsxs("div",{className:"w-3/4 h-full rounded-l-md flex items-center",children:[c.jsx("div",{className:"h-full w-1/6 flex items-center px-5 py-1",children:c.jsx("img",{src:e==="jobOffer"?u==null?void 0:u.img:e==="contactRequest"?p==null?void 0:p.img:e==="payment"?y==null?void 0:y.img:_==null?void 0:_.img,className:"size-24 mx-auto object-cover rounded-full"})}),c.jsxs("div",{className:"h-full w-5/6 flex flex-col justify-center",children:[c.jsx("p",{className:"h-1/3  font-semibold pt-2 ",children:e==="jobOffer"?u==null?void 0:u.finalizedAt:e==="contactRequest"?p==null?void 0:p.createdAt:e==="payment"?y==null?void 0:y.createdAt:_==null?void 0:_.createdAt}),e==="jobOffer"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:[u!=null&&u.gender?"Ο":"Η"," ",c.jsxs(Le,{to:`/parentprofile/${u==null?void 0:u.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[u==null?void 0:u.senderName," ",u==null?void 0:u.senderSurname]})," σας έστειλε ",c.jsx("button",{onClick:()=>S(U=>!U),className:"underline hover:text-pallete-800 ml-1",children:"συμφωνητικό απασχόλησης"}),"."]}),e==="contactRequest"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:[p!=null&&p.gender?"Ο":"Η"," ",c.jsxs(Le,{to:`/parentprofile/${p==null?void 0:p.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[p==null?void 0:p.senderName," ",p==null?void 0:p.senderSurname]})," σας έστειλε αίτημα επικοινωνίας."]}),e==="payment"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:[y!=null&&y.gender?"Ο":"Η"," ",c.jsxs(Le,{to:`/parentprofile/${y==null?void 0:y.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[y==null?void 0:y.senderName," ",y==null?void 0:y.senderSurname]})," σας έστειλε Voucher πληρωμής."]}),e==="endOfJob"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:["Η συνεργασία σας με ",_!=null&&_.gender?"τον":"την"," ",c.jsxs(Le,{to:`/parentprofile/${_==null?void 0:_.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[_==null?void 0:_.senderName," ",_==null?void 0:_.senderSurname]})," έληξε."]})]})]}),c.jsxs("div",{className:"w-1/4 h-full rounded-r-md font-medium flex items-center justify-center gap-4 pr-4 ",children:[e==="contactRequest"&&c.jsxs(c.Fragment,{children:[i!=="accepted"&&c.jsxs("button",{className:`
                                            h-1/2 w-1/2 text-xl rounded-md text-white
                                            ${i==="pending"&&"bg-red-600 hover:bg-red-500"}   
                                            ${i==="rejected"&&"bg-white"}
                                            ${i==="accepted"&&"bg-red-200"}
                                        `,onClick:()=>{o("rejected"),HM(n)},disabled:i!=="pending",children:[i==="pending"&&"Απόρριψη",i==="rejected"&&c.jsxs("span",{className:"mx-auto flex items-center justify-center gap-1 text-red-600",children:[c.jsx(v0,{className:"text-3xl "}),"Απερρίφθη"]})]}),i!=="rejected"&&c.jsxs("button",{className:`
                                                h-1/2 w-1/2 text-xl bg-green-600 rounded-md text-white 
                                                ${i==="pending"&&"bg-green-600 hover:bg-green-500"}   
                                                ${i==="rejected"&&"bg-green-200"}
                                                ${i==="accepted"&&"bg-white"}
                                            `,onClick:async()=>{o("accepted"),WM(n),r("Μπορείτε να βρείτε τις λεπτομέρειες πηγαίνοντας Ιστορικό > Επικοινωνίες.")},disabled:i!=="pending",children:[i==="pending"&&"Αποδοχή",i==="accepted"&&c.jsxs("span",{className:"mx-auto flex items-center justify-center gap-1 text-green-600",children:[c.jsx(pc,{}),"Εγκρίθηκε"]})]})]}),e==="jobOffer"&&c.jsxs(c.Fragment,{children:[i!=="accepted"&&c.jsxs("button",{className:`
                                        h-1/2 w-1/2 text-xl rounded-md text-white
                                        ${i==="pending"&&"bg-red-600 hover:bg-red-500"}   
                                        ${i==="rejected"&&"bg-white"}
                                        ${i==="accepted"&&"bg-red-200"}
                                    `,onClick:async()=>{o("rejected"),XM(n),r("Μπορείτε να βρείτε αντίγραφό του πηγαίνοντας Ιστορικό > Συμφωνητικά.")},disabled:i!=="pending",children:[i==="pending"&&"Απόρριψη",i==="rejected"&&c.jsxs("span",{className:"mx-auto flex items-center justify-center gap-1 text-red-600",children:[c.jsx(v0,{className:"text-3xl "}),"Απερρίφθη"]})]}),i!=="rejected"&&c.jsxs("button",{className:`
                                            h-1/2 w-1/2 text-xl bg-green-600 rounded-md text-white  
                                            ${i==="pending"&&"bg-green-600 hover:bg-green-500"}   
                                            ${i==="rejected"&&"bg-green-200"}
                                            ${i==="accepted"&&"bg-white"}
                                        `,onClick:async()=>{o("accepted"),JM(n),r("Μπορείτε να βρείτε αντίγραφό του πηγαίνοντας Ιστορικό > Συμφωνητικά.")},disabled:i!=="pending",children:[i==="pending"&&"Αποδοχή",i==="accepted"&&c.jsxs("span",{className:"mx-auto flex items-center justify-center gap-1 text-green-600",children:[c.jsx(pc,{}),"Εγκρίθηκε"]})]})]}),e==="payment"&&c.jsx(c.Fragment,{children:c.jsxs("button",{className:`
                                                h-1/2 w-1/2 text-xl bg-green-600 rounded-md text-white 
                                                ${i==="pending"&&"bg-green-600 hover:bg-green-500"}   
                                                ${i==="rejected"&&"bg-green-200"}
                                                ${i==="accepted"&&"bg-white"}
                                            `,onClick:async()=>{o("accepted"),t6(n),r("Μπορείτε να βρείτε τον κωδικό Voucher πηγαίνοντας Ιστορικό > Πληρωμές.")},disabled:i!=="pending",children:[i==="pending"&&"Λήψη Voucher",i==="accepted"&&c.jsxs("span",{className:"mx-auto flex items-center justify-center gap-1 text-green-600",children:[c.jsx(pc,{}),"Λήφθηκε"]})]})})]}),j&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 ",children:c.jsxs("div",{className:"bg-white w-3/4 h-3/4 flex flex-col  rounded-lg shadow-lg px-3 pt-2 pb-1 overflow-y-auto relative",children:[c.jsxs("div",{className:"w-full h-1/6 flex items-center ",children:[c.jsx("p",{className:"w-1/6 h-full"}),c.jsx("p",{className:"w-4/6 h-full font-medium text-3xl flex items-center justify-center bg-white",children:" Επιθεώρηση Συμφωνητικού Απασχόλησης"}),c.jsx("div",{className:"w-1/6 h-full flex items-center justify-end ",children:c.jsx("button",{className:"h-12 w-12 text-red-600  rounded-md flex items-center text-5xl font-medium justify-center bg-white",onClick:()=>S(!1),children:c.jsx(qS,{className:"hover:text-red-500"})})})]}),c.jsxs("div",{className:"w-full flex-grow rounded-md  bg-gray-100 px-2 ",children:[c.jsxs("p",{className:"pt-2 text-xl",children:["Ο χρήστης ",c.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.senderName," ",u==null?void 0:u.senderSurname]})," θέλει να σας απασχολήσει για χρονικό διάστημα ",c.jsxs("span",{className:"mx-1 font-medium",children:[u==null?void 0:u.months," ",(u==null?void 0:u.months)>1?"μηνών":"μήνα"]})," ξεκινώντας από τις",c.jsx("span",{className:"mx-2 font-bold",children:u==null?void 0:u.startingDate}),"για τις παρακάτω αναγραφόμενες ώρες:"]}),c.jsxs("table",{className:"table-auto w-full my-1 rounded-md text-xs bg-slate-200 border-collapse shadow-sm shadow-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-300 rounded-md",children:[c.jsx("th",{className:"px-2 py-1 text-center"}),Qn.map((U,V)=>c.jsx("th",{className:"px-2 cursor-default rounded-md text-center",children:U},V))]})}),c.jsx("tbody",{children:Ds.map((U,V)=>c.jsxs("tr",{className:"text-center border-y-2 border-slate-400 hover:bg-gray-100",children:[c.jsx("td",{className:"text-center cursor-default font-normal",children:U}),Qn.map((Pe,we)=>c.jsx("td",{className:"border-2 border-slate-400 border-x",children:u!=null&&u.schedule.some(xe=>xe.day===Pe&&xe.time===U)?c.jsx(pc,{className:"text-green-800 font-medium mx-auto"}):""},we))]},V))})]}),c.jsxs("p",{className:"pl-2 pt-2 text-xl",children:["στην οικία με διεύθυνση ",c.jsx("span",{className:"font-bold",children:u==null?void 0:u.address}),"."]})]})]})})]});if((!h&&e==="jobOffer"||!g&&e==="contactRequest"||!x&&e==="payment"||!E&&e==="endOfJob")&&t)return c.jsxs("div",{className:"rounded-md bg-white shadow-md border-black border-2 shadow-gray-400 mx-auto mt-5 w-2/3 flex items-center h-32",children:[c.jsxs("div",{className:"w-3/4 h-full rounded-l-md flex items-center",children:[c.jsx("div",{className:"h-full w-1/6 flex items-center px-5  py-1",children:c.jsx("img",{src:e==="jobOffer"?u==null?void 0:u.img:e==="contactRequest"?p==null?void 0:p.img:e==="payment"?y==null?void 0:y.img:_==null?void 0:_.img,className:"size-24 mx-auto object-cover rounded-full"})}),c.jsxs("div",{className:"h-full w-5/6 flex flex-col justify-center",children:[c.jsx("p",{className:"h-1/3  font-semibold pt-2 ",children:e==="jobOffer"?u==null?void 0:u.finalizedAt:e==="contactRequest"?p==null?void 0:p.createdAt:e==="payment"?y==null?void 0:y.createdAt:_==null?void 0:_.createdAt}),e==="jobOffer"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:[u!=null&&u.gender?"Ο":"Η"," ",c.jsxs(Le,{to:`/nannyprofile/${u==null?void 0:u.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[u==null?void 0:u.senderName," ",u==null?void 0:u.senderSurname]})," ",i==="accepted"?"ΑΠΟΔΈΧΤΗΚΕ":"ΑΠΈΡΡΙΨΕ"," το ",c.jsx(Le,{to:`/viewapplication/${u==null?void 0:u.applicationId}`,className:"underline hover:text-pallete-700 mx-1",children:"συμφωνητικό απασχόλησης "})," σας."]}),e==="contactRequest"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:[p!=null&&p.gender?"Ο":"Η"," ",c.jsxs(Le,{to:`/nannyprofile/${p==null?void 0:p.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[p==null?void 0:p.senderName," ",p==null?void 0:p.senderSurname]})," ",i==="accepted"?"ΑΠΟΔΈΧΤΗΚΕ":"ΑΠΈΡΡΙΨΕ"," το αίτημα επικοινωνίας σας."]}),e==="payment"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:[y!=null&&y.gender?"Ο":"Η"," ",c.jsxs(Le,{to:`/nannyprofile/${y==null?void 0:y.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[y==null?void 0:y.senderName," ",y==null?void 0:y.senderSurname]})," ",i==="accepted"?"ΑΠΟΔΈΧΤΗΚΕ":""," Voucher πληρωμής."]}),e==="endOfJob"&&c.jsxs("p",{className:"h-2/3 flex items-start pt-2  text-xl font-medium",children:["Η συνεργασία σας με ",_!=null&&_.gender?"τον":"την"," ",c.jsxs(Le,{to:`/nannyprofile/${_==null?void 0:_.senderId}`,className:"underline hover:text-pallete-800 mx-1",children:[_==null?void 0:_.senderName," ",_==null?void 0:_.senderSurname]})," έληξε."]})]})]}),c.jsx("div",{className:"w-1/4 h-full rounded-r-md font-medium flex items-center justify-center gap-4 pr-4 ",children:e==="endOfJob"&&c.jsxs(c.Fragment,{children:[i!=="renewed"&&c.jsxs("button",{className:`
                                        h-1/2 w-1/2 text-lg rounded-md font-semibold text-pallete-800 border-2 ${i==="pending"?"border-pallete-800":"border-white"}
                                        ${i==="pending"&&"bg-white hover:bg-pallete-700 hover:text-white"}   
                                        
                                    `,onClick:()=>{o("ended"),M(!0)},disabled:i!=="pending",children:[i==="pending"&&"Επιβεβαίωση Λήξης",i==="ended"&&c.jsxs("span",{className:"mx-auto flex items-center justify-center gap-1 text-pallete-800",children:[c.jsx(pc,{className:"text-xl "}),"Λήξαν"]})]}),i!=="ended"&&c.jsxs("button",{className:`
                                            h-1/2 w-1/2 text-lg rounded-md font-semibold text-pallete-800 border-2 ${i==="pending"?"border-pallete-800":"border-white"}
                                            ${i==="pending"&&"bg-white hover:bg-pallete-700 hover:text-white"}   
                                            
                                        `,onClick:()=>{o("renewed"),n6(_==null?void 0:_.applicationId,"renewed",_==null?void 0:_.id),M(!0)},disabled:i!=="pending",children:[i==="pending"&&"Ανανέωση Συμφωνητικού",i==="renewed"&&c.jsxs("span",{className:"mx-auto flex items-center justify-center gap-1 text-pallete-800",children:[c.jsx(Wv,{className:"text-xl "}),"Ανανεώθηκε"]})]})]})}),A&&c.jsx("div",{className:"fixed inset-0 z-50 flex  justify-center bg-black bg-opacity-40 ",children:c.jsxs("div",{className:"w-2/6 flex-col flex items-center py-8 justify-between h-1/6 rounded-md z-50 mt-20 bg-white shadow-xl px-1",children:[c.jsx("p",{className:"text-2xl w-full text-center  font-medium",children:"Θέλετε να αφήσετε μια κριτική για τον επαγγελματία;"}),c.jsxs("div",{className:"flex gap-5 justify-center  w-full  h-full mt-3",children:[c.jsx("button",{className:"border-2 border-red-600 font-semibold hover:bg-red-600 hover:text-white w-32 text-red-600 px-2 py-3 rounded-md ",onClick:()=>$(),children:"Όχι"}),c.jsx("button",{className:"border-2 border-green-600 font-semibold hover:bg-green-600 hover:text-white w-32 text-green-600 px-2 py-3 rounded-md ",onClick:()=>{M(!1),L(!0)},children:"Ναι"})]})]})}),P&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 ",children:c.jsxs("div",{className:"w-4/6 flex-col flex items-center h-4/6 overflow-y-auto rounded-md z-50 my-auto bg-white shadow-xl p-6",children:[c.jsx("div",{className:"flex items-center justify-end w-full",children:c.jsx("button",{onClick:()=>{L(!1)},children:c.jsx(v0,{className:"font-bold text-7xl text-red-700 hover:text-red-500"})})}),c.jsxs("p",{className:"text-center h-auto text-4xl",children:["Αξιολογήστε ",_!=null&&_.gender?"τον":"την "," ",c.jsx("span",{className:"font-medium",children:_==null?void 0:_.senderName})]}),c.jsx("div",{className:"flex items-center justify-center  mt-4",children:[1,2,3,4,5].map(U=>c.jsx("button",{onClick:()=>{B(D===U?0:U)},children:D>=U?c.jsx(Kv,{className:"text-amber-500 text-6xl"}):c.jsx(Qv,{className:"text-black text-6xl"})},U))}),c.jsxs("div",{className:"h-64 w-2/4 mt-10 flex flex-col items-end  justify-between",children:[c.jsx("textarea",{className:"w-full  h-48 max-h-48 resize-none rounded-md shadow-md border-2 border-gray-400 bg-white shadow-gray-600 p-2",value:R,placeholder:"Δώστε μια σύντομη περιγραφή (προαιρετικό)",onChange:U=>T(U.target.value)}),c.jsx("button",{className:`flex items-center mt-5 w-1/4 justify-center h-14    py-1 px-3 rounded-md font-semibold 
                                                ${D===0?"bg-gray-400 border-2 border-gray-400 text-white cursor-default":"border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-700 hover:text-white"}
                                    `,title:D===0?"Παρακαλούμε διαλέξτε πλήθος αστεριών.":"",onClick:async()=>{if(D>0)try{await k(),i==="renewed"&&s(`/renewapplication/${_==null?void 0:_.applicationId}`)}catch(U){console.error("Error submitting review:",U)}},disabled:D===0,children:F?c.jsx("span",{className:"loading loading-md"}):"Υποβολή Αξιολόγησης"})]})]})})]})}FT.propTypes={id:ie.string.isRequired,type:ie.string.isRequired,role:ie.bool.isRequired,setSuccessMessage:ie.func.isRequired};function t7(){const{userData:n,loading:e}=st(),{data:t,isLoading:r}=Dt({queryFn:()=>qM(n==null?void 0:n.id),enabled:!!n,queryKey:["notifications",n==null?void 0:n.id],refetchInterval:5e3,refetchOnMount:!0}),[s,i]=C.useState(""),o=3e3;if(C.useEffect(()=>{if(s.length>0){const u=setTimeout(()=>{i("")},o);return()=>clearTimeout(u)}},[s,o]),e)return c.jsx("div",{className:"w-full min-h-screen bg-white flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!e)return c.jsxs("div",{className:"w-full min-h-screen bg-white flex flex-col",children:[s.length>0&&c.jsxs("div",{role:"alert",className:"alert alert-success fixed top-20 left-1/2 transform z-10 -translate-x-1/2 w-1/2 flex items-center justify-center  p-4 rounded shadow",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current text-white text-2xl ",fill:"none",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-white font-bold text-xl",children:s})]}),_n(n,n!=null&&n.role?3:2),c.jsxs("div",{className:"flex-grow flex flex-col w-full pb-3 rounded-md bg-white",children:[r&&c.jsx("div",{className:"w-full flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!r&&(t==null?void 0:t.length)===0&&c.jsx("div",{className:"w-full flex-grow flex items-center justify-center",children:c.jsx("p",{className:"text-3xl font-semibold text-gray-500",children:"Δεν βρέθηκαν ειδοποιήσεις."})}),!r&&(t==null?void 0:t.length)!==0&&(t==null?void 0:t.map((u,h)=>c.jsx(FT,{id:u==null?void 0:u.id,type:u==null?void 0:u.type,role:n==null?void 0:n.role,setSuccessMessage:i},h)))]}),c.jsx(on,{})]})}function n7(n){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 11C4.51472 11 2.5 8.98528 2.5 6.5C2.5 4.01472 4.51472 2 7 2C9.48528 2 11.5 4.01472 11.5 6.5C11.5 8.98528 9.48528 11 7 11ZM17.5 15C15.2909 15 13.5 13.2091 13.5 11C13.5 8.79086 15.2909 7 17.5 7C19.7091 7 21.5 8.79086 21.5 11C21.5 13.2091 19.7091 15 17.5 15ZM17.5 16C19.9853 16 22 18.0147 22 20.5V21H13V20.5C13 18.0147 15.0147 16 17.5 16ZM7 12C9.76142 12 12 14.2386 12 17V21H2V17C2 14.2386 4.23858 12 7 12Z"},child:[]}]})(n)}function r7(){return c.jsxs("div",{className:"bg-white h-screen flex flex-col",children:[c.jsx(sm,{}),c.jsxs("div",{className:"flex-grow bg-white flex items-center  justify-evenly ",children:[c.jsx("div",{className:"h-1/2  w-1/5 flex items-center justify-center ",children:c.jsxs(Le,{className:"flex  justify-center flex-col items-center gap-4  hover:text-pallete-800 hover:underline",to:"/signupparent",children:[c.jsx(n7,{className:"text-9xl  "}),c.jsx("p",{className:"text-3xl font-medium ",children:"Γονέας"})]})}),c.jsx("div",{className:"border-x-2 border-gray-300 h-3/5"}),c.jsx("div",{className:"h-1/2  w-1/5 flex items-center justify-center ",children:c.jsxs(Le,{className:"flex  justify-center flex-col items-center gap-4  hover:text-pallete-800 hover:underline",to:"/signupnanny",children:[c.jsx(hM,{className:"text-9xl  "}),c.jsx("p",{className:"text-3xl font-medium ",children:"Επαγγελματίας"})]})})]}),c.jsx("div",{className:"w-full flex justify-center items-center mb-20 text-xl font-medium",children:c.jsxs("span",{children:["Έχετε ήδη εγγραφτεί;",c.jsxs(Le,{className:"underline ml-2 hover:text-pallete-700 font-extrabold",to:"/login",children:["Σύνδεση >"," "]})]})}),c.jsx(on,{})]})}function s7(){const{userData:n,loading:e}=st();Cn();const{data:t,isLoading:r}=Dt({queryFn:()=>FS(n==null?void 0:n.id),queryKey:["nannyReviews",n==null?void 0:n.id],enabled:!!n&&n.role===!1});if(e)return c.jsx("div",{className:"w-full bg-white h-screen flex justify-center items-center",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!e)return c.jsxs("div",{className:"w-full min-h-screen flex flex-col bg-white",children:[_n(n,n.role?0:3),c.jsxs("div",{className:"flex-grow bg-white pb-3 flex flex-col  w-full",children:[r&&c.jsxs("div",{className:"w-full flex-grow  flex items-center justify-center",children:[" ",c.jsx("span",{className:"loading loading-lg"})," "]}),!r&&(t==null?void 0:t.length)===0&&c.jsx("div",{className:"w-full flex-grow bg-white flex items-center justify-center",children:c.jsx("p",{className:"text-3xl font-semibold text-gray-500",children:"Δεν βρέθηκαν παλαιότερες κριτικές."})}),!r&&(t==null?void 0:t.length)>0&&t.map((s,i)=>c.jsx(pm,{seenFrom:n!=null&&n.role?"parent":"nanny",review:s,nannyName:n==null?void 0:n.name,nannySurname:n==null?void 0:n.surname,nannyImg:n==null?void 0:n.img},i))]}),c.jsx(on,{})]})}function i7(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>i6(n==null?void 0:n.id),queryKey:["applicationHistoryParent",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Συμφωνητικών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/5 text-center p-10",children:"Κωδικός"}),c.jsx("p",{className:"w-1/5 text-center",children:"Ονοματεπώνυμο Επαγγελματία"}),c.jsx("p",{className:"w-1/5",children:"Κατάσταση"}),c.jsxs("div",{className:"w-1/5 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Οριστικοποίησης"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/5 text-center p-10",children:"Ενέργεια"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col mb-5 gap-2 items-center justify-start overflow-y-auto mt-2 flex-grow",children:[t&&c.jsx("div",{className:"flex-grow  flex flex-col items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow  flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερα συμφωνητικά."})}),!t&&(e==null?void 0:e.length)>0&&Array.isArray(e)&&e.map((i,o)=>c.jsx(vx,{code:i.id,firstName:i.nannyName,lastName:i.nannySurname,returnTo:"history",status:i.status,finalDate:i.finalizedAt},o))]})]})}VT.propTypes={nannyName:ie.string.isRequired,nannySurname:ie.string.isRequired,id:ie.string.isRequired,date:ie.string.isRequired,voucher:ie.number.isRequired};function VT({nannyName:n,nannySurname:e,id:t,voucher:r,date:s}){return c.jsxs("div",{className:"w-full  mx-auto h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsxs(Le,{to:`/nannyprofile/${t}`,className:"w-1/3 h-full flex justify-center items-center  hover:text-pallete-600",children:[n," ",e]}),c.jsx("p",{className:"w-1/3 h-full flex justify-center items-center fon",children:s}),c.jsx("p",{className:"w-1/3 text-center",children:r})]})}function a7(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>QM(n==null?void 0:n.id),queryKey:["paymentHistoryParents",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Πληρωμών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/3 text-center p-10",children:"Ονοματεπώνυμο Επαγγελματία"}),c.jsxs("div",{className:"w-1/3 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Αποστολής Voucher"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/3 text-center p-10",children:"Κωδικός Voucher"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col mb-5 gap-2 items-center justify-start overflow-y-auto mt-2 flex-grow",children:[t&&c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερες πληρωμές."})}),!t&&(e==null?void 0:e.length)>0&&Array.isArray(e)&&e.map((i,o)=>c.jsx(VT,{id:i==null?void 0:i.nannyId,nannyName:i==null?void 0:i.nannyName,nannySurname:i==null?void 0:i.nannySurname,date:i==null?void 0:i.sentAt,voucher:i==null?void 0:i.voucherCode},o))]})]})}UT.propTypes={nannyName:ie.string.isRequired,nannySurname:ie.string.isRequired,id:ie.string.isRequired,contactType:ie.string.isRequired,contactInfo:ie.string.isRequired,date:ie.string.isRequired,status:ie.string.isRequired};function UT({nannyName:n,nannySurname:e,id:t,contactType:r,status:s,contactInfo:i,date:o}){return c.jsxs("div",{className:"w-full  mx-auto h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsxs(Le,{to:`/nannyprofile/${t}`,className:"w-1/4 h-full flex justify-center items-center  hover:text-pallete-600",children:[n," ",e]}),c.jsx("p",{className:"w-1/4 h-full flex justify-center items-center ",children:o}),c.jsx("p",{className:"w-1/4 text-center",children:s==="pending"?"Αναμονή Απάντησης":s}),c.jsxs("div",{className:"w-1/4  h-full  flex items-center justify-center gap-3",children:[r==="email"&&c.jsx(Jv,{className:"text-2xl"}),r==="phone"&&c.jsx(Zv,{className:"text-3xl"}),r==="skype"&&c.jsx(AS,{className:"text-3xl"}),c.jsxs("p",{className:"text-center",children:[r==="phone"&&"+30"," ",i]})]})]})}function o7(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>KM(n==null?void 0:n.id),queryKey:["contactHistoryParent",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Επικοινωνιών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/4 text-center",children:"Ονοματεπώνυμο Επαγγελματία"}),c.jsxs("div",{className:"w-1/4 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Αποστολής Αιτήματος"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/4 text-center",children:"Κατάσταση"}),c.jsx("p",{className:"w-1/4 text-center",children:"Στοιχεία Επικοινωνίας"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col mb-5 gap-2 items-center justify-start overflow-y-auto mt-2 flex-grow",children:[t&&c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερες επικοινωνίες."})}),!t&&(e==null?void 0:e.length)>0&&Array.isArray(e)&&e.map((i,o)=>c.jsx(UT,{id:i==null?void 0:i.receiverId,nannyName:i==null?void 0:i.nannyName,nannySurname:i==null?void 0:i.nannySurname,date:i==null?void 0:i.createdAt,contactInfo:i==null?void 0:i.contactInfo,contactType:i==null?void 0:i.contactType,status:i==null?void 0:i.status},o))]})]})}function l7(){const{userData:n}=st(),{data:e,isLoading:t,isFetching:r}=Dt({queryFn:()=>BM(n==null?void 0:n.id),queryKey:["parentReviewHistory",n==null?void 0:n.id],enabled:!!n}),[s,i]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Κριτικών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:o=>i(o.target.value),value:s,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"flex-grow bg-white flex flex-col w-11/12 mx-auto mt-5 mb-5 gap-2 items-center justify-start overflow-y-auto",children:[(t||r)&&c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!(t||r)&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερες κριτικές."})}),!(t||r)&&(e==null?void 0:e.length)>0&&e.map((o,u)=>{const h={...o,personName:n==null?void 0:n.name,personSurname:n==null?void 0:n.surname};return c.jsx(pm,{seenFrom:n!=null&&n.role?"parent":"nanny",review:h,nannyName:o.personName,nannySurname:o.personSurname,nannyImg:o.img},u)})]})]})}function $T({initialPage:n=1}){_o();const{userData:e,loading:t}=st(),[r,s]=C.useState(n);if(t)return c.jsx("div",{className:"w-full min-h-screen bg-white flex items-center text-black justify-center text-3xl font-medium",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!t&&e)return c.jsxs("div",{className:"w-full  min-h-screen flex flex-col items-center bg-white",children:[_n(e,5),c.jsxs("div",{className:"mt-5 mb-7 space-x-4 font-normal",children:[c.jsx("button",{onClick:()=>s(1),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer border-2 w-80 ${r===1?"bg-pallete-800 text-white border-white font-semibold ":"bg-white  text-pallete-800 font-semibold border-pallete-800"}   py-2 px-6 rounded-lg border-2   text-lg h-20`,children:"Συμφωνητικά"}),c.jsx("button",{onClick:()=>s(2),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer w-80 border-2 ${r===2?"bg-pallete-800 text-white border-white font-semibold ":"bg-white  text-pallete-800 font-semibold border-pallete-800"}  py-2 px-6 rounded-lg border   text-lg  h-20`,children:"Πληρωμές"}),c.jsx("button",{onClick:()=>s(3),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer  w-80 border-2 ${r===3?"bg-pallete-800 text-white border-white font-semibold ":"bg-white  text-pallete-800 font-semibold border-pallete-800"}  py-2 px-6 rounded-lg border  text-lg  h-20`,children:"Αξιολογήσεις"}),c.jsx("button",{onClick:()=>s(4),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer w-80 border-2 ${r===4?"bg-pallete-800 text-white border-white font-semibold ":"bg-white  text-pallete-800 font-semibold border-pallete-800"}  py-2 px-6 rounded-lg border   text-lg  h-20`,children:"Επικοινωνίες"})]}),c.jsxs("div",{className:" w-full flex-col flex-grow  flex  ",children:[r===1&&c.jsx(i7,{}),r===2&&c.jsx(a7,{}),r===3&&c.jsx(l7,{}),r===4&&c.jsx(o7,{})]}),c.jsx(on,{})]})}$T.propTypes={initialPage:ie.number};function zT({code:n,finalDate:e}){const t=Cn();return c.jsxs("div",{className:"w-full h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsx("div",{className:"w-1/3 text-center",children:c.jsx("p",{children:n})}),c.jsx("div",{className:"w-1/3 ",children:c.jsx("p",{children:e})}),c.jsx("div",{className:"w-1/3 flex justify-center px-2 gap-2 ",children:c.jsxs("button",{onClick:()=>t(`/viewoffer/${n}`,{state:"history"}),className:"w-2/3  h-14 rounded-md border-2 border-pallete-800 text-pallete-800 hover:text-white hover:bg-pallete-800 flex gap-2 items-center justify-center px-2",children:[c.jsx(yo,{className:"text-3xl"}),"Προβολή"]})})]})}zT.propTypes={code:ie.string.isRequired,finalDate:ie.string.isRequired};function c7(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>DM(n==null?void 0:n.id),queryKey:["archivedOffers",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Αγγελιών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/3 text-center p-10",children:"Κωδικός"}),c.jsxs("div",{className:"w-1/3 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Δημοσίευσης"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/3 text-center p-10",children:"Ενέργεια"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col mb-5 gap-2 items-center justify-start overflow-y-auto mt-2 flex-grow",children:[t&&c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερες αγγελίες."})}),!t&&(e==null?void 0:e.length)>0&&Array.isArray(e)&&e.map((i,o)=>c.jsx(zT,{code:i.id,returnTo:"history",finalDate:i.finalizedAt},o))]})]})}BT.propTypes={parentName:ie.string.isRequired,parentSurname:ie.string.isRequired,id:ie.string.isRequired,contactType:ie.string.isRequired,contactInfo:ie.string.isRequired,date:ie.string.isRequired};function BT({parentName:n,parentSurname:e,id:t,contactType:r,contactInfo:s,date:i}){return c.jsxs("div",{className:"w-full mx-auto h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsxs(Le,{to:`/parentprofile/${t}`,className:"w-1/3 h-full flex justify-center items-center hover:text-pallete-600",children:[n," ",e]}),c.jsx("p",{className:"w-1/3 h-full flex justify-center items-center ",children:i}),c.jsxs("div",{className:"w-1/3  h-full  flex items-center justify-center gap-3",children:[r==="email"&&c.jsx(Jv,{className:"text-2xl"}),r==="phone"&&c.jsx(Zv,{className:"text-3xl"}),r==="skype"&&c.jsx(AS,{className:"text-3xl"}),c.jsxs("p",{className:"",children:[r==="phone"&&"+30"," ",s]})]})]})}function u7(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>YM(n==null?void 0:n.id),queryKey:["nannyContacts",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Επικοινωνιών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/3 text-center",children:"Ονοματεπώνυμο Γονέα"}),c.jsxs("div",{className:"w-1/3 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Λήψης Αιτήματος"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/3 text-center",children:"Στοιχεία Επικοινωνίας"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col mb-5 gap-2 items-center justify-start overflow-y-auto mt-2 flex-grow",children:[t&&c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερες επικοινωνίες."})}),!t&&(e==null?void 0:e.length)>0&&Array.isArray(e)&&e.map((i,o)=>c.jsx(BT,{id:i==null?void 0:i.senderId,parentName:i==null?void 0:i.parentName,parentSurname:i==null?void 0:i.parentSurname,date:i==null?void 0:i.createdAt,contactInfo:i==null?void 0:i.contactInfo,contactType:i==null?void 0:i.contactType},o))]})]})}function qT({id:n,parentId:e,parentName:t,parentSurname:r,date:s,schedule:i,months:o,address:u,startingDate:h,status:p}){const[g,y]=C.useState(!1);return c.jsxs("div",{className:"w-full mx-auto h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium py-2",children:[c.jsx("p",{className:"w-1/5 text-center truncate",children:n}),c.jsxs(Le,{to:`/parentprofile/${e}`,className:"w-1/5  hover:text-pallete-700 text-center truncate",children:[t," ",r]}),c.jsx("p",{className:"w-1/5 text-center truncate",children:s}),c.jsx("p",{className:"w-1/5 text-center truncate",children:p}),c.jsx("div",{className:"w-1/5 flex justify-center ",children:c.jsxs("button",{className:"w-2/3  h-14 rounded-md border-2 border-pallete-800 text-pallete-800 hover:bg-pallete-800 hover:text-white flex gap-2 items-center justify-center px-2",onClick:()=>y(!0),children:[c.jsx(yo,{className:"text-3xl"}),"Προβολή"]})}),g&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 ",children:c.jsxs("div",{className:"bg-white w-3/4 h-3/4 flex flex-col  rounded-lg shadow-lg px-3 pt-2 pb-1 overflow-y-auto relative",children:[c.jsxs("div",{className:"w-full h-1/6 flex items-center ",children:[c.jsx("p",{className:"w-1/6 h-full"}),c.jsx("p",{className:"w-4/6 h-full font-medium text-3xl flex items-center justify-center bg-white",children:" Επιθεώρηση Συμφωνητικού Απασχόλησης"}),c.jsx("div",{className:"w-1/6 h-full flex items-center justify-end ",children:c.jsx("button",{className:"h-12 w-12 text-red-600  rounded-md flex items-center text-5xl font-medium justify-center bg-white",onClick:()=>y(!1),children:c.jsx(qS,{className:"hover:text-red-500"})})})]}),c.jsxs("div",{className:"w-full flex-grow rounded-md font-medium mb-2 shadow-md shadow-gray-700  bg-gray-100 px-2 ",children:[c.jsxs("p",{className:"pt-2 text-xl",children:["Ο χρήστης ",c.jsxs("span",{className:"font-bold",children:[t," ",r]})," θέλει να σας απασχολήσει για χρονικό διάστημα ",c.jsxs("span",{className:"mx-1 font-bold",children:[o," ",o>1?"μηνών":"μήνα"]})," ξεκινώντας από τις",c.jsx("span",{className:"mx-2 font-bold",children:h}),"για τις παρακάτω αναγραφόμενες ώρες:"]}),c.jsxs("table",{className:"table-auto w-full my-1  rounded-md text-xs bg-slate-200 border-collapse shadow-sm shadow-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-300 rounded-md",children:[c.jsx("th",{className:"px-2 py-1 text-center"}),Qn.map((x,_)=>c.jsx("th",{className:"px-2 cursor-default rounded-md text-center",children:x},_))]})}),c.jsx("tbody",{children:Ds.map((x,_)=>c.jsxs("tr",{className:"text-center border-y-2 border-slate-400 hover:bg-gray-100",children:[c.jsx("td",{className:"text-center cursor-default font-normal",children:x}),Qn.map((E,j)=>c.jsx("td",{className:"border-2 border-slate-400 border-x",children:i.some(S=>S.day===E&&S.time===x)?c.jsx(pc,{className:"text-green-800 font-medium mx-auto"}):""},j))]},_))})]}),c.jsxs("p",{className:"pl-2 pt-2  text-start text-xl",children:["στην οικία με διεύθυνση ",c.jsx("span",{className:"font-bold",children:u}),"."]})]})]})})})]})}qT.propTypes={id:ie.string.isRequired,parentId:ie.string.isRequired,parentName:ie.string.isRequired,parentSurname:ie.string.isRequired,date:ie.string.isRequired,schedule:ie.arrayOf(ie.shape({time:ie.string.isRequired,day:ie.string.isRequired})).isRequired,months:ie.string.isRequired,address:ie.string.isRequired,startingDate:ie.string.isRequired,status:ie.string.isRequired};function d7(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>a6(n==null?void 0:n.id),queryKey:["nannyDeals",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Συμφωνητικών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/5 text-center",children:"Κωδικός"}),c.jsx("p",{className:"w-1/5 text-center",children:"Ονοματεπώνυμο Γονέα"}),c.jsxs("div",{className:"w-1/5 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Λήψης Συμφωνητικού"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/5 text-center",children:"Κατάσταση"}),c.jsx("p",{className:"w-1/5 text-center",children:"Ενέργεια"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col mb-5 gap-2 items-center justify-start overflow-y-auto mt-2 flex-grow",children:[t&&c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερα συμφωνητικά."})}),!t&&(e==null?void 0:e.length)>0&&Array.isArray(e)&&e.map((i,o)=>c.jsx(qT,{id:i==null?void 0:i.id,parentId:i==null?void 0:i.userId,parentName:i==null?void 0:i.parentData.name,parentSurname:i==null?void 0:i.parentData.surname,date:i==null?void 0:i.finalizedAt,schedule:i==null?void 0:i.schedule,months:i==null?void 0:i.months,address:i==null?void 0:i.address,startingDate:i==null?void 0:i.startingDate,status:i==null?void 0:i.status},o))]})]})}HT.propTypes={parentName:ie.string.isRequired,parentSurname:ie.string.isRequired,id:ie.string.isRequired,date:ie.string.isRequired,voucher:ie.number.isRequired};function HT({parentName:n,parentSurname:e,id:t,voucher:r,date:s}){return c.jsxs("div",{className:"w-full  mx-auto h-20 text-2xl rounded-md border-2 text-center border-gray-300 bg-white flex items-center font-medium  py-2",children:[c.jsxs(Le,{to:`/parentprofile/${t}`,className:"w-1/3 h-full flex justify-center items-center  hover:text-pallete-600",children:[n," ",e]}),c.jsx("p",{className:"w-1/3 h-full flex justify-center items-center fon",children:s}),c.jsx("p",{className:"w-1/3 text-center",children:r})]})}function h7(){const{userData:n}=st(),{data:e,isLoading:t}=Dt({queryFn:()=>GM(n==null?void 0:n.id),queryKey:["paymentHistoryNanny",n==null?void 0:n.id],enabled:!!n}),[r,s]=C.useState("date-desc");return c.jsxs("div",{className:"w-auto flex-grow py-2 flex flex-col h-full",children:[c.jsxs("div",{className:"w-11/12 mx-auto flex",children:[c.jsx("div",{className:"w-1/3"}),c.jsx("p",{className:"text-center font-bold w-1/3 text-4xl my-auto",children:"Ιστορικό Πληρωμών"}),c.jsxs("div",{className:"w-1/3 items-end justify-center flex flex-col",children:[c.jsx("p",{className:"text-lg font-medium",children:"Ταξινόμηση με βάση"}),c.jsxs("select",{onChange:i=>s(i.target.value),value:r,className:"select select-bordered rounded-md h-12 border-2 border-black pl-2 bg-white w-60 max-w-xs",children:[c.jsx("option",{value:"date-desc",children:"Ημερομηνία ↑"}),c.jsx("option",{value:"date-asc",children:"Ημερομηνία ↓"})]})]})]}),c.jsxs("div",{className:"w-11/12 mt-5 mx-auto h-16 text-center rounded-md bg-gray-300 border-2 border-gray-500 flex items-center font-medium text-xl",children:[c.jsx("p",{className:"w-1/3 text-center",children:"Κωδικός"}),c.jsxs("div",{className:"w-1/3 flex items-center justify-center gap-1",title:"Οι ημερομηνίες εμφανίζονται σε μορφή ΗΗ/ΜΜ/ΕΕΕΕ",children:[c.jsx("p",{children:"Ημερομηνία Λήψης Voucher"}),c.jsx(Fs,{className:"text-xl"})]}),c.jsx("p",{className:"w-1/3 text-center",children:"Κωδικός Voucher"})]}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col mb-5 gap-2 items-center justify-start overflow-y-auto mt-2 flex-grow",children:[t&&c.jsx("div",{className:"flex-grow flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!t&&(e==null?void 0:e.length)===0&&c.jsx("div",{className:"flex-grow flex flex-col items-center justify-center",children:c.jsx("p",{className:"text-center text-gray-500 text-2xl font-semibold",children:"Δεν βρέθηκαν παλαιότερες πληρωμές."})}),!t&&(e==null?void 0:e.length)>0&&Array.isArray(e)&&e.map((i,o)=>c.jsx(HT,{id:i==null?void 0:i.parentId,parentName:i==null?void 0:i.parentName,parentSurname:i==null?void 0:i.parentSurname,date:i==null?void 0:i.sentAt,voucher:i==null?void 0:i.voucherCode},o))]})]})}function WT({initialPage:n=1}){_o();const{userData:e,loading:t}=st(),[r,s]=C.useState(n);if(t)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center text-black justify-center text-3xl font-medium",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!t&&e)return c.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center bg-white",children:[_n(e,4),c.jsxs("div",{className:"mt-5 mb-7 space-x-4  ",children:[c.jsx("button",{onClick:()=>s(1),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer border-2 w-80 ${r===1?"bg-pallete-800 text-white border-pallete-800 font-semibold ":"bg-white text-pallete-800 font-semibold border-pallete-800"} py-2 px-6 rounded-lg text-lg h-20`,children:"Αγγελίες"}),c.jsx("button",{onClick:()=>s(2),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer border-2 w-80 ${r===2?"bg-pallete-800 text-white border-pallete-800 font-semibold ":"bg-white text-pallete-800 font-semibold border-pallete-800"} py-2 px-6 rounded-lg text-lg h-20`,children:"Συμφωνητικά"}),c.jsx("button",{onClick:()=>s(3),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer border-2 w-80 ${r===3?"bg-pallete-800 text-white border-pallete-800 font-semibold ":"bg-white text-pallete-800 font-semibold border-pallete-800"} py-2 px-6 rounded-lg text-lg h-20`,children:"Πληρωμές"}),c.jsx("button",{onClick:()=>s(4),className:`hover:text-white hover:bg-pallete-700 hover:border-pallete-700 hover:border-2 cursor-pointer border-2 w-80 ${r===4?"bg-pallete-800 text-white border-pallete-800 font-semibold ":"bg-white text-pallete-800 font-semibold border-pallete-800"} py-2 px-6 rounded-lg text-lg h-20`,children:"Επικοινωνίες"})]}),c.jsxs("div",{className:" w-full flex-col flex-grow flex ",children:[r===1&&c.jsx(c7,{}),r===2&&c.jsx(d7,{}),r===3&&c.jsx(h7,{}),r===4&&c.jsx(u7,{})]}),c.jsx(on,{})]})}WT.propTypes={initialPage:ie.number};function YT({myId:n,form:e,setForm:t,nextFn:r,returnTo:s}){const[i,o]=C.useState({name:"",surname:"",AMKA:""}),u=S=>{const{name:A,value:M}=S.target;t(L=>({...L,[A]:M}));let P="";A==="name"||A==="surname"?/\d/.test(M)?P="Δεν επιτρέπονται αριθμοί.":/\s/.test(M)&&(P="Επιτρέπονται μόνο χαρακτήρες αλφάβητου."):A==="AMKA"&&(/^\d*$/.test(M)?M.length!==11&&M.length!==0?P="Το ΑΜΚΑ πρέπει να αποτελείται από 11 ψηφία.":M.length>0&&!h.some(L=>L.AMKA===M&&L.name===e.name&&L.surname===e.surname)?(P="Το ΑΜΚΑ που εισάγατε δεν αντιστοιχεί στον συγκεκριμένο επαγγελματία.",t(L=>({...L,correctAMKA:!1}))):M.length>0&&h.some(L=>L.AMKA===M&&L.name===e.name&&L.surname===e.surname)&&t(L=>({...L,correctAMKA:!0})):P="Επιτρέπονται μόνο αριθμοί."),o(L=>({...L,[A]:P}))},{data:h,isLoading:p}=Dt({queryKey:["nannies"],queryFn:()=>$S(n),enabled:e.cantEdit&&!!n}),[g,y]=C.useState(""),[x,_]=C.useState([]);C.useEffect(()=>{h&&_(h.map(S=>({img:S.img,name:S.name,surname:S.surname,AMKA:S.AMKA})))},[h]),C.useEffect(()=>{_(g!==""?h.filter(S=>S.name.toLowerCase().includes(g.toLowerCase())||S.surname.toLowerCase().includes(g.toLowerCase())):h),console.log(x)},[g]);const[E,j]=C.useState("");return c.jsxs("div",{className:"w-full",children:[!e.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),e.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2  mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-1/6 h-1 bg-gray-400 w-3/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]})]}),c.jsx("p",{className:"text-3xl font-medium mt-16 text-center",children:"Στοιχεία Επαγγελματία"}),c.jsxs("div",{className:" h-96 flex",children:[c.jsx("div",{className:"w-1/3  py-5 flex items-center",children:!e.cantEdit&&c.jsxs("div",{className:"h-full w-3/4  mx-auto flex flex-col items-center pb-3 px-5",children:[c.jsx("p",{className:"font-semibold mt-2 text-lg",children:"Επαγγελματίες από τις επαφές σας:"}),c.jsx("input",{value:g,onChange:S=>y(S.target.value),className:"w-full h-12 mb-1 border-2 rounded-md pl-2 mt-2 bg-white border-gray-300",placeholder:"Ψάξτε επαγγελματία",disabled:e.cantEdit}),c.jsxs("div",{className:"bg-white overflow-y-auto h-full w-full border-2 border-gray-300 shadow-md rounded-md shadow-gray-700",children:[e.cantEdit&&c.jsx("div",{className:"w-full h-full bg-gray-300"}),p&&c.jsx("div",{className:"h-full w-full flex items-center justify-center",children:c.jsx("span",{className:"loading loading-lg"})}),!e.cantEdit&&(x==null?void 0:x.length)>0&&(x==null?void 0:x.map((S,A)=>c.jsxs("div",{onClick:()=>{t(M=>({...M,name:S.name,surname:S.surname})),j(S.AMKA)},className:` ${E===S.AMKA?"text-pallete-900 underline":"text-black"} flex h-20 pl-5 items-center border-b-2 border-gray-300 hover:bg-white bg-slate-50 hover:text-pallete-500 cursor-pointer`,children:[c.jsx("img",{src:S.img,className:"h-16 w-16 rounded-full object-cover"}),c.jsxs("p",{className:"text-lg font-medium ml-4",children:[S.name," ",S.surname]})]},A))),!e.cantEdit&&(x==null?void 0:x.length)===0&&c.jsx("div",{className:"h-full w-full flex items-center justify-center",children:c.jsx("p",{children:"Δεν βρέθηκαν αποτελέσματα."})})]})]})}),c.jsxs("div",{className:"w-1/3  pl-32 flex pt-14 flex-col ",children:[c.jsxs("div",{className:"w-3/5  mt-4",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"Όνομα"}),i.name&&c.jsx("p",{className:"text-red-500 text-md ",children:i.name}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${e.cantEdit?"bg-gray-300":"bg-white"}  ${i.name?"border-red-500":"border-gray-300"}`,value:e.name,name:"name",disabled:e.cantEdit,onChange:u})]}),c.jsxs("div",{className:"w-3/5 mt-4",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"Επώνυμο"}),i.surname&&c.jsx("p",{className:"text-red-500 text-md",children:i.surname}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${e.cantEdit?"bg-gray-300":"bg-white"} ${i.surname?"border-red-500":"border-gray-300"}`,value:e.surname,name:"surname",disabled:e.cantEdit,onChange:u})]}),c.jsxs("div",{className:"w-3/5  mt-4",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"AMKA"}),i.AMKA&&c.jsx("p",{className:"text-red-500 text-md",children:i.AMKA}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${e.cantEdit?"bg-gray-300":"bg-white"} ${i.AMKA?"border-red-500":"border-gray-300"}`,value:e.AMKA,name:"AMKA",disabled:e.cantEdit,onChange:u})]})]}),c.jsx("div",{className:"w-1/3"})]}),c.jsx("div",{className:"w-11/12  mx-auto flex justify-end ",children:c.jsx("button",{onClick:()=>{r(1)},className:"bg-white border-2 font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Επόμενο"})})]})}YT.propTypes={myId:ie.string.isRequired,form:ie.object.isRequired,setForm:ie.func.isRequired,nextFn:ie.func.isRequired,returnTo:ie.string};function KT({form:n,setForm:e,nextFn:t,returnTo:r}){const{userData:s}=st(),[i,o]=C.useState(()=>{if(n.startingDate){const[P,L,D]=n.startingDate.split("/");return new Date(`${L}/${P}/${D}`)}return new Date}),u=P=>{const{name:L,value:D}=P.target;e(L!=="hasAccepted"&&L!=="hasSigned"?B=>({...B,[L]:D}):B=>({...B,[L]:!B[L]}))},h=P=>{o(P);const L=`${P.getDate().toString().padStart(2,"0")}/${(P.getMonth()+1).toString().padStart(2,"0")}/${P.getFullYear()}`;e(D=>({...D,startingDate:L}))},p=(P,L)=>{if(!P||!L)return"";const[D,B,R]=P.split("/"),T=new Date(`${B}/${D}/${R}`);T.setMonth(T.getMonth()+parseInt(L));const k=T.getDate().toString().padStart(2,"0"),F=(T.getMonth()+1).toString().padStart(2,"0"),$=T.getFullYear();return`${k}/${F}/${$}`},g=P=>{if(!P)return"";const[L,D,B]=P.split("/"),R=new Date(`${D}/${L}/${B}`);return new Intl.DateTimeFormat("en-GB").format(R)},y=p(n.startingDate,n.months),[x,_]=C.useState(!1),E=(P,L)=>{const D=n.schedule.some(B=>B.day===P&&B.time===L)?n.schedule.filter(B=>!(B.day===P&&B.time===L)):[...n.schedule,{day:P,time:L}];e(B=>({...B,schedule:D}))},j=P=>{e(L=>{const B=Ds.every(R=>L.schedule.some(T=>T.day===P&&T.time===R))?L.schedule.filter(R=>R.day!==P):[...L.schedule,...Ds.map(R=>({day:P,time:R}))];return{...L,schedule:B}})},S=P=>{e(L=>{const B=Qn.every(R=>L.schedule.some(T=>T.day===R&&T.time===P))?L.schedule.filter(R=>R.time!==P):[...L.schedule,...Qn.map(R=>({day:R,time:P}))];return{...L,schedule:B}})},{mutateAsync:A,isPending:M}=qt({mutationFn:()=>OS({...n,userId:s==null?void 0:s.id}),onSuccess:()=>{t(1)},onError:P=>{console.error("Error:",P)}});return c.jsxs("div",{className:"w-full",children:[!n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-5 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-pallete-800 w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-gray-400 w-2/6"}),c.jsxs("div",{className:"text-gray-400 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-gray-400 justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),n.cantEdit&&c.jsxs("div",{className:"w-3/4 mt-2  mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-1/6 h-1 bg-pallete-800 w-3/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]})]}),c.jsx("button",{onClick:()=>t(-1),className:"bg-white  mt-10 ml-10 flex items-center justify-center font-medium border-2 size-14 border-gray-500 text-md rounded-md ",children:c.jsx(tx,{className:"text-3xl"})}),c.jsx("p",{className:"text-3xl font-medium mt-5 mb-10 text-center",children:"Περιοχή και Πρόγραμμα"}),c.jsxs("div",{className:"w-1/6 mx-auto",children:[c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("p",{className:"text-xl ml-1 font-medium",children:"Διεύθυνση Οικίας"}),c.jsx(RS,{className:"text-md",title:"Μπορεί να συμπληρωθεί και η διεύθυνση του επαγγελματία, κατόπιν συνεννόησης."})]}),c.jsx("input",{type:"text",className:`w-full font-medium h-10 border-2 rounded-md pl-2 mt-1 ${n.cantEdit?"bg-gray-300":"bg-white"} border-gray-300`,value:n.address,name:"address",disabled:n.cantEdit,onChange:u})]}),c.jsxs("div",{className:"w-1/2 mx-auto my-5 ",children:[c.jsx("p",{className:"text-xl text-center font-medium mb-4",children:"Πρόγραμμα"}),c.jsxs("table",{className:"table-auto w-full border-collapse border-2 bg-white border-gray-300 text-xs",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"border border-gray-300 "}),Qn.map(P=>c.jsx("th",{className:"border border-gray-300 p-1 cursor-pointer",onClick:()=>j(P),children:P},P))]})}),c.jsx("tbody",{children:Ds.map(P=>c.jsxs("tr",{children:[c.jsx("td",{className:"border border-gray-300 p-1 text-center cursor-pointer",onClick:()=>S(P),children:P}),Qn.map(L=>c.jsxs("td",{className:"border border-gray-300 px-1 text-center",children:[" ",c.jsx("input",{type:"checkbox",checked:n.schedule.some(D=>D.day===L&&D.time===P),onChange:()=>E(L,P),className:"checkbox checkbox-sm checkbox-secondary -my-1",disabled:n.cantEdit})]},`${L}-${P}`))]},P))})]}),c.jsx("div",{className:"w-full flex justify-end my-5",children:c.jsx("button",{className:"rounded-md bg-white border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white  font-medium p-2 ",onClick:()=>_(!0),disabled:n.cantEdit,children:"Καθαρισμός Ωρών"})})]}),c.jsxs("div",{className:"w-1/6 my-5 mx-auto",children:[c.jsx("p",{className:"text-xl ml-1 mb-1 font-medium",children:"Ημερομηνία Έναρξης"}),c.jsx(fm,{selected:i,onChange:n.cantEdit?void 0:h,minDate:new Date,inline:!0,disabledKeyboardNavigation:!0,dateFormat:"yyyy-MM-dd",className:`calendar-only ${n.cantEdit?"disabled-datepicker":""}`,disabled:n.cantEdit})]}),c.jsxs("div",{className:"w-1/6 mx-auto mt-4",children:[c.jsx("p",{className:"text-l font-medium",children:"Διάστημα Απασχόλησης"}),c.jsxs("select",{value:n.months,onChange:u,className:"select select-bordered rounded-md bg-white h-12 border-2 border-gray-300 pl-2 w-full max-w-xs",name:"months",disabled:n.cantEdit,children:[c.jsx("option",{disabled:!0,value:"",children:"Επιλέξτε"}),c.jsx("option",{value:1,children:"1 μήνας"}),c.jsx("option",{value:2,children:"2 μήνες"}),c.jsx("option",{value:3,children:"3 μήνες"}),c.jsx("option",{value:4,children:"4 μήνες"}),c.jsx("option",{value:5,children:"5 μήνες"}),c.jsx("option",{value:6,children:"6 μήνες"}),c.jsx("option",{value:7,children:"7 μήνες"}),c.jsx("option",{value:8,children:"8 μήνες"}),c.jsx("option",{value:9,children:"9 μήνες"})]})]}),c.jsxs("p",{className:"font-medium text-lg my-5 text-center",children:["Απασχόληση από ",c.jsx("span",{className:"mx-1 text-xl underline",children:g(n.startingDate)}),"έως ",c.jsx("span",{className:"mx-1 text-xl underline ",children:g(y)})]}),c.jsx("div",{className:"w-1/3 my-10 mx-auto",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"mr-2 h-6 w-6",checked:n.hasAccepted||!1,name:"hasAccepted",onChange:u,disabled:n.cantEdit}),c.jsxs("span",{className:"text-lg font-medium",children:["Αποδέχομαι τους ",c.jsx("span",{className:"underline",children:"όρους χρήσης"})]})]})}),c.jsx("div",{className:"w-1/3 my-10 mx-auto ",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"mr-2 h-6 w-6",checked:n.hasSigned||!1,name:"hasSigned",onChange:u,disabled:n.cantEdit}),c.jsx("span",{className:"text-lg font-medium",children:"Ψηφιακή Υπογραφή"})]})}),c.jsxs("div",{className:"w-11/12 mx-auto flex justify-end",children:[!n.cantEdit&&c.jsx("button",{onClick:()=>A(),className:` border-2 font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3
                                        ${!n.hasAccepted||!n.hasSigned||n.startingDate===""||n.months===""||n.address===""||n.name===""||n.surname===""||n.AMKA===""||n.schedule.length===0||n.AMKA.length!==11||n.correctAMKA===!1?"bg-gray-300":"bg-white"}
                            `,disabled:!n.hasAccepted||!n.hasSigned||n.startingDate===""||n.months===""||n.address===""||n.name===""||n.surname===""||n.AMKA===""||n.AMKA.length!==11||n.schedule.length===0||n.correctAMKA===!1,title:`${!n.hasAccepted||!n.hasSigned||n.startingDate===""||n.months===""||n.address===""||n.name===""||n.surname===""||n.AMKA===""||n.schedule.length===0||n.AMKA.length!==11||n.correctAMKA===!1?"Παρακαλώ συμπληρώστε σωστά όλα τα πεδία.":""}`,children:M?"Οριστικοποίηση...":"Οριστικοποίηση Συμφωνητικού"}),n.cantEdit&&r==="applications"&&c.jsx(Le,{to:"/parentapplications",className:" border-2 flex items-center justify-center bg-white font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Τα Συμφωνητικά Μου"}),n.cantEdit&&r==="history"&&c.jsx(Le,{to:"/parentHistory",className:" border-2 flex items-center text-center justify-center bg-white font-medium w-48 border-gray-500 text-md px-2 mr-10 h-14 rounded-md my-3",children:"Επιστροφή Στο Ιστορικό"})]}),x&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40"}),c.jsxs("div",{className:"fixed top-24 left-1/2 transform -translate-x-1/2 w-1/3 rounded-md z-50 bg-white shadow-xl p-6",children:[c.jsx("h3",{className:"font-bold text-lg",children:"Προσοχή!"}),c.jsx("p",{className:"py-4",children:"Πρόκειται να σβήσετε όλες τις ώρες που έχετε επιλέξει. Συνέχεια;"}),c.jsx("div",{className:"modal-action",children:c.jsxs("form",{method:"dialog",className:"flex gap-3",children:[c.jsx("button",{className:"bg-red-500 py-2 px-3 rounded-md font-semibold text-white",onClick:()=>_(!1),children:"Ακύρωση"}),c.jsx("button",{className:"text-black border-2 border-black py-2 px-3 rounded-md font-semibold text",onClick:()=>{e(P=>({...P,schedule:[]})),_(!1)},children:"Επιβεβαίωση"})]})})]})]})]})}KT.propTypes={form:ie.object.isRequired,setForm:ie.func.isRequired,nextFn:ie.func.isRequired,returnTo:ie.string};function f7({form:n,setForm:e,nextFn:t}){return c.jsxs("div",{className:"w-full  flex flex-col flex-grow",children:[c.jsxs("div",{className:"w-3/4 mt-5 mx-auto flex justify-around items-center relative",children:[c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"1"}),c.jsx("span",{children:"Στοιχεία Επαγγελματία"})]}),c.jsx("div",{className:"absolute top-4 left-60 h-1 bg-pallete-800 w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800 justify-center",children:"2"}),c.jsx("span",{children:"Περιοχή και Πρόγραμμα"})]}),c.jsx("div",{className:"absolute top-4  mr-6 right-40 h-1 bg-pallete-800  w-2/6"}),c.jsxs("div",{className:"text-pallete-800 z-10 text-xl font-semibold flex flex-col items-center justify-center relative",children:[c.jsx("span",{className:"rounded-full h-8 w-8 text-white flex items-center bg-pallete-800  justify-center",children:"3"}),c.jsx("span",{children:"Οριστικοποίηση"})]})]}),c.jsx("p",{className:"text-3xl font-medium mt-10 text-center",children:"Το Συμφωνητικό Οριστικοποιήθηκε Επιτυχώς."}),c.jsx(Hv,{className:"text-9xl text-green-500 my-5 mx-auto"}),c.jsx("div",{className:"w-11/12  mx-auto flex justify-center ",children:c.jsx(Le,{to:"/parentapplications",className:"bg-white border-2  flex items-center justify-center text-lg font-medium w-52 border-gray-500 text-md h-14 rounded-md my-3",children:"Τα Συμφωνητικά Μου"})})]})}function p7(){const n="Δημιουργία Νέου Συμφωνητικού",e=Cn(),{id:t}=_o(),{userData:r,loading:s}=st(),[i,o]=C.useState({name:"",surname:"",AMKA:"",address:"",schedule:[],startingDate:"",months:"",hasAccepted:!1,hasSigned:!1,correctAMKA:!1,cantEdit:!1}),{data:u,isLoading:h}=Dt({queryFn:()=>MS(t),queryKey:["renewApplication",t],retry:!1}),{mutateAsync:p,isPending:g}=qt({mutationFn:()=>LS({...i,userId:r.id}),retry:!1,onSuccess:()=>e("/parentapplications")});C.useEffect(()=>{!h&&u&&o({...i,name:(u==null?void 0:u.nannyName)??"",surname:(u==null?void 0:u.nannySurname)??"",AMKA:(u==null?void 0:u.nannyAMKA)??"",address:(u==null?void 0:u.address)??"",schedule:(u==null?void 0:u.schedule)??[],startingDate:"",months:"",id:null,correctAMKA:!0})},[u,h,n]);const[y,x]=C.useState(1),_=(E=1)=>x(j=>j+E);if(h||s)return c.jsx("div",{className:"w-full h-screen bg-white flex items-center justify-center text-3xl font-medium",children:c.jsx("span",{className:"text-3xl font-bold",children:"Φόρτωση..."})});if(!h&&u)return c.jsxs("div",{className:"w-full min-h-screen flex flex-col bg-white",children:[_n(r,2),c.jsxs("div",{className:"flex flex-col bg-white flex-grow",children:[c.jsx("div",{className:"breadcrumbs  pl-5 text-md",children:c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(Le,{to:"/parentapplications",children:"Συμφωνητικά"})}),c.jsx("li",{children:c.jsx("p",{className:"font-semibold",children:n})})]})}),c.jsx("p",{className:"my-5 mx-auto text-3xl font-medium",children:n}),y!==3&&c.jsx("div",{className:"w-11/12  mx-auto",children:c.jsx("button",{className:`border-2 font-medium w-48 border-gray-500 text-md px-2 h-16 rounded-md my-3 
                                    ${i.name===""&&i.surname===""&&i.AMKA===""&&i.address===""&&i.schedule.length===0&&i.startingDate===""&&i.months===""&&!i.hasAccepted&&!i.hasSigned?"cursor-not-allowed bg-gray-200":"cursor-pointer bg-white"}
                                `,onClick:()=>p(),title:i.name===""||i.surname===""||i.AMKA===""||i.address===""||i.schedule.length===0||i.startingDate===""||i.months===""||!i.hasAccepted||!i.hasSigned?"Συμπληρώστε κάποιο από τα πεδία πρώτα.":"",disabled:g||i.name===""&&i.surname===""&&i.AMKA===""&&i.address===""&&i.schedule.length===0&&i.startingDate===""&&i.months===""&&!i.hasAccepted&&!i.hasSigned,children:g?"Αποθήκευση...":"Προσωρινή Αποθήκευση"})}),c.jsxs("div",{className:"w-11/12 mx-auto flex flex-col flex-grow bg-white rounded-lg shadow-md shadow-gray-600 mb-3 ",children:[y==1&&c.jsx(YT,{myId:r==null?void 0:r.id,form:i,setForm:o,nextFn:_}),y==2&&c.jsx(KT,{form:i,setForm:o,nextFn:_}),y==3&&c.jsx(f7,{})]})]}),c.jsx(on,{})]})}const m7=Xk([{path:"/",element:c.jsx(h6,{})},{path:"/search",element:c.jsx(I9,{})},{path:"/login",element:c.jsx(R9,{})},{path:"/signup",element:c.jsx(r7,{})},{path:"/about",element:c.jsx(P9,{})},{path:"/parentsettings",element:c.jsx(A9,{})},{path:"/nannysettings",element:c.jsx(G9,{})},{path:"/parentpayments",element:c.jsx(U9,{})},{path:"/parentapplications",element:c.jsx(B9,{})},{path:"/nannyoffers",element:c.jsx(Z9,{})},{path:"/notifications",element:c.jsx(t7,{})},{path:"/signupparent",element:c.jsx(jy,{role:!0})},{path:"/signupnanny",element:c.jsx(jy,{role:!1})},{path:"/reviews",element:c.jsx(s7,{})},{path:"/parenthistory",element:c.jsx($T,{})},{path:"/nannyhistory",element:c.jsx(WT,{})},{path:"/contact/:id",element:c.jsx(F9,{})},{path:"/parentprofile/:id",element:c.jsx(D9,{})},{path:"/nannyprofile/:id",element:c.jsx(M9,{})},{path:"/applicationform",element:c.jsx(Wf,{})},{path:"/viewapplication/:id",element:c.jsx(Wf,{action:"Προβολή Συμφωνητικού"})},{path:"/editapplication/:id",element:c.jsx(Wf,{action:"Επεξεργασία Συμφωνητικού"})},{path:"/renewapplication/:id",element:c.jsx(p7,{})},{path:"/offerform",element:c.jsx(Yf,{})},{path:"/viewoffer/:id",element:c.jsx(Yf,{action:"Προβολή Αγγελίας"})},{path:"/editoffer/:id",element:c.jsx(Yf,{action:"Επεξεργασία Αγγελίας"})}]),QT=new P5;uj.createRoot(document.getElementById("root")).render(c.jsx(C.StrictMode,{children:c.jsx(L5,{client:QT,children:c.jsx(Q5,{children:c.jsx(uI,{router:m7})})})}));
